require=function e(t,s,i){function a(o,c){if(!s[o]){if(!t[o]){var r="function"==typeof require&&require;if(!c&&r)return r(o,!0);if(n)return n(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var d=s[o]={exports:{}};t[o][0].call(d.exports,function(e){var s=t[o][1][e];return a(s?s:e)},d,d.exports,e,t,s,i)}return s[o].exports}for(var n="function"==typeof require&&require,o=0;o<i.length;o++)a(i[o]);return a}({AdvertItem:[function(e,t,s){"use strict";cc._RFpush(t,"13a7dle1ehOG75EMd3e7liz","AdvertItem");e("CusWebView");cc.Class({"extends":cc.Component,properties:{AdvertSprite:cc.Sprite,Url:"",webViewPrefab:cc.Prefab},onLoad:function(){},updateAdverItem:function(e){this.Url=e.jumpurl,UpdateWXHeadIcon(e.pic,this.AdvertSprite)},callBackBtn:function(){var e={popView:"FindView",btn:"CallBackBtn",url:this.Url};return void GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:e})},getSpriteFrame2:function(e,t,s,i,a){var n=new XMLHttpRequest,o=this;n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<400){var e=n.responseText,t=BASE64.decoder(e),s=new Uint8Array(e,0,e.length);cc.log("text = "+s);var t=new Image;t.src=BASE64.decoder(e),cc.log("img.src = "+t.src);var i=new cc.Texture2D;i.initWithImage(t),i.handleLoadedTexture();var a=new cc.SpriteFrame(i);o.AdvertSprite.spriteFrame=a}},n.timeout=5e3,n.open("GET",e,!0),n.send()}}),cc._RFpop()},{CusWebView:"CusWebView"}],AlertView:[function(e,t,s){"use strict";function i(){this.rootNode=null,this.btnTypeFlag=AlertViewBtnType.E_BTN_CLOSE,this._positiveFlag=!1,this._negativeFlag=!1,this._callbackPositive=null,this._callbackNegative=null,this.positive=null,this.negative=null,this.positive_single=null,this.btnclose=null,this.positiveName="",this.negativeName="",this.positiveBtResNormal=null,this.reSet=function(){this.btnTypeFlag=AlertViewBtnType.E_BTN_CLOSE,this._positiveFlag=!1,this._negativeFlag=!1,this._callbackPositive=null,this._callbackNegative=null,this.positive=null,this.negative=null,this.positive_single=null,this.btnclose=null,this.positiveName="",this.negativeName=""},this.dismiss=function(){this.rootNode&&(this.reSet(),this.rootNode.removeFromParent(!0),this.rootNode=null)},this.show=function(e,t,s,i){this.dismiss();var a=this;window.loadPrefabs("prefabs/alertView",function(n){a.rootNode=n,a.updateView(n,e,t,s),void 0!=i&&(a.rootNode.tag=i)},s)},this.showOne=function(e,t,s){s?s.removeChildByTag(-100):cc.director.getScene().removeChildByTag(-100),this.show(e,t,s,-100)},this.updateView=function(e,t,s,i){e.on(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagation()}),this.btnTypeFlag=s,""!=t&&void 0!==t||(t="未知错误");var a=cc.find("Bg/Content",e).getComponent(cc.Label);a.string=t,this.positive_single=cc.find("Bg/BtnSureSingle",e),this.negative=cc.find("Bg/BtnCancle",e),this.positive=cc.find("Bg/BtnSure",e),this.btnclose=cc.find("Bg/BtnClose",e),this.btnTypeFlag==AlertViewBtnType.E_BTN_CLOSE?(this.negative.active=!1,this.positive.active=!1,this.positive_single.active=!0,this.btnclose.active=!0):(this.negative.active=!0,this.positive.active=!0,this.positive_single.active=!1,this.btnclose.active=!1),""!=this.positiveName&&void 0!=this.positiveName&&(this.btnTypeFlag==AlertViewBtnType.E_BTN_CLOSE?this.setPositiveSingleName(this.positiveName):this.setPositiveButtonName(this.positiveName)),""!=this.negativeName&&void 0!=this.negativeName&&this.setNegativeButtonName(this.negativeName),this.addButtonListenner(),window.scaleTo(e)},this.addButtonListenner=function(){var e=this;this.negative.active&&this.negative.on(cc.Node.EventType.TOUCH_END,function(){cc.log("AlertView.addButtonListenner,negative"),e.btnTypeFlag!=AlertViewBtnType.E_BTN_CLOSE&&(a.playEffect(n.AUDIO_BTN_CLICK),e._callbackNegative&&e._callbackNegative(),e.dismiss())}),this.btnclose.active&&this.btnclose.on(cc.Node.EventType.TOUCH_END,function(){cc.log("AlertView.addButtonListenner,btnclose"),e.btnTypeFlag==AlertViewBtnType.E_BTN_CLOSE&&(a.playEffect(n.AUDIO_BTN_CLICK),e._callbackNegative&&e._callbackNegative(),e.dismiss())}),this.positive.active&&this.positive.on(cc.Node.EventType.TOUCH_END,function(){cc.log("AlertView.addButtonListenner,positive"),e.btnTypeFlag!=AlertViewBtnType.E_BTN_CLOSE&&(a.playEffect(n.AUDIO_BTN_CLICK),e._callbackPositive&&e._callbackPositive(),e.dismiss())}),this.positive_single.active?this.positive_single.on(cc.Node.EventType.TOUCH_END,function(){cc.log("AlertView.addButtonListenner,positive_single"),e.btnTypeFlag==AlertViewBtnType.E_BTN_CLOSE&&(a.playEffect(n.AUDIO_BTN_CLICK),e._callbackPositive&&e._callbackPositive(),e.dismiss())}):this.positive_single.removeFromParent()},this.setPositiveButton=function(e,t){this._callbackPositive=e,this.positiveName=t},this.setNegativeButton=function(e,t){this._callbackNegative=e,this.negativeName=t},this.setPositiveButtonName=function(e){var t=cc.find("label",this.positive);t.getComponent(cc.Label).string=e},this.setPositiveSingleName=function(e){var t=cc.find("label",this.positive_single);t.getComponent(cc.Label).string=e},this.setNegativeButtonName=function(e){var t=cc.find("label",this.negative);t.getComponent(cc.Label).string=e},this.removeFromParent=function(){this.dismiss()}}cc._RFpush(t,"9956eOLEABEHpZjZtGtXhv0","AlertView"),window.AlertViewBtnType=cc.Enum({E_BTN_CLOSE:0,E_BTN_CANCLE:1});var a=e("MusicMgr"),n=e("Audio_Common"),o=(e("GameSystem"),{create:function(){return new i}});t.exports=o,cc._RFpop()},{Audio_Common:"Audio_Common",GameSystem:"GameSystem",MusicMgr:"MusicMgr"}],AssetsDownload:[function(e,t,s){"use strict";cc._RFpush(t,"d9b3fw2WYxJNpA/aNHohDhH","AssetsDownload"),t.exports=cc.Class({download:function(e,t,s){this._storagePath=e,this._localManifest=t,this._remoteManifest=s,this._nocache=(new Date).getTime(),this._downloadUnits=[],this._completeUnits=[],this._failedUnits=[],this._deleteUnits=[],this._downloadComplete=0,this._downloadFailed=0,this._failCount=0,this._concurrentCurrent=0,this._analysisDownloadUnits(),this._analysisDeleteUnits(),this._totalUnits=this._downloadComplete+this._downloadUnits.length,cc.log("【更新】共有{0}个文件需要更新".format(this._downloadUnits.length)),cc.log("【更新】共有{0}个文件需要删除".format(this._deleteUnits.length)),this._items=this._downloadUnits.slice(0),this._items.length>0?this._downloadAsset():(cc.log("【更新】无更新文件，更新完成"),this.onComplete&&this.onComplete())},_analysisDownloadUnits:function(){for(var e in this._remoteManifest.assets)this._localManifest.assets.hasOwnProperty(e)?(game.AssetConfig.debugRes||this._remoteManifest.assets[e].md5!=this._localManifest.assets[e].md5)&&this._addDownloadUnits(e):this._addDownloadUnits(e)},_analysisDeleteUnits:function(){for(var e in this._localManifest.assets)0==this._remoteManifest.assets.hasOwnProperty(e)&&this._deleteUnits.push(e)},_addDownloadUnits:function(e){1!=this._remoteManifest.assets[e].state?this._downloadUnits.push(e):this._downloadComplete++},recovery:function(){this._downloadAsset()},_downloadAsset:function(){game.config.textUpdate&&(this._remoteManifest.server=game.AssetConfig.testCdn);var e=this._items.shift(),t=cc.path.join(this._remoteManifest.server,game.AssetConfig.line,e),s=function(t){this._saveAsset(e,t),this._completeUnits.push(e),this._downloadComplete++,game.AssetConfig.debugProgress&&cc.log("【更新】进度 {0}/{1}，当前有 {2} 个资源并行下载".format(this._downloadComplete,this._totalUnits,this._concurrentCurrent)),this._concurrentCurrent--,this.onProgress&&this.onProgress(e,this._downloadComplete/this._totalUnits),this._isUpdateCompleted()}.bind(this),i=function(s){this._failedUnits.push(e),this._concurrentCurrent--,this._downloadFailed++,game.HttpEvent.NO_NETWORK?0==this._concurrentCurrent&&this.onNoNetwork&&this.onNoNetwork():(cc.log("【更新】下载远程路径为 {0} 的文件失败，错误码为 {1}".format(t,s)),cc.log("【更新】进度 {0}/{1}, 总处理文件数据为 {2}".format(this._downloadComplete,this._totalUnits,this._downloadComplete+this._downloadFailed)),this._isUpdateCompleted())}.bind(this);game.http.getByArraybuffer(this._noCache(t),s,i),this._concurrentCurrent++,this._concurrentCurrent<game.AssetConfig.concurrent&&this._downloadAsset()},_downloadFailedAssets:function(){this._downloadFailed=0,this._downloadUnits=this._failedUnits,this._failedUnits=[],this._items=this._downloadUnits.slice(0),this._items.length>0&&this._downloadAsset()},_isUpdateCompleted:function(){var e=this._downloadComplete+this._downloadFailed;this._totalUnits==this._downloadComplete?(cc.log("【更新】更新完成"),this.onComplete&&this.onComplete(),this._deleteAssets()):this._totalUnits==e?(cc.log("【更新】下载文件总数量　　：",this._totalUnits),cc.log("【更新】下载成功的文件数量：",this._downloadComplete),cc.log("【更新】下载失败的文件数量：",this._downloadFailed),this._failCount++,this._failCount<3?(cc.log("【更新】更新重试第 {0} 次".format(this._failCount)),this._downloadFailedAssets()):(cc.log("【更新】更新失败"),this.onFaild&&this.onFaild())):this._items.length>0&&this._concurrentCurrent<game.AssetConfig.concurrent&&this._downloadAsset()},_deleteAssets:function(){for(var e=0;e<this._deleteUnits.length;e++){var t=this._deleteUnits[e],s=cc.path.join(this._storagePath,t);jsb.fileUtils.removeFile(s)?cc.log("【更新】版本多余资源 {0} 删除成功".format(s)):cc.log("【更新】版本多余资源 {0} 删除失败".format(s))}},_saveAsset:function(e,t){if(cc.sys.isNative){var s=cc.path.join(this._storagePath,e.substr(0,e.lastIndexOf("/"))),i=cc.path.join(this._storagePath,e);0==jsb.fileUtils.isDirectoryExist(s)&&jsb.fileUtils.createDirectory(s),jsb.fileUtils.writeDataToFile(new Uint8Array(t),i)}},_noCache:function(e){return e+"?t="+this._nocache}}),cc._RFpop()},{}],AssetsManager:[function(e,t,s){"use strict";cc._RFpush(t,"ce2a5ImqPBDf4CPEBOQUoet","AssetsManager");var i="game-remote-asset",a="update_project",n="update_state",o="version/{0}_project";window.game=window.game||{},game.AssetEvent={},game.AssetEvent.NEW_VERSION="asset_new_version",game.AssetEvent.NEW_VERSION_FOUND="asset_new_version_found",game.AssetEvent.SUCCESS="asset_success",game.AssetEvent.FAILD="asset_failed",game.AssetEvent.PROGRESS="asset_progress",game.AssetEvent.LOCAL_PROJECT_MANIFEST_LOAD_FAIL="asset_local_project_manifest_load_fail",game.AssetEvent.REMOTE_VERSION_MANIFEST_LOAD_FAILD="asset_remote_version_manifest_load_faild",game.AssetEvent.REMOTE_PROJECT_MANIFEST_LOAD_FAILD="asset_remote_project_manifest_load_faild",game.AssetEvent.NO_NETWORK="asset_no_network",game.AssetConfig={},game.AssetConfig.debugVersion=!1,game.AssetConfig.debugRes=!1,game.AssetConfig.debugProgress=!1,game.AssetConfig.testIp="172.18.254.56",game.AssetConfig.testCdn="http://"+game.AssetConfig.testIp+"/update/",game.AssetConfig.concurrent=1,game.AssetConfig.line="line1";var c=e("AssetsDownload"),r=cc.Class({"extends":cc.EventTarget,getProgress:function(){return this._progress},check:function(e){return 1==this._isUpdate?void cc.log("【更新】模块{0}正在更新中".format(e)):(cc.sys.isNative?(this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+i,0==jsb.fileUtils.isDirectoryExist(this._storagePath)&&jsb.fileUtils.createDirectory(this._storagePath),cc.log("【更新】版本本地存储路径 {0}".format(this._storagePath))):this._storagePath="",this._nocache=game.getLocalTime(),this._ad=new c,this._moduleName=e,this._moduleManifest=a+"_"+e,this._moduleState=n+"_"+e,this._appManifest,this._localManifest,this._remoteManifest,this._progress=0,this._isUpdate=!0,void this._loadLocalManifest(o.format(e)))},update:function(){var e=cc.sys.localStorage.getItem(this._moduleState);if(null==e){var t=function(e){try{this._remoteManifest=JSON.parse(e)}catch(t){cc.error("【更新】远程路版本清单数据解析错误")}this._downloadAssets()}.bind(this),s=function(e){cc.log("【更新】获取远程路径为 {0} 的版本清单文件失败".format(this._remoteManifest.remoteManifest)),this._isUpdate=!1,this._dispatchEvent(game.AssetEvent.REMOTE_PROJECT_MANIFEST_LOAD_FAILD)}.bind(this);game.config.textUpdate&&(this._localManifest.server=game.AssetConfig.testCdn);var i=this._localManifest.server+game.AssetConfig.line+"/"+this._localManifest.remoteManifest;game.http.get(this._noCache(i),t,s)}else cc.log("【更新】获取上次没更新完的版本清单更新状态"),this._remoteManifest=JSON.parse(e),this._downloadAssets()},_loadLocalManifest:function(e){cc.loader.loadRes(e,function(t,s){if(t)return cc.log("【更新】获取游戏中路安装包中路径为 {0} 的资源清单文件失败".format(e)),void this._dispatchEvent(game.AssetEvent.LOCAL_PROJECT_MANIFEST_LOAD_FAIL);try{this._appManifest=JSON.parse(s)}catch(i){cc.error("【更新】安装包中的版本清单数据解析错误")}var a=cc.sys.localStorage.getItem(this._moduleManifest);if(a){try{this._localManifest=JSON.parse(a)}catch(i){cc.error("【更新】本地版本清单数据解析错误")}if(this._localManifest.version<this._appManifest.version){for(var n in this._localManifest.assets){var o=cc.path.join(this._storagePath,n);jsb.fileUtils.isFileExist(o)&&jsb.fileUtils.removeFile(o)}cc.log("【更新】安装包的版本号为{0}，本地存储版本号为{1}，替换本地存储版本数据".format(this._appManifest.version,this._localManifest.version)),this._localManifest=this._appManifest}}else cc.log("【更新】第一次安装，获取安装版中的版本清单数据"),this._localManifest=this._appManifest;this._checkVersion()}.bind(this))},_checkVersion:function(){var e=function(e){try{var t=JSON.parse(e);game.AssetConfig.debugVersion||this._localManifest.version<t.version?(cc.log("【更新】当前版本号为 {0}，服务器版本号为 {1}, 有新版本可更新".format(this._appManifest.version,t.version)),this._dispatchEvent(game.AssetEvent.NEW_VERSION_FOUND)):(cc.log("【更新】当前为最新版本"),this._isUpdate=!1,this._dispatchEvent(game.AssetEvent.NEW_VERSION))}catch(s){cc.error("【更新】远程路版本数据解析错误")}}.bind(this),t=function(e){cc.log("【更新】获取远程路径为 {0} 的版本文件失败".format(this._localManifest.remoteVersion)),this._isUpdate=!1,this._dispatchEvent(game.AssetEvent.REMOTE_VERSION_MANIFEST_LOAD_FAILD)}.bind(this);game.config.textUpdate&&(this._localManifest.server=game.AssetConfig.testCdn);var s=this._localManifest.server+game.AssetConfig.line+"/"+this._localManifest.remoteVersion;game.http.get(this._noCache(s),e,t)},_downloadAssets:function(){this._ad.onProgress=function(e,t){this._progress=t,this._remoteManifest.assets[e].state=!0,cc.sys.localStorage.setItem(this._moduleState,JSON.stringify(this._remoteManifest)),this._dispatchEvent(game.AssetEvent.PROGRESS)}.bind(this),this._ad.onComplete=function(){this._isUpdate=!1,cc.sys.localStorage.removeItem(this._moduleState);for(var e in this._remoteManifest.assets){var t=this._remoteManifest.assets[e];t.state&&delete t.state}cc.sys.localStorage.setItem(this._moduleManifest,JSON.stringify(this._remoteManifest)),this._dispatchEvent(game.AssetEvent.SUCCESS)}.bind(this),this._ad.onFaild=function(){this._isUpdate=!1,this._dispatchEvent(game.AssetEvent.FAILD)}.bind(this),this._ad.onNoNetwork=function(){this._isUpdate=!1,this._dispatchEvent(game.AssetEvent.NO_NETWORK)}.bind(this),this._ad.download(this._storagePath,this._localManifest,this._remoteManifest)},recovery:function(){this._ad.recovery()},_dispatchEvent:function(e,t){var s=new cc.Event.EventCustom;s.type=e,s.bubbles=!1,s.target=this,s.currentTarget=this,this.dispatchEvent(s)},_noCache:function(e){return e+"?t="+this._nocache}});r.check=function(e){var t=0,s=0,n=function(e,n,c,r){var l=o.format(e);cc.loader.loadRes(l,function(o,d){if(o)return void cc.error("【更新】验证是否有覆盖安装时，获取游戏中路安装包中路径为 {0} 的资源清单文件失败".format(l));var u=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+i,h=JSON.parse(d),_=h.version,g=a+"_"+e,m=cc.sys.localStorage.getItem(g);if(m){var p=JSON.parse(m),C=p.version;if(C<_){for(var S in p.assets){var f=cc.path.join(u,S);jsb.fileUtils.isFileExist(f)&&jsb.fileUtils.removeFile(f)}c[e]=_,n[e]=n[e]>_}else c[e]=C,n[e]=n[e]>C}else c[e]=_,n[e]=n[e]>_;s++,s==t&&r&&r(n,c)})},c="";c=game.config.useSSL?"https://{0}:3001/constinfo/version?t={1}".format(game.config.gateSocketIp,game.getLocalTime()):"http://{0}:3001/constinfo/version?t={1}".format(game.config.gateSocketIp,game.getLocalTime()),game.config.textUpdate&&(c="http://{0}:3001/constinfo/version.json?t={1}".format(game.AssetConfig.testIp,game.getLocalTime())),game.http.get(c,function(s){var i=JSON.parse(s),a=i.modules,o={};game.AssetConfig.line=i.line;for(var c in a)t++;for(var c in a)n(c,a,o,e)}.bind(this))},r["delete"]=function(e){var t=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+i,s=cc.sys.localStorage.getItem(a+"_"+e);if(s){try{var o=JSON.parse(s);for(var c in o.assets){var r=cc.path.join(t,c);jsb.fileUtils.isFileExist(r)&&jsb.fileUtils.removeFile(r)}}catch(l){cc.error("【更新】删除模块时,本地版本清单数据解析错误")}cc.sys.localStorage.removeItem(a+"_"+e),cc.sys.localStorage.removeItem(n+"_"+e)}},game.asset=t.exports=r,cc._RFpop()},{AssetsDownload:"AssetsDownload"}],Audio_Common:[function(e,t,s){"use strict";cc._RFpush(t,"3800flTmyRCkYWQLFp2fH8z","Audio_Common"),t.exports={AUDIO_BTN_CLICK:"resources/Texture/ComScene/Sound/btnclick.mp3",AUDIO_BTN_BET:"resources/Texture/ComScene/Sound/coinsfly.mp3",AUDIO_TIME:"resources/Texture/ComScene/Sound/daojishi.mp3",AUDIO_SIT:"resources/Texture/ComScene/Sound/sit.mp3"},cc._RFpop()},{}],BannerListReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_BANNER_LIST_CMD_ID,this.send=function(e){cc.log("BannerListReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"12645cLro9HIIkjrJWXYEvu","BannerListReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],BannerListRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_BANNER_LIST_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.bannerlist=e.list)}}cc._RFpush(t,"04e70mKDuhNNIQZ7rfL/dwt","BannerListRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],BasePop:[function(e,t,s){"use strict";cc._RFpush(t,"0b1c6oqQyFPI7nx8EtQF8o6","BasePop");var i=(e("BaseView"),e("SocketManager"),e("MessageFactory"));cc.Class({"extends":cc.Component,properties:{bg:{"default":null,type:cc.Node}},onLoad:function(){cc.log("BasePop"),this.localMessageListenerID=-1,this.httpMessageListenerID=-1,this.socketMessageListenerID=-1,this.addSocketListener(),this.addHttpListener(),this.addLocalMessageListener(),cc.log("BasePop:onLoad"),this.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.log("stop event"),e.stopPropagation()}.bind(this))},onDestroy:function(){cc.log("BasePop:onDestroy"),cc.log("BasePop.socketMessageListenerID=",this.httpMessageListenerID),this.httpMessageListenerID!=-1&&(GlobalEventManager.getInstance().removeListener(this.httpMessageListenerID),this.httpMessageListenerID=-1),cc.log("BasePop.localMessageListenerID=",this.localMessageListenerID),this.localMessageListenerID!=-1&&(GlobalEventManager.getInstance().removeListener(this.localMessageListenerID),this.localMessageListenerID=-1),cc.log("BasePop.socketMessageListenerID=",this.socketMessageListenerID),this.socketMessageListenerID!=-1&&(GlobalEventManager.getInstance().removeListener(this.socketMessageListenerID),this.socketMessageListenerID=-1)},addSocketListener:function(){var e=this;this.socketMessageListenerID=GlobalEventManager.getInstance().addEventListener(window.SocketMessage,function(t){if(void 0!=t){var s=t.tag;s==window.MessageType.SOCKET_CONNECTED||s==window.MessageType.SOCKET_DISCONNECTED||s==window.MessageType.SOCKET_CONNECTING||s==window.MessageType.MSG_NETWORK_FAILURE||(s==window.MessageType.SOCKET_MESSAGE?e.onMessage(t):s==window.MessageType.SCENE_MSG&&e.onSceneMsg(t))}},this),cc.log("BasePop.socketMessageListenerID=",this.socketMessageListenerID)},addHttpListener:function(){var e=this;this.httpMessageListenerID=GlobalEventManager.getInstance().addEventListener(window.HttpMessage,function(t){if(void 0!=t){var s=t.tag;s==window.HttpMessageType.HTTP_NOTIFICATION?e.onHttpResponse(t.msg):s==window.HttpMessageType.NOTIFY_HTTP_RSP_ERROR}},this),cc.log("BasePop.socketMessageListenerID=",this.httpMessageListenerID)},addLocalMessageListener:function(){var e=this;this.localMessageListenerID=GlobalEventManager.getInstance().addEventListener(window.LocalMessage,function(t){e.onLocalMessage(t)},this),cc.log("BasePop.localMessageListenerID=",this.localMessageListenerID)},onMessage:function(e){},onLocalMessage:function(e){if(void 0!=e){var t=e.tag;t==window.LocalMsgType.SENDMSG_TIMEOUT?this.msgSendTimeOut():t==window.LocalMsgType.UPDATE_USERINFO}},onHttpResponse:function(e){void 0!=e&&!e.isSucceed},onSceneMsg:function(e){},scaleTo:function(e,t){e.setScale(0);var s=null;s=t?cc.scaleTo(.1,1).easing(cc.easeBackOut()):cc.scaleTo(.1,.8).easing(cc.easeBackOut()),e.runAction(s)},getUserDetail:function(){cc.log("BaseScene.getUserDetail");var e=i.createMessageReq(window.US_REQ_USER_DETAIL_CMD_ID);e&&e.send()},LeftInTo:function(e){var t=cc.director.getWinSize();e.runAction(cc.moveTo(.1,cc.p(e.position.x+t.width,e.position.y)))},dismiss:function(){cc.log("BasePop:dismiss"),this.node.removeFromParent(!0),this.destroy()}}),cc._RFpop()},{BaseView:"BaseView",MessageFactory:"MessageFactory",SocketManager:"SocketManager"}],BaseScene:[function(e,t,s){"use strict";cc._RFpush(t,"c4f9aydep5Aj6D+iI/Nl3xV","BaseScene");var i=(e("BaseView"),e("MessageFactory")),a=e("SocketManager"),n=e("ToastView"),o=e("AlertView"),c=e("GameSystem"),r=e("GamePlayer"),l=e("LoadingView");cc.Class({"extends":cc.Component,initBaseInfo:function(){this.pToastView=null,this.m_pNetAlert=null,this.changeHouTai=!1,this.bBeginHeart=!1,this.NowReconnect=!1,this.isGaming=!1,this.netReStartCnt=0,this.netCount=0,this.netTimeTotal=0,this.disNetTime=0,this.netStrength=0,this.m_llSendTime=0,this.localMessageListenerID=0,this.httpMessageListenerID=0,this.socketMessageListenerID=0,this.GameInfoListenerID=0,this.m_isNetConnecting=!0,this.isOnLine=!0,this.onGameBack=!1},onLoad:function(){cc.log("BaseScene.onLoad"),this.initBaseInfo(),this.addSocketListener(),this.addHttpListener(),this.addLocalMessageListener(),this.addGameInfoListener(),a.getInstance().isConnected()&&this.startHeartBeat()},onDestroy:function(){cc.log("BaseScene.onDestroy"),this.unschedule(this.sendHeartBeat),GlobalEventManager.getInstance().removeListener(this.httpMessageListenerID),GlobalEventManager.getInstance().removeListener(this.localMessageListenerID),GlobalEventManager.getInstance().removeListener(this.socketMessageListenerID),GlobalEventManager.getInstance().removeListener(this.GameInfoListenerID)},addGameInfoListener:function(){cc.log("BaseScene.addGameInfoListener");var e=this;this.GameInfoListenerID=window.GlobalEventManager.getInstance().addEventListener(window.GameEngineInfo,function(t){if(t){var s=t.tag;s==window.GameInfo.GameHide?e.onPause():s==window.GameInfo.GameShow?e.onResume():s==window.GameInfo.NetOnline?e.onNetOnline():s==window.GameInfo.NetOffline&&e.onNetOffline()}},this)},onPause:function(){cc.warn("游戏暂停"),this.onGameBack=!0,cc.audioEngine.pauseAll(),cc.game.pause(),a.getInstance().disconnect()},onResume:function(){cc.warn("游戏恢复"),this.onGameBack=!1,cc.audioEngine.resumeAll(),cc.game.resume(),c.getInstance().bLogin&&(a.getInstance().isConnected()||(this.changeHouTai=!0,a.getInstance().reStartSocket()))},onNetOffline:function(){cc.warn("网络断开"),this.isOnLine=!1},onNetOnline:function(){cc.warn("网络恢复"),this.isOnLine=!0,c.getInstance().bLogin&&(a.getInstance().isConnected()||(this.changeHouTai=!0,a.getInstance().reStartSocket()))},update:function(e){},addSocketListener:function(){cc.log("BaseScene.addSocketListener");var e=this;this.socketMessageListenerID=GlobalEventManager.getInstance().addEventListener(window.SocketMessage,function(t){if(void 0!=t){var s=t.tag;s==window.MessageType.SOCKET_CONNECTED?e.onSocketConnected():s==window.MessageType.SOCKET_DISCONNECTED?e.onSocketDisconnected():s==window.MessageType.SOCKET_CONNECTING?e.onSocketConnecting():s==window.MessageType.MSG_NETWORK_FAILURE||(s==window.MessageType.SOCKET_MESSAGE?e.onMessage(t):s==window.MessageType.SCENE_MSG&&e.onSceneMsg(t))}},this)},addHttpListener:function(){cc.log("BaseScene.addHttpListener");var e=this;this.httpMessageListenerID=GlobalEventManager.getInstance().addEventListener(window.HttpMessage,function(t){if(void 0!=t){var s=t.tag;s==window.HttpMessageType.HTTP_NOTIFICATION?e.onHttpResponse(t.msg):s==window.HttpMessageType.NOTIFY_HTTP_RSP_ERROR}},this)},addLocalMessageListener:function(){cc.log("BaseScene.addLocalMessageListener");var e=this;this.localMessageListenerID=GlobalEventManager.getInstance().addEventListener(window.LocalMessage,function(t){t&&e.onLocalMessage(t)},this)},onSceneMsg:function(e){e.data},onMessage:function(e){var t=e.data,s=t.cmd;switch(s){case window.US_RESP_LOGIN_CMD_ID:break;case window.US_KICK_OUT_CMD_ID:this.createAlertView(t.desc);break;case window.US_NOTIFY_OWNER_CONFIRM_SIT_CMD_ID:this.notifyOwnerConfirmSit(t);break;case window.US_RESP_OWNER_CONFIRM_CMD_ID:this.OwnerConfirmSit(t);break;case window.US_NOTFIY_OWNER_TABLEINFO_CMD_ID:this.onNotifyOwnerTableOver(t);break;case window.US_RESP_FIND_TABLE_CMD_ID:this.onFindRoom(t);break;case window.CLUB_NOTIFY_OWNER_CONFIRM_CMD_ID:this.onClubAddMsg(t);break;case window.CLUB_RESP_OWNER_RM_MEMBER_CMD_ID:this.onClubRmMem(t);break;case window.US_RESP_EXCHANGE_GOLD_CMD_ID:this.onExchangeGoldMsg(t);break;case window.US_RESP_USER_DETAIL_CMD_ID:this.onUserDetail(t);break;case US_NOTIFY_PAY_OPERATE_CMD_ID:this.onPayResult(t);break;case window.US_NOTIFY_IN_GAME_CMD_ID:this.notifyInGame(t);break;case window.US_RESP_CREATE_COST_CMD_ID:this.onCreateTableCost(t);break;case window.US_RESP_CLUB_UPGRADE_COST_CMD_ID:this.onClubUpgradeCost(t);break;case US_RESP_NEW_MSG_NUM_CMD_ID:this.onMimeMsgNum(t);break;case US_RESP_BIND_REFERRAL_CMD_ID:this.onBingReferral(t)}if(t.code<SocketRetCode.RET_SUCCESS){if(t.code==SocketRetCode.RET_NOT_FIND_GAME_SERVER||t.code==SocketRetCode.RET_NOT_FIND_TABLE||t.code==SocketRetCode.RET_PARAM_ERROR)cc.director.loadScene("HallScene");else if(t.code==SocketRetCode.RET_ILLEGAL_REQ||t.code==SocketRetCode.RET_SERVER_ABNORMAL){var i=o.create();i.setPositiveButton(function(){cc.director.loadScene("LoadingScene")},"退出游戏"),this.unschedule(this.sendHeartBeat),a.getInstance().disconnect(),i.show(t.desc+",请退出游戏重新进入！",AlertViewBtnType.E_BTN_CLOSE)}else if(t.code==SocketRetCode.RET_USERKEY_ERROR||t.code==SocketRetCode.RET_USER_REPEAT_LOGIN){var i=o.create();i.setPositiveButton(function(){cc.director.loadScene("LoadingScene")},"退出游戏"),this.unschedule(this.sendHeartBeat),a.getInstance().disconnect(),i.show(t.desc+",请退出游戏重新进入！",AlertViewBtnType.E_BTN_CLOSE)}else this.createAlertView(t.desc);l.dismiss()}},onBingReferral:function(e){e.code<SocketRetCode.RET_SUCCESS||(c.getInstance().referralCode=e.referralid,n.show("绑定成功"))},onPayResult:function(e){var t=o.create();t.show(e.param.desc),this.getUserDetail()},onCreateTableCost:function(e){cc.log("HallScene.onCreateTableCost code=",e.code),e.code==SocketRetCode.RET_SUCCESS&&(c.getInstance().BullFightTableCost=e.list)},onClubUpgradeCost:function(e){cc.log("HallScene.onClubUpgradeCost code=",e.code),(e.code=SocketRetCode.RET_SUCCESS)||(c.getInstance().ClubUpgradeCost=e.list,cc.log("HallScene.onClubUpgradeCost list=",e.list))},onMimeMsgNum:function(e){c.getInstance().NewMsgNum=!1,e.code==SocketRetCode.RET_SUCCESS&&(e.sysnum>0||e.clubnum>0||e.mailnum>0)&&(c.getInstance().NewMsgNum=!0),cc.log("onMimeMsgNum sysnum=",e.sysnum," clubnum=",e.clubnum," mailnum=",e.mailnum)},onUserDetail:function(e){cc.log("HallScene.onUserDetail"),r.getInstance().gold=e.gold,r.getInstance().diamond=e.diamond},onExchangeGoldMsg:function(e){if(e.code==SocketRetCode.RET_SUCCESS){var t=o.create();t.show(e.tips,AlertViewBtnType.E_BTN_CLOSE),this.getUserDetail()}},onClubAddMsg:function(e){var t=this,s=e.param.uid,i=e.param.name,a=e.param.clubname,n=o.create();n.setPositiveButton(function(){t.sendClubOwnerConfirm(1,s,e.clubid)},"同意"),n.setNegativeButton(function(){t.sendClubOwnerConfirm(0,s,e.clubid)},"拒绝"),n.show(i+"("+e.param.uid+")申请加入您的'"+a+"'俱乐部，是否同意？",AlertViewBtnType.E_BTN_CANCLE)},onClubRmMem:function(e){e.param.uid==r.getInstance().uid?n.show("您被移除俱乐部"+e.param.clubname+"("+e.param.clubid+")"):n.show(e.param.name+"被移除俱乐部"+e.param.clubname+"("+e.param.clubid+")")},sendClubOwnerConfirm:function(e,t,s){var a={uid:t,isallow:e};cc.log("BaseScene.notifyOwnerConfirmSit.data = ",JSON.stringify(a)),i.createMessageReq(window.CLUB_REQ_OWNER_CONFIRM_CMD_ID).send(a,s)},notifyInGame:function(e){cc.log("BaseScene.notifyInGame, msg"+e.gamesvcid+",tableid"+e.tableid),e.code>0&&(c.getInstance().gamesvcid=e.gamesvcid,c.getInstance().tableid=e.tableid,cc.director.loadScene("Bullfight_GameScene"))},onFindRoom:function(e){cc.log("HallScene.onFindRoom,msg"+e.gamesvcid+",tableid"+e.tableid),l.dismiss(),e.code==SocketRetCode.RET_SUCCESS&&(c.getInstance().gamesvcid=e.gamesvcid,c.getInstance().tableid=e.tableid,cc.director.loadScene("Bullfight_GameScene"))},onNotifyOwnerTableOver:function(e){if(cc.log("BaseScene.onNotifyOwnerTableOver"),e.code==SocketRetCode.RET_SUCCESS){var t={gamesvcid:e.gamesvcid,tableid:e.tableid,privateid:e.privateid},s=o.create();s.setPositiveButton(function(){self.sendFindTable(1,t)},"进入游戏"),s.setNegativeButton(function(){},"取消"),s.show("房间："+e.tableid+"("+e.tablename+"),剩余"+e.remaintime+"秒就要结束了，是否立刻进入房间？",AlertViewBtnType.E_BTN_CANCLE)}},sendFindTable:function(e){cc.log("BaseScene.sendFindTable,roomId = "+e.privateid);var t=i.createMessageReq(window.US_REQ_FIND_TABLE_CMD_ID),e={privateid:e.privateid};t&&t.send(e)},notifyOwnerConfirmSit:function(e){cc.log("BaseScene.notifyOwnerConfirmSit,msg = "+e.gamesvcid);var t=this,s={gamesvcid:e.gamesvcid,tableid:e.tableid,playeruid:e.sitUid,privateid:e.privateid},i=o.create();i.setPositiveButton(function(){t.sendOwnerConfirm(1,s)},"同意"),i.setNegativeButton(function(){t.sendOwnerConfirm(2,s)},"拒绝");var a=e.name+"("+e.sitUid+")申请携带"+e.coin+"牛友币进入您"+e.privateid+"("+e.tablename+")牌局,是否同意?";i.show(a,AlertViewBtnType.E_BTN_CANCLE)},sendOwnerConfirm:function(e,t){var t={gamesvcid:t.gamesvcid,tableid:t.tableid,playeruid:t.playeruid,privateid:t.privateid,result:e};cc.log("BaseScene.sendOwnerConfirm.data = ",JSON.stringify(t)),i.createMessageReq(window.US_REQ_OWNER_CONFIRM_CMD_ID).send(t)},OwnerConfirmSit:function(e){cc.log("BaseScene.OwnerConfirmSit"),e.code==SocketRetCode.RET_SUCCESS&&n.show(e.desc)},createAlertView:function(e){cc.log("BaseScene.createAlertView,desc = "+e),n.show(e,2)},onLocalMessage:function(e){if(cc.log("BaseScene.onLocalMessage"),void 0!=e){var t=e.tag;t==window.LocalMsgType.SENDMSG_TIMEOUT?this.msgSendTimeOut():t==window.LocalMsgType.UPDATE_USERINFO}},onHttpResponse:function(e){cc.log("BaseScene.onHttpResponse"),!e.isSucceed},reStartSocket:function(){cc.log("BaseScene.reStartSocket"),this.m_llSendTime=-1,a.getInstance().reStartSocket()},startHeartBeat:function(){cc.log("BaseScene.startHeartBeat"),this.schedule(this.sendHeartBeat,window.HEART_BEAT_TIME)},sendHeartBeat:function(){if(cc.log("BaseScene.sendHeartBeat"),a.getInstance().isConnected()){var e=i.createMessageReq(window.US_REQ_HEARTBEAT_CMD_ID);e?(this.m_llSendTime=(new Date).getTime(),e.send(),this.bBeginHeart=!0):cc.log("BaseScene.sendHeartBeat,msg = null")}else cc.warn("BaseScene.sendHeartBeat,服务器尚未连接，心跳发送失败")},onCheckNetReStart:function(){cc.log("BaseScene.onCheckNetReStart"),this.netReStartCnt++,this.netReStartCnt%6==0&&this.reStartSocket(),18==this.netReStartCnt&&(this.netReStartCnt=0,GlobalEventManager.getInstance().emitEvent(window.LocalMessage,{tag:window.LocalMsgType.SENDMSG_TIMEOUT}),this.unschedule(this.onCheckNetReStart))},msgSendTimeOut:function(){cc.log("BaseScene.msgSendTimeOut"),this.reconnect_times=5,this.reStartSocket(),this.unschedule(this.sendHeartBeat),this.NowReconnect=!0;var e="您的网络连接超时，正在疯狂尝试恢复6";this.pToastView=n.show(e,6),this.disNetTime=6,this._dNetCount=0,this.schedule(this.reDisConTime,1)},reDisConTime:function(){if(cc.log("BaseScene.reDisConTime"),this.pToastView){this.disNetTime-=1;"您的网络连接超时，正在疯狂尝试恢复 "+this.disNetTime;this._dNetCount++,this.disNetTime<=0&&(this.unschedule(this.reDisConTime),this.pToastView.removeFromParent(!0),this.pToastView=null,this.reconnect_times=5,this.m_pNetAlert=o.create(),this.m_pNetAlert.setPositiveButton(this.replyReConnectYes),this.m_pNetAlert.setNegativeButton(this.replyReConnectNo),this.m_pNetAlert.show("网络连接超时，您需要继续恢复游戏吗？",AlertViewBtnType.E_BTN_CANCLE,this));
}},replyReConnectYes:function(){cc.log("BaseScene.replyReConnectYes"),this.m_pNetAlert=null,GlobalEventManager.getInstance().emitEvent(window.LocalMessage,{tag:window.LocalMsgType.SENDMSG_TIMEOUT})},replyReConnectNo:function(){cc.log("BaseScene.replyReConnectNo"),cc.director.loadScene("hall")},sendLoginHall:function(){cc.log("BaseScene.sendLoginHall");var e=i.createMessageReq(window.US_REQ_LOGIN_CMD_ID);e&&e.send()},getUserDetail:function(){cc.log("BaseScene.getUserDetail");var e=i.createMessageReq(window.US_REQ_USER_DETAIL_CMD_ID);e&&e.send()},onSocketDisconnected:function(){cc.log("BaseScene.onSocketDisconnected"),this.unschedule(this.sendHeartBeat),this.onGameBack||this.scheduleOnce(this.callLoginServer,1)},onSocketConnecting:function(){cc.log("BaseScene.onSocketConnecting"),this.unschedule(this.sendHeartBeat),n.show("连接中...")},onSocketConnected:function(){cc.log("BaseScene.onSocketConnected"),this.unschedule(this.callLoginServer),this.reconnect_times=5,this.NowReconnect=!1,this.sendLoginHall(),this.startHeartBeat(),this.unschedule(this.waitReConnect),this.unschedule(this.reDisConTime),this.unschedule(this.onCheckNetReStart),this.unschedule(this.reAllDisConTime),this.pToastView?(this.pToastView.removeFromParent(!0),this.pToastView=null,n.show("连接成功，正在回到游戏")):this.changeHouTai&&(this.changeHouTai=!1,n.show("连接成功")),this.m_pNetAlert&&(this.m_pNetAlert.removeFromParent(!0),this.m_pNetAlert=null)},waitReConnect:function(){},reAllDisConTime:function(){cc.log("BaseScene.reAllDisConTime"),this.m_pNetAlert&&(this.m_pNetAlert.removeFromParent(!0),this.m_pNetAlert=null)},gotoHallUpdate:function(){cc.log("BaseScene.gotoHallUpdate"),this.unschedule(this.gotoHallUpdate),this.NowReconnect=!1,cc.director.loadScene("hall"),this.bCheckConnect=!0},onUpdateUserInfo:function(){},UpdateDeviceStatus:function(){},updatePlayerMoney:function(e){},updateHeartBeat:function(e){var t=(new Date).getTime-this.m_llSendTime;this.netTimeTotal+=t,this.netCount++,this.netCount>5&&(this.netTimeTotal=0,this.netCount=0),this.bBeginHeart=!1},updateOfflineReult:function(e){},callUpdateMoney:function(){},callLoginServer:function(){c.getInstance().bLogin&&(a.getInstance().isConnected()||(cc.log("LoadingView.callbackBtnLogin callLoginServer"),a.getInstance().startSocket()))}}),cc._RFpop()},{AlertView:"AlertView",BaseView:"BaseView",GamePlayer:"GamePlayer",GameSystem:"GameSystem",LoadingView:"LoadingView",MessageFactory:"MessageFactory",SocketManager:"SocketManager",ToastView:"ToastView"}],BaseView:[function(e,t,s){"use strict";cc._RFpush(t,"86c1a+Knj5JqoxwJvVsEgr2","BaseView"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){}}),cc._RFpop()},{}],BindReferralReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_BIND_REFERRAL_CMD_ID,this.send=function(e){cc.log("BindReferralReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,referralid:e.referralid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"dc0936vqG5Htqp/w4QcQ8zd","BindReferralReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],BindReferralRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_BIND_REFERRAL_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.referralid=e.referralid}}cc._RFpush(t,"23f55pytb9Kz6akQUi7DBCT","BindReferralRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],Bullfighgt_Menu:[function(e,t,s){"use strict";cc._RFpush(t,"b9935YPx3dCHr1d2Knaw/Yr","Bullfighgt_Menu");var i=e("BasePop"),a=e("MessageFactory"),n=e("GamePlayer"),o=(e("Bullfight_GameScene"),e("LoadingView")),c=e("MusicMgr"),r=e("Audio_Common"),l=e("GameSystem");cc.Class({"extends":i,properties:{RuleView:cc.Prefab,OwnerView:cc.Prefab,OwnerIcon:cc.Sprite,OwnerText:cc.Label,BtnShare:cc.Node},onLoad:function(){this._super();var e=this;if(this.node.on(cc.Node.EventType.TOUCH_END,function(t){cc.log("stop event"),e.runOut()}.bind(this)),this.initBaseData(),cc.log("Bullfigth_Menu.onLoad bowner="+n.getInstance().bowner),1==n.getInstance().bowner?(this.OwnerIcon.node.active=!0,this.OwnerText.node.active=!0):(this.OwnerIcon.node.active=!1,this.OwnerText.node.active=!1),l.getInstance().VerStatus==l.getInstance().VerStatusType.VERSION_TYPE_AUDIT)return void(this.BtnShare.active=!1)},initBaseData:function(){this.callBackCarry=null,this.tableRuleInfo=""},setRuleInfo:function(e){this.tableRuleInfo=e},callBackBtn:function(e,t){c.playEffect(r.AUDIO_BTN_CLICK);var s=e.target.getName();if(cc.log("Bullfight_Menu.callBackBtn,btnName = "+s),"BtnExit"==s)a.createMessageReq(window.US_REQ_LEAVE_GAME_CMD_ID).send();else if("BtnStandUp"==s){o.show("正在站起...");var i={status:2,seatid:n.getInstance().seatId};a.createMessageReq(window.US_REQ_SIT_DOWN_CMD_ID).send(i)}else if("BtnSupplement"==s)this.onCallBackCarry();else if("BtnOwner"==s){var l=cc.instantiate(this.OwnerView);cc.director.getScene().addChild(l),l.setPosition(cc.p(cc.director.getVisibleSize().width/2,cc.director.getVisibleSize().height/2))}else if("BtnRule"==s){var d=cc.instantiate(this.RuleView);cc.director.getScene().addChild(d),d.setPosition(cc.p(cc.director.getVisibleSize().width/2,cc.director.getVisibleSize().height/2))}else if("BtnShare"==s){cc.log("Bullfight_Menu : BtnShare");var u={popView:"Bullfight_Menu",btn:"BtnShare"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:u})}this.dismiss()},setCallBackCarry:function(e){this.callBackCarry=e},onCallBackCarry:function(){if(this.callBackCarry)return void this.callBackCarry()},runOut:function(){var e=cc.callFunc(this.dismiss,this);this.node.runAction(cc.sequence(cc.moveBy(.2,cc.p(0,697)),e))}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",Bullfight_GameScene:"Bullfight_GameScene",GamePlayer:"GamePlayer",GameSystem:"GameSystem",LoadingView:"LoadingView",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr"}],Bullfight_AudioConfig:[function(e,t,s){"use strict";cc._RFpush(t,"fd0d3wnwW5K3aVSTxfrPtzv","Bullfight_AudioConfig"),t.exports={AUDIO_SEND_CARD:"resources/Texture/GameSscene/Bullfight/Sound/SendCard.mp3",AUDIO_MAN_CALLBANKER:"resources/Texture/GameSscene/Bullfight/Sound/manCallbanker.mp3",AUDIO_MAN_NOCALLBANKER:"resources/Texture/GameSscene/Bullfight/Sound/manNoCallbanker.mp3",AUDIO_MAN_BOMB:"resources/Texture/GameSscene/Bullfight/Sound/man4bomb.mp3",AUDIO_MAN_5FLOWER:"resources/Texture/GameSscene/Bullfight/Sound/man5flowerbull.mp3",AUDIO_MAN_5LITTLEBULL:"resources/Texture/GameSscene/Bullfight/Sound/man5littlebull.mp3",AUDIO_MAN_3AND2:"resources/Texture/GameSscene/Bullfight/Sound/manThreeWithTwo.mp3",AUDIO_MAN_LINE:"resources/Texture/GameSscene/Bullfight/Sound/manStraight.mp3",AUDIO_MAN_BULL0:"resources/Texture/GameSscene/Bullfight/Sound/manbull0.mp3",AUDIO_MAN_BULL1:"resources/Texture/GameSscene/Bullfight/Sound/manbull1.mp3",AUDIO_MAN_BULL2:"resources/Texture/GameSscene/Bullfight/Sound/manbull2.mp3",AUDIO_MAN_BULL3:"resources/Texture/GameSscene/Bullfight/Sound/manbull3.mp3",AUDIO_MAN_BULL4:"resources/Texture/GameSscene/Bullfight/Sound/manbull4.mp3",AUDIO_MAN_BULL5:"resources/Texture/GameSscene/Bullfight/Sound/manbull5.mp3",AUDIO_MAN_BULL6:"resources/Texture/GameSscene/Bullfight/Sound/manbull6.mp3",AUDIO_MAN_BULL7:"resources/Texture/GameSscene/Bullfight/Sound/manbull7.mp3",AUDIO_MAN_BULL8:"resources/Texture/GameSscene/Bullfight/Sound/manbull8.mp3",AUDIO_MAN_BULL9:"resources/Texture/GameSscene/Bullfight/Sound/manbull9.mp3",AUDIO_MAN_BULL10:"resources/Texture/GameSscene/Bullfight/Sound/manbull10.mp3",AUDIO_WOMAN_CALLBANKER:"resources/Texture/GameSscene/Bullfight/Sound/womanCallbanker.mp3",AUDIO_WOMAN_NOCALLBANKER:"resources/Texture/GameSscene/Bullfight/Sound/womanNoCallbanker.mp3",AUDIO_WOMAN_BOMB:"resources/Texture/GameSscene/Bullfight/Sound/woman4bomb.mp3",AUDIO_WOMAN_5FLOWER:"resources/Texture/GameSscene/Bullfight/Sound/woman5flowerbull.mp3",AUDIO_WOMAN_5LITTLEBULL:"resources/Texture/GameSscene/Bullfight/Sound/woman5littlebull.mp3",AUDIO_WOMAN_3AND2:"resources/Texture/GameSscene/Bullfight/Sound/womanThreeWithTwo.mp3",AUDIO_WOMAN_LINE:"resources/Texture/GameSscene/Bullfight/Sound/womanStraight.mp3",AUDIO_WOMAN_BULL0:"resources/Texture/GameSscene/Bullfight/Sound/womanbull0.mp3",AUDIO_WOMAN_BULL1:"resources/Texture/GameSscene/Bullfight/Sound/womanbull1.mp3",AUDIO_WOMAN_BULL2:"resources/Texture/GameSscene/Bullfight/Sound/womanbull2.mp3",AUDIO_WOMAN_BULL3:"resources/Texture/GameSscene/Bullfight/Sound/womanbull3.mp3",AUDIO_WOMAN_BULL4:"resources/Texture/GameSscene/Bullfight/Sound/womanbull4.mp3",AUDIO_WOMAN_BULL5:"resources/Texture/GameSscene/Bullfight/Sound/womanbull5.mp3",AUDIO_WOMAN_BULL6:"resources/Texture/GameSscene/Bullfight/Sound/womanbull6.mp3",AUDIO_WOMAN_BULL7:"resources/Texture/GameSscene/Bullfight/Sound/womanbull7.mp3",AUDIO_WOMAN_BULL8:"resources/Texture/GameSscene/Bullfight/Sound/womanbull8.mp3",AUDIO_WOMAN_BULL9:"resources/Texture/GameSscene/Bullfight/Sound/womanbull9.mp3",AUDIO_WOMAN_BULL10:"resources/Texture/GameSscene/Bullfight/Sound/womanbull10.mp3",AUDIO_WIN:"resources/Texture/GameSscene/Bullfight/Sound/win.mp3",AUDIO_LOSE:"resources/Texture/GameSscene/Bullfight/Sound/lose.mp3",AUDIO_GROUND_MUSIC:"resources/Texture/GameSscene/Bullfight/Sound/GameGroundMusic.mp3"},cc._RFpop()},{}],Bullfight_BetCoinReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_REQ_BET_COIN_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:o.getInstance().gamesvcid,tableid:o.getInstance().tableid,betcoinmul:e.betcoinmul},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"0489cDdUs5JkqoayQIeT34b","Bullfight_BetCoinReqPacket");var a=e("MessageReq"),n=e("Cmd_Bullfight"),o=e("GameSystem");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",GameSystem:"GameSystem",MessageReq:"MessageReq"}],Bullfight_BetCoinRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_RESP_BET_COIN_CMD_ID,this.betuid=0,this.betcoinmul=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.betuid=e.betuid,this.betcoinmul=e.betcoinmul,this.tstatus=e.tstatus,this.ustatus=e.ustatus)}}cc._RFpush(t,"832c54cihhGf4h9RpvZh33y","Bullfight_BetCoinRespPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_CallBankerReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_REQ_CALL_BANKER_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:o.getInstance().gamesvcid,tableid:o.getInstance().tableid,calltype:e.calltype},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"a3538VLEztD84ylV8uO1jcq","Bullfight_CallBankerReqPacket");var a=e("MessageReq"),n=e("Cmd_Bullfight"),o=e("GameSystem");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",GameSystem:"GameSystem",MessageReq:"MessageReq"}],Bullfight_CallBankerRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_RESP_CALL_BANKER_CMD_ID,this.tableid=0,this.tstatus=0,this.calluid=0,this.seatid=0,this.calltype=0,this.islast=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.tableid=e.tableid,this.tstatus=e.tstatus,this.calluid=e.calluid,this.seatid=e.seatid,this.calltype=e.calltype,this.islast=e.islast)}}cc._RFpush(t,"10c0bFjIsZBzLAj9awyKnZv","Bullfight_CallBankerRespPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_CardItem:[function(e,t,s){"use strict";cc._RFpush(t,"2caa2DahaBMnLmKjNuGOWa+","Bullfight_CardItem"),window.BULLFIGHT_MAX_PLAYER=6;var i=e("Poker"),a=e("Bullfight_CostomCardType");e("Bullfight_GameScene");cc.Class({"extends":cc.Component,properties:{CardNode:cc.Node,CardTypeNode:cc.Node,CardTypeBg:cc.Sprite,CardTypeBgFrame:[cc.SpriteFrame],CardTypeFlag:cc.Sprite,CardTypeFlagFrame:[cc.SpriteFrame],AllCard:[i],BetCountBg:cc.Sprite,BetCount:cc.Label,CustomCardType:a},onLoad:function(){this.CardPos=new Array;for(var e=0;e<this.AllCard.length;e++)this.CardPos[e]=this.AllCard[e].node.position},sendCardAnimation:function(e){cc.log("Bullfight_CardLayout.sendCardAnimation,cardlist = "+e),this.node.active=!0,this.CardNode.active=!0;for(var t=0;t<5&&!cc.game.isPaused();t++){this.AllCard[t].node.stopAllActions(),this.AllCard[t].position=this.CardPos[t],this.AllCard[t].initCard(e[t]);var s=(cc.director.getWinSize(),this.CardPos[t]),i=new cc.p(s.x-(s.x+this.CardNode.position.x+this.node.position.x),s.y-(s.y+this.CardNode.position.y+this.node.position.y));cc.log("startPos = "+i+",endPos = "+s),this.AllCard[t].node.runAction(cc.sequence(cc.moveTo(0,i),cc.delayTime(.05*t),cc.moveTo(.5,s)))}},openCardAnimation:function(e,t,s){cc.log("Bullfight_CardLayout.openCardAnimation,cardlist = "+e," index1=",t," index2=",s),this.node.active=!0,this.CardNode.active=!0;for(var i=0;i<5;i++)this.AllCard[i].initCard(e[i]),this.AllCard[i].runCardSelect(0),t!=-1&&s!=-1&&(i!=t&&i!=s||(cc.log("Bullfight_CardLayout.openCardAnimation, cardcount=",i),this.AllCard[i].runCardSelect(1)))},setCardType:function(e){cc.log("Bullfight_CardLayout.setCardType,cardType = "+e),this.node.active=!0,this.CardTypeNode.active=!0,this.CardTypeFlag.spriteFrame=this.CardTypeFlagFrame[e],this.CardTypeBg.spriteFrame=this.CardTypeBgFrame[1]},clearCardItem:function(){this.CardNode.active=!1,this.CardTypeNode.active=!1,this.node.active=!1,this.BetCountBg.node.active=!1;for(var e=0;e<5;e++)this.AllCard[e].runCardSelect(!1);null!=this.CustomCardType&&this.CustomCardType.clearCustomCardType()},setPlayerBetCount:function(e){this.node.active=!0,this.BetCountBg.node.active=!0,this.BetCount.string=e},setCustomCardType:function(e){this.CustomCardType.node.active=e,e?this.CustomCardType.initData():this.CustomCardType.clearCustomCardType()}}),cc._RFpop()},{Bullfight_CostomCardType:"Bullfight_CostomCardType",Bullfight_GameScene:"Bullfight_GameScene",Poker:"Poker"}],Bullfight_CardLayout:[function(e,t,s){"use strict";cc._RFpush(t,"5d2979YT+hGAIFy//Y4TNTm","Bullfight_CardLayout"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},sendCardAnimation:function(){cc.log("Bullfight_CardLayout.sendCardAnimation")}}),cc._RFpop()},{}],Bullfight_CardType:[function(e,t,s){"use strict";cc._RFpush(t,"160f0hqmHdPqLbtjZH8kM2X","Bullfight_CardType"),window.Bullfight_CardType=cc.Enum({E_BULL_ZERO:0,E_BULL_ONE:1,E_BULL_TWO:2,E_BULL_THREE:3,E_BULL_FOUR:4,E_BULL_FIVE:5,E_BULL_SIX:6,E_BULL_SEVEN:7,E_BULL_EIGHT:8,E_BULL_NINE:9,E_BULL_PAIR:10,E_BULL_BULL:11,E_BULL_LINE:12,E_BULL_THREE_TWO:13,E_BULL_BOMB:14,E_BULL_FIVE_KING:15,E_BULL_SMALL_FIVE:16,E_BULL_MAX:17}),window.Bullfight_CardTypeName=["没牛","牛一","牛二","牛三","牛四","牛五","牛六","牛七","牛八","牛九","牛对子","牛牛","牛顺子","三带二","炸弹","五花牛","五小牛"],cc._RFpop()},{}],Bullfight_CarryView:[function(e,t,s){"use strict";cc._RFpush(t,"439618RH7tPA77a3KIRdgIa","Bullfight_CarryView");var i=e("BasePop"),a=e("GamePlayer"),n=e("MessageFactory"),o=e("ToastView"),c=e("MusicMgr"),r=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{m_iMinCarry:100,m_iMaxCarry:1e3,CurCoin:cc.Label,MyGold:cc.Label,CarryRange:cc.Label,TotalCoin:cc.Label,curCarry:cc.EditBox,m_iTimeOut:0,TimeLabel:cc.Label},onLoad:function(){},setMinAndMax:function(e,t,s){cc.log("Bullfight_CarryView.setMinAndMax,min = "+e+",max = "+t," total=",s),this.m_iMinGold=e,this.m_iMaxGold=t,this.TotalCoin.string=s,this.CurCoin.string=a.getInstance().TotalCarry,this.MyGold.string=a.getInstance().gold,this.CarryRange.string="("+e+"~"+t+")"},callbackBtn:function(e,t){var s=e.target.getName();if(c.playEffect(r.AUDIO_BTN_CLICK),cc.log("Bullfight_CarryView.callbackBtn,btnName = "+s),"BtnClose"==s)this.dismiss();else if("BtnSure"==s){var i=parseInt(this.curCarry.string);if(i<this.m_iMinGold)return void o.show("您携带的牛友币不能小于"+this.m_iMinGold);if(i>this.m_iMaxGold)return void o.show("您携带的牛友币不能大于"+this.m_iMaxGold);if(i>a.getInstance().gold)return void o.show("您拥有的牛友币不足，请前往商城购买");var l={coin:parseInt(this.curCarry.string)};n.createMessageReq(window.US_REQ_CARRY_COIN_CMD_ID).send(l),this.dismiss()}},setCarryTime:function(e){this.m_iTimeOut=e,this.node.runAction(cc.sequence(cc.delayTime(e),cc.removeSelf())),this.schedule(this.updateTimeOut,1)},updateTimeOut:function(){this.m_iTimeOut--,this.m_iTimeOut<0&&(this.unschedule(this.updateTimeOut),this.dismiss()),this.TimeLabel.string=this.m_iTimeOut+"s"}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView"}],Bullfight_Clock:[function(e,t,s){"use strict";cc._RFpush(t,"0ffd6xdXF1Ck5DtvfgS7R75","Bullfight_Clock");var i=e("MusicMgr"),a=e("Audio_Common");e("GameSystem");cc.Class({"extends":cc.Component,properties:{time:0,timeLabel:cc.Label},onLoad:function(){},updateTimeLabel:function(e){this.timeLabel.string=e,Number(e)<=3&&this.node.active&&i.playEffect(a.AUDIO_TIME)},setActive:function(e){this.node.active=e}}),cc._RFpop()},{Audio_Common:"Audio_Common",GameSystem:"GameSystem",MusicMgr:"MusicMgr"}],Bullfight_CostomCardType:[function(e,t,s){"use strict";cc._RFpush(t,"4b6b2GFBalCfIzYJrRlgUyL","Bullfight_CostomCardType");var i=e("MusicMgr"),a=e("Audio_Common");e("GameSystem");cc.Class({"extends":cc.Component,properties:{CardValue:[cc.Label]},onLoad:function(){cc.log("Bullfight_CustomCardType.OnLoad")},initData:function(){cc.log("Bullfight_CustomCardType.initData."),this.m_iCardValue=new Array},callBackBtnCard:function(e,t){if(0==this.node.active)return void cc.log("Bullfight_CustomCardType.callBackBtnCard this.node.active=",this.node.active);var s=e.target.getComponent("Poker");if(this.m_iCardValue.length>=3&&0==s.cardSelected)return void cc.log("Bullfight_CustomCardType.callBackBtnCard length=",this.m_iCardValue.length," cardSelected=",s.cardSelected);i.playEffect(a.AUDIO_BTN_CLICK),s.setBtnCard(),cc.log("Bullfight_CustomCardType.callBackBtnCard,value = "+s.cardValue);var n=s.cardValue>10?10:s.cardValue;1==s.cardSelected?this.m_iCardValue.push(n):this.removeByValue(n),this.updataCustomCardType(),this.logAllCardValue()},removeByValue:function(e){for(var t=0;t<this.m_iCardValue.length;t++)if(this.m_iCardValue[t]==e){this.m_iCardValue.splice(t,1);break}},clearCustomCardType:function(){this.CardValue[0].string="",this.CardValue[1].string="",this.CardValue[2].string="",this.CardValue[3].string=""},updataCustomCardType:function(){this.CardValue[0].string="",this.CardValue[1].string="",this.CardValue[2].string="",this.CardValue[3].string="";for(var e=0,t=0;t<this.m_iCardValue.length&&t<3;t++)e+=this.m_iCardValue[t],3==t?this.CardValue[t].string=e:this.CardValue[t].string=this.m_iCardValue[t];this.CardValue[3].string=e},logAllCardValue:function(){for(var e=0;e<this.m_iCardValue.length;e++)cc.log("logAllCardValue.value = "+this.m_iCardValue[e])}}),cc._RFpop()},{Audio_Common:"Audio_Common",GameSystem:"GameSystem",MusicMgr:"MusicMgr"}],Bullfight_CreateRoom:[function(e,t,s){"use strict";cc._RFpush(t,"240e8HhsstAwa/KwzMRbnXj","Bullfight_CreateRoom");var i=e("MessageFactory"),a=e("Bullfight_MultCell"),n=e("BasePop"),o=e("ToastView"),c=e("GamePlayer"),r=e("MusicMgr"),l=e("Audio_Common"),d=e("GameSystem"),u=e("ProgressSlider");cc.Class({"extends":n,properties:{scrollViewRule:cc.ScrollView,scrollViewMult:cc.ScrollView,MultCell:[a],TitleName:cc.Label,RoomName:cc.EditBox,BtnDiamondOn:cc.Sprite,BtnDiamondOff:cc.Sprite,BtnDiamondOnNum:cc.Label,BtnDiamondOffNum:cc.Label,CarryData:[u],minBetNode:cc.Node,timeNode:[cc.Node]},onLoad:function(){this._super(),this.initPopData()},initPopData:function(){this.gameMode=101,this.ownerControl=1,this.bankerMode=1,this.minBet=1,this.time=10,this.persons=6,this.CardTypeMult=[1,1,1,1,1,1,1,1,2,3,0,4,0,0,0,0,0],this.scrollViewMult.node.active=!1,this.RoomName.string=c.getInstance().name,this.createType=0,this.clubid=0,this.clublevel=0},switchBtnGoldDiamond:function(){var e=60*Number(this.time),t=d.getInstance().calcDiamondCost(e,Number(this.clublevel));t<=c.getInstance().diamond?(this.BtnDiamondOn.node.active=!0,this.BtnDiamondOnNum.string=t,this.BtnDiamondOff.node.active=!1):(this.BtnDiamondOn.node.active=!1,this.BtnDiamondOff.node.active=!0,this.BtnDiamondOffNum.string=t)},setClubId:function(e,t){this.clubid=e,this.clublevel=t,this.clubid>0?(this.TitleName.string="俱乐部开局",this.time=30,this.CarryData[0].setMinAndMax(100,1e3),this.CarryData[1].setMinAndMax(200,2e3),0==t&&(t=1),this.CarryData[2].setMinAndMax(600,4e3*t)):(this.CarryData[0].setMinAndMax(100,300),this.CarryData[1].setMinAndMax(200,600),this.CarryData[2].setMinAndMax(600,1200));for(var s=0;s<this.MultCell.length;s++)this.MultCell[s].setClubCreate(0!=this.clubid);this.minBetNode.active=0!=this.clubid,this.timeNode[0].active=0==this.clubid,this.timeNode[1].active=0!=this.clubid,this.switchBtnGoldDiamond()},callbackBtnLabel:function(e,t){if(cc.log("Bullfight_CreateRoom.callbackBtnLabel,CustomEventData ="+t),r.playEffect(l.AUDIO_BTN_CLICK),1==t){for(var s=0;s<this.MultCell.length;s++)this.CardTypeMult[s]=Number(this.MultCell[s].getCurMult());this.scrollViewRule.node.active=!0,this.scrollViewMult.node.active=!1}else 0==this.clubid&&o.show("非俱乐部创建牌局无法修改倍率"),this.scrollViewRule.node.active=!1,this.scrollViewMult.node.active=!0},callbackOwnerControl:function(e){cc.log("Bullfight_CreateRoom.callbackGameMode"),1==this.ownerControl?this.ownerControl=0:this.ownerControl=1,r.playEffect(l.AUDIO_BTN_CLICK)},callbackBankerMode:function(e,t){cc.log("Bullfight_CreateRoom.callbackBankerMode,CustomEventData ="+t),this.bankerMode=t,r.playEffect(l.AUDIO_BTN_CLICK)},callbackMinBet:function(e,t){cc.log("Bullfight_CreateRoom.callbackMinBet,CustomEventData ="+t),this.minBet=t,r.playEffect(l.AUDIO_BTN_CLICK)},callbackTime:function(e,t){cc.log("Bullfight_CreateRoom.callbackTime,CustomEventData ="+t),this.time=t,this.switchBtnGoldDiamond(),r.playEffect(l.AUDIO_BTN_CLICK)},callbackPersons:function(e,t){cc.log("Bullfight_CreateRoom.callbackPersons,CustomEventData ="+t),this.persons=t,r.playEffect(l.AUDIO_BTN_CLICK)},callbackCreateRoom:function(e,t){if(r.playEffect(l.AUDIO_BTN_CLICK),this.scrollViewMult.node.active)for(var s=0;s<this.MultCell.length;s++)this.CardTypeMult[s]=Number(this.MultCell[s].getCurMult());if(""==this.RoomName.string)return void o.show("房间名不能为空！");cc.log("callbackCreateRoom : CustomEventData=",t);var a=Number(t);if(3==a)return void o.show("您的钻石不够,请去商城购买");if(4==a)return void o.show("您的金币不够,请去商城购买");var n={control:Number(this.ownerControl),paymode:a,gametype:Number(this.bankerMode),mixante:Number(this.minBet),livetime:60*Number(this.time),name:this.RoomName.string,seats:Number(this.persons),bullmul:this.CardTypeMult,mincarry:this.CarryData[0].CurCarryNum,maxcarry:this.CarryData[1].CurCarryNum,totalcarry:this.CarryData[2].CurCarryNum};if(n.mincarry>n.maxcarry&&(n.maxcarry=n.mincarry),n.maxcarry>n.totalcarry&&(n.totalcarry=n.maxcarry),cc.log("callbackCreateRoom : seats=",n.seats),0===this.clubid){var c=i.createMessageReq(window.US_REQ_CREATE_TABLE_CMD_ID),d={clubid:0===this.clubid?0:this.clubid,clublevel:0===this.clubid?0:this.clublevel,gameid:Number(this.gameMode),gamelevel:1};c&&c.send(n,d)}else{var c=i.createMessageReq(window.CLUB_REQ_CREATE_TABLE_CMD_ID),d={clubid:0===this.clubid?0:this.clubid,clublevel:0===this.clubid?0:this.clublevel,gameid:Number(this.gameMode),gamelevel:1};c&&c.send(n,d)}this.dismiss()},callbackBtnClose:function(e,t){cc.log("Bullfight_CreateRoom.callbackBtnClose,CustomEventData ="+t),this.dismiss(),r.playEffect(l.AUDIO_BTN_CLICK)}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",Bullfight_MultCell:"Bullfight_MultCell",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ProgressSlider:"ProgressSlider",ToastView:"ToastView"}],Bullfight_ExpressionView:[function(e,t,s){"use strict";cc._RFpush(t,"5c028k2O/hM4ZGfODgoVJzd","Bullfight_ExpressionView");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common"),o=e("MessageFactory"),c=e("GamePlayer"),r=e("ToastView");e("GameSystem");cc.Class({"extends":i,properties:{GrayLayer:cc.Sprite},onLoad:function(){this._super();var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){cc.log("onLoad : stop event"),e.dismiss()}.bind(this))},callBackBtn:function(e,t){var s=e.target.getName();if(a.playEffect(n.AUDIO_BTN_CLICK),cc.log("Bullfight_ExpressionView.callBackBtn,BtnName = "+s),c.getInstance().seatid==-1)return void r.show("您没有坐下不能发送表情");if(s.indexOf("Btn")>=0){var i={touid:c.getInstance().uid,kind:ChatType.E_CHAT_FACE_KIND,type:Number(t),text:""};o.createMessageReq(US_REQ_GAME_CHAT_CMD_ID).send(i)}this.dismiss()}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView"}],Bullfight_GameScene:[function(e,t,s){"use strict";cc._RFpush(t,"f3a0bateh9Bip/rprp/I3UV","Bullfight_GameScene");var i=e("BaseScene"),a=e("GameSystem"),n=e("MessageFactory"),o=e("GamePlayer"),c=e("Cmd_Bullfight"),r=e("ToastView"),l=e("LoadingView"),d=(e("AlertView"),e("Bullfight_Clock")),u=e("Player"),h=e("Bullfight_PlayerItem"),_=e("Bullfight_CardItem"),g=e("Bullfight_GiftAnimation"),m=e("MusicMgr"),p=e("Bullfight_AudioConfig"),C=e("Audio_Common"),S=e("GameCallOC");e("UtilTool");window.Bullfight_TableStatus=cc.Enum({E_TABLE_CLOSE_STATUS:-2,E_TABLE_NOT_START_STATUS:0,E_TABLE_READY_STATUS:1,E_TABLE_CALL_STATUS:2,E_TABLE_BET_STATUS:3,E_TABLE_OPEN_STATUS:4,E_TABLE_OVER_STATUS:5,E_TABLE_IDLE_STATUS:6}),window.Bullfight_PlayerStatus=cc.Enum({E_PLAYER_UNKONW_STATUS:-2,E_PLAYER_WATCH_STATUS:0,E_PLAYER_SIT_STATUS:3,E_PLAYER_READY_STATUS:4,E_PLAYER_ACTIVE_STATUS:5,E_PLAYER_OVER_STATUS:6}),window.Bullfight_CallType=cc.Enum({E_QUIT_CALL_BANKER:0,E_NOT_CALL_BANKER:1,E_NORMAL_CALL_BANKER:2,E_SUPER_CALL_BANKER:3}),cc.Class({"extends":i,properties:{Menu:cc.Prefab,CarryView:cc.Prefab,PlayerItemPos:[h],CardItem:[_],m_iMaxPlayers:0,BtnStart:cc.Button,BtnReady:cc.Button,BtnCallBankerNode:cc.Node,BetCoinNode:cc.Node,OpenCardNode:cc.Node,clock:d,RoomId:cc.Label,RoomName:cc.Label,RoundNum:cc.Label,PlayersList:cc.Prefab,CallBankerFlag:[cc.Sprite],CallBankerFlagFrame:[cc.SpriteFrame],GiftAnimation:g,GameTotalResult:cc.Prefab,ExpressionView:cc.Prefab,RoomInfoView:cc.Prefab,BetLabel:[cc.Label],BtnMusicOn:cc.Button,BtnMusicOff:cc.Button,VoiceView:cc.Prefab,VoicePlayView:cc.Prefab,BtnVoice:cc.Button,GameScene:cc.Canvas,ShareView:cc.Prefab,Tips:cc.Label,BtnControl:cc.Sprite,SuperCostLabel:cc.Label,PlayNode:cc.Node},statics:{Instance:null},onLoad:function(){this._super(),a.getInstance().CurGameType=a.getInstance().GameType.GAME_TYPE_BULLFIGHT,a.getInstance().EnterRoom&&n.createMessageReq(window.US_REQ_ENTER_GAME_CMD_ID).send(),this.initData(),this.Instance=this},update:function(e){S.getInstance().Poll()},onDestroy:function(){this._super(),this.Instance=null,m.stopBackgroundMusic()},updateBet:function(e){this.BetLabel[0].string=1*e,this.BetLabel[1].string=2*e,this.BetLabel[2].string=5*e,this.BetLabel[3].string=10*e},initData:function(){o.getInstance().seatid=-1,this.tableStatus=Bullfight_TableStatus.E_TABLE_CLOSE_STATUS,this.sitPlayers=new Map,this.m_iMyBetCoin=0,this.m_iMaxBet=0,this.tableRuleInfo=null,this.bankerUid=0,this.roundnum=0,this.BetArray=[],this.RoomId.string="ID:"+a.getInstance().privateid,this.VoiceViewNode=null,this.VoicePlayerViewNode=null,this.removeAllPlayerInTable(),cc.log("Bullfight_GameScene.clearTable,privateid = "+a.getInstance().privateid);var e=this;this.BtnVoice.node.on(cc.Node.EventType.TOUCH_START,function(t){return o.getInstance().seatid==-1?void r.show("您没有坐下不能发送语音"):(e.VoiceViewNode=cc.instantiate(e.VoiceView),e.node.addChild(e.VoiceViewNode),void e.VoiceViewNode.setPosition(cc.p(0,0)))}),this.BtnVoice.node.on(cc.Node.EventType.TOUCH_END,function(t){e.VoiceViewNode&&(e.VoiceViewNode.getComponent("VoiceView").dismiss(),e.VoiceViewNode=null),e.playVoiceContinue()}),this.BtnVoice.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){e.VoiceViewNode&&(e.VoiceViewNode.getComponent("VoiceView").dismiss(),e.VoiceViewNode=null)}),1==a.getInstance().VolumeState&&(this.BtnMusicOn.node.active=!1,this.BtnMusicOff.node.active=!0),this.VoiceArray=new Array},clearTable:function(){this.m_iMyBetCoin=0,this.m_iMaxBet=0,this.bankerUid=0,this.BtnStart.node.active=!1,this.BtnReady.node.active=!1,this.clock.node.active=!1,this.BtnCallBankerNode.active=!1,this.BetCoinNode.active=!1,this.OpenCardNode.active=!1,this.BetArray=[],this.clearCallBankerFlag()},callBackBtnShare:function(){var e=S.getInstance().screenShotAction(),t=cc.instantiate(this.ShareView);this.node.addChild(t),t.setPosition(cc.p(0,0));t.getComponent("ShareView").setShareTyep(ShareType.E_SHARETYPE_IMAGE,e,a.getInstance().clienturl)},playVoiceContinue:function(){null!=this.VoicePlayerViewNode&&(cc.log("this.VoicePlayerViewNode  removeFromParent"),this.VoicePlayerViewNode.removeFromParent(!0),this.VoicePlayerViewNode=null);var e=this.VoiceArray.pop();if(cc.log("onSceneMsg,msg = "+JSON.stringify(e)),e){var t=this.getPlayerViewIdBySeatId(this.findPlayer(e.fromuid).seatid);if(null==this.VoicePlayerViewNode&&null==this.VoiceViewNode){cc.log("this.VoicePlayerViewNode  create1"),this.VoicePlayerViewNode=cc.instantiate(this.VoicePlayView),this.GiftAnimation.node.addChild(this.VoicePlayerViewNode),this.VoicePlayerViewNode.setPosition(this.CallBankerFlag[t].node.position);var s=JSON.parse(BASE64.decoder(e.text));S.getInstance().DownloadRecordedFile(s.fileID,s.filePath)}}},onSceneMsg:function(e){var t=e.data;cc.log("onSceneMsg,msg.popView = "+t.popView),"GloudVoice"==t.popView?"OnPlayRecordedFile"==t.btn&&this.playVoiceContinue():"Bullfight_TotalResult"==t.popView?"BtnShare"==t.btn&&this.callBackBtnShare():"Bullfight_Menu"==t.popView?"BtnShare"==t.btn&&this.showShareView():"VoicePlayView"==t.popView&&(t.btn="dismiss")&&(cc.log("this.VoicePlayerViewNode  null"),this.VoicePlayerViewNode=null)},onMessage:function(e){cc.log("Bullfight_GameScene.onMessage"),this._super(e);var t=e.data,s=t.cmd;switch(s){case window.US_RESP_LOGIN_CMD_ID:this.onLoginMsg(t);break;case window.US_RESP_ENTER_GAME_CMD_ID:this.onEnterRoom(t);break;case window.US_RESP_SIT_DOWN_CMD_ID:this.onSitDown(t);break;case window.US_RESP_LEAVE_GAME_CMD_ID:this.onLeaveGame(t);break;case window.US_NOTIFY_GAME_SWITCH_CMD_ID:this.onNotifyGameSwitch(t);break;case c.SBF_RESP_READY_CMD_ID:this.onReady(t);break;case c.SBF_NOTIFY_GAME_START_CMD_ID:this.onNotifyGameStart(t);break;case c.SBF_RESP_CALL_BANKER_CMD_ID:this.onCallBanker(t);break;case c.SBF_NOTIFY_CONFIRM_BANKER_CMD_ID:this.onNotifySureBanker(t);break;case window.US_RESP_GAME_SWITCH_CMD_ID:this.onGameSwitch(t);break;case c.SBF_RESP_BET_COIN_CMD_ID:this.onBetCoin(t);break;case c.SBF_NOTIFY_OPEN_CARD_CMD_ID:this.onNotifyOpenCard(t);break;case c.SBF_RESP_OPEN_CARD_CMD_ID:this.onOpenCard(t);break;case c.SBF_NOTIFY_ONE_GAME_RESULT_CMD_ID:this.onNotifyOneGameResult(t);break;case window.US_RESP_CARRY_COIN_CMD_ID:this.onCarryCoin(t);break;case c.SBF_NOTIFY_KICKOUT_CMD_ID:this.doKickOut(t);break;case c.SBF_NOTIFY_NOT_CALL_BANKER_CMD_ID:this.onNotifyNotCallbanker(t);break;case c.SBF_NOTIFY_NOT_BET_COIN_CMD_ID:this.onNotifyNotBet(t);break;case c.SBF_NOTIFY_TOTAL_GAME_RESULT_CMD_ID:this.NotifyTotalGameResult(t);break;case c.US_RESP_TABLE_DETAIL_CMD_ID:this.onGetTableDetail(t);break;case US_RESP_GAME_CHAT_CMD_ID:this.onChatMsg(t)}},onChatMsg:function(e){if(e.code==SocketRetCode.RET_SUCCESS)if(e.kind==ChatType.E_CHAT_FACE_KIND){var t=this.getPlayerViewIdBySeatId(this.findPlayer(e.fromuid).seatid),s=this.CallBankerFlag[t].node.position;this.GiftAnimation.playFaceAnimation(e.type,s)}else if(e.kind==ChatType.E_CHAT_GIFT_KIND){
var i=this.getPlayerViewIdBySeatId(this.findPlayer(e.fromuid).seatid),a=this.getPlayerViewIdBySeatId(this.findPlayer(e.touid).seatid),n=this.PlayerItemPos[i].node.position,o=this.PlayerItemPos[a].node.position;this.GiftAnimation.playGiftAnimation(e.type,n,o)}else if(e.kind==ChatType.E_CHAT_VOICE_KIND){var i=this.getPlayerViewIdBySeatId(this.findPlayer(e.fromuid).seatid);if(null==this.VoicePlayerViewNode&&null==this.VoiceViewNode){cc.log("this.VoicePlayerViewNode  create"),this.VoicePlayerViewNode=cc.instantiate(this.VoicePlayView),this.GiftAnimation.node.addChild(this.VoicePlayerViewNode),this.VoicePlayerViewNode.setPosition(this.CallBankerFlag[i].node.position);var c=JSON.parse(BASE64.decoder(e.text));cc.log("Bullfight_GameScene.onChatMsg,fileID = "+c.fileID),cc.log("Bullfight_GameScene.onChatMsg,downloadFilePath = "+c.filePath),S.getInstance().DownloadRecordedFile(c.fileID,c.filePath)}else cc.log("onChatMsg,msg = "+JSON.stringify(e)),this.VoiceArray.push(e),cc.log("onChatMsg,VoiceArray = "+this.VoiceArray.length)}else e.kind==ChatType.E_CHAT_WORD_KIND},onLoginMsg:function(e){cc.log("Bullfight_GameScene.onLoginMsg"),e.code>=SocketRetCode.RET_SUCCESS&&(this.clearTable(),this.delAllPlayer(),n.createMessageReq(c.US_REQ_TABLE_DETAIL_CMD_ID).send())},showShareView:function(){var e=cc.instantiate(this.ShareView);this.node.addChild(e),e.setPosition(cc.p(0,0));var t="我在游戏［"+S.getInstance().getAppName()+"］里创建了房间("+a.getInstance().privateid+"),快点一起来玩吧！！！";e.getComponent("ShareView").setShareTyep(ShareType.E_SHARETYPE_LINK,t,a.getInstance().clienturl)},onEnterRoom:function(e){if(cc.log("Bullfight_GameScene.onEnterRoom"),e.code==SocketRetCode.RET_SUCCESS){if(this.tableRuleInfo=JSON.parse(BASE64.decoder(e.param)),this.tableStatus=e.tstatus,this.m_iMaxPlayers=e.seats,this.RoomName.string=e.name,o.getInstance().bowner=e.bowner,o.getInstance().status=e.ustatus,a.getInstance().superCost=e.supercost,a.getInstance().giftCost=e.giftcosts,this.SuperCostLabel.string=a.getInstance().superCost,this.updateBet(this.tableRuleInfo.minante),cc.log("onEnterRoom: tstatus=",this.tableStatus," status=",o.getInstance().status),this.tableStatus==Bullfight_TableStatus.E_TABLE_NOT_START_STATUS&&1==o.getInstance().bowner)cc.log("onEnterRoom: bowner="+o.getInstance().bowner),this.showTableStatusBtn(),a.getInstance().VerStatus!=a.getInstance().VerStatusType.VERSION_TYPE_AUDIT&&this.showShareView();else if(this.tableStatus>Bullfight_TableStatus.E_TABLE_NOT_START_STATUS)switch(cc.log("Bullfight_GameScene.onEnterRoom, get table detail."),n.createMessageReq(c.US_REQ_TABLE_DETAIL_CMD_ID).send(),this.tableStatus){case Bullfight_TableStatus.E_TABLE_READY_STATUS:this.Tips.string="准备中";break;case Bullfight_TableStatus.E_TABLE_CALL_STATUS:this.Tips.string="抢庄中";break;case Bullfight_TableStatus.E_TABLE_BET_STATUS:this.Tips.string="下注中";break;case Bullfight_TableStatus.E_TABLE_OPEN_STATUS:this.Tips.string="开牌中";break;case Bullfight_TableStatus.E_TABLE_OPEN_STATUS:this.Tips.string="本局结束"}else this.Tips.string="游戏未开始";for(var t=0;null!=e.seaters&&t<e.seaters.length;t++){var s=new u;s.uid=e.seaters[t].uid,s.name=e.seaters[t].name,s.headurl=e.seaters[t].headurl,s.sex=e.seaters[t].sex,s.gold=e.seaters[t].gold,s.diamond=e.seaters[t].diamond,s.coin=e.seaters[t].coin,s.seatid=e.seaters[t].seatid,s.status=e.seaters[t].status,s.winGold=e.seaters[t].win,s.TotalCarry=e.seaters[t].total,s.TotalRound=e.seaters[t].totalround,s.TotalTable=e.seaters[t].totaltable,this.addPlayer(s)}this.refreshAllPlayerOnTable(!1)}},onSitDown:function(e){if(cc.log("Bullfight_GameScene.onSitDown"),l.dismiss(),e.code==SocketRetCode.RET_SUCCESS)if(this.tableStatus=e.tstatus,1==e["switch"]){var t=new u;cc.log("player.seatid = "+e.seatid),t.uid=e.seatuid,t.name=e.name,t.headurl=e.headurl,t.sex=e.sex,t.gold=e.gold,t.diamond=e.diamond,t.coin=e.coin,t.status=e.status,t.seatid=e.seatid,t.winGold=e.win,t.TotalCarry=e.total,t.TotalRound=e.totalround,t.TotalTable=e.totaltable,cc.log("onSitDown player.TotalRound=",t.TotalRound," player.TotalTable=",t.TotalTable),this.addPlayer(t),t.uid==o.getInstance().uid?this.refreshAllPlayerOnTable(!0):this.showOnePlayerInTable(t),e.seatuid==o.getInstance().uid&&(e.iscarry>0?this.createCarryView(e.carrytime):this.showTableStatusBtn())}else this.delPlayer(e.seatuid),e.seatuid==o.getInstance().uid&&(this.refreshAllPlayerOnTable(!0),this.showTableStatusBtn());else e.code>SocketRetCode.RET_SUCCESS&&r.show(e.desc)},onCarryCoin:function(e){if(e.code==SocketRetCode.RET_SUCCESS){cc.log("[%d,%d]",e.carryuid,o.getInstance().uid),this.tableStatus=e.tstatus,1!=o.getInstance().bowner&&e.carryuid==o.getInstance().uid&&r.show("桌主已同意您的请求");var t=this.findPlayer(e.carryuid);if(t){cc.log("Bullfight_GameScene.onCarryCoin,carrycoin = "+e.carrycoin," coin=",e.coin),t.status=e.ustatus,t.TotalCarry=e.carrycoin,t.coin=e.coin,t.gold=e.gold,t.diamond=e.diamond;var s=this.getPlayerViewIdBySeatId(t.seatid);this.PlayerItemPos[s].setUserGold(t.coin)}e.carryuid==o.getInstance().uid&&(o.getInstance().status=e.ustatus,this.showTableStatusBtn())}else r.show(e.desc)},onLeaveGame:function(e){cc.log("Bullfight_GameScene.onLeaveGame"),e.code==SocketRetCode.RET_SUCCESS&&(a.getInstance().gamesvcid=0,a.getInstance().tableid=0,cc.director.loadScene("HallScene"))},onNotifyGameSwitch:function(e){cc.log("Bullfight_GameScene.onNotifyGameSwitch"),1==e.isStart?(this.tableStatus=e.tstatus,o.getInstance().status=e.ustatus,cc.log("Bullfight_GameScene.onNotifyGameSwitch,this.tableStatus = "+this.tableStatus),this.showTableStatusBtn(),this.sitPlayers.size()>0?(this.startClockTime(e.readyTime),this.Tips.string="准备中"):this.Tips.string="请入座",this.clearAllPlayerCardItem(),this.clearCallBankerFlag(),this.clearUserWinScore(),this.clearUserHeadBanker()):r.show(e.desc)},onNotifyGameStart:function(e){if(cc.log("Bullfight_GameScene.onNotifyGameStart"),this.clearReadyFlag(),o.getInstance().status=e.ustatus,this.tableStatus=e.tstatus,this.roundnum=e.roundnum,this.RoundNum.string="第"+this.roundnum+"局",this.Tips.string="抢庄中",this.startClockTime(e.calltime),o.getInstance().seatid>=0&&o.getInstance().status==Bullfight_PlayerStatus.E_PLAYER_ACTIVE_STATUS){var t=this.getPlayerViewIdBySeatId(o.getInstance().seatid);this.sendCardsToPlayer(t,e.cards)}this.showTableStatusBtn();for(var s=0;s<e.seaters.length;s++){var i=e.seaters[s],a=this.findPlayer(i.uid);if(a.status=i.ustatus,a.finalcoin=0,a.bulltype=0,a.cards=[],a.calltype=0,a.bBanker=0,a.betcoinmul=0,a.bOpenCard=0,i.ustatus==Bullfight_PlayerStatus.E_PLAYER_ACTIVE_STATUS){var t=this.getPlayerViewIdBySeatId(i.seatid),n=[0,0,0,0,0];this.sendCardsToPlayer(t,n)}else this.refreshLookFlag(i.uid)}},onReady:function(e){cc.log("Bullfight_GameScene.onReady readuid=",e.readyuid," ustatus=",e.ustatus),e.code==SocketRetCode.RET_SUCCESS&&(e.readyuid==o.getInstance().uid&&(o.getInstance().status=e.ustatus,this.BtnReady.node.active=!1,this.clearTable(),this.Tips.string="等待其他玩家准备"),this.updatePlayerStatus(e.readyuid,e.ustatus),this.refreshReadyFlag(e.readyuid))},onCallBanker:function(e){cc.log("Bullfight_GameScene.onCallBanker"),e.code==SocketRetCode.RET_SUCCESS?(this.tableStatus=e.tstatus,e.calluid==o.getInstance().uid&&(this.BtnCallBankerNode.active=!1,this.Tips.string="等带其他玩家抢庄"),this.updatePlayerCallType(e.calluid,e.calltype),this.refreshCallBankerFlag(e.calluid,!0)):r.show(e.desc)},onNotifySureBanker:function(e){cc.log("Bullfight_GameScene.onNotifySureBanker"),this.clearCallBankerFlag(),this.startClockTime(e.bettime),this.bankerUid=e.bankeruid,this.m_iMaxBet=e.maxbetmul,this.tableStatus=e.tstatus,o.getInstance().status=e.ustatus;var t=this.findPlayer(e.bankeruid);t.bBanker=1;var s=this.getPlayerViewIdBySeatId(t.seatid);this.PlayerItemPos[s].setPlayerBanker(),this.showTableStatusBtn(),this.Tips.string="下注中"},onGameSwitch:function(e){cc.log("Bullfight_GameScene.onGameSwitch"),e.code==SocketRetCode.RET_SUCCESS?1==e.isstart?(this.BtnStart.node.active=!1,this.Tips.string="游戏开始"):r.show("房间解散成功，本局结束后将解散"):14==e.code&&r.show(e.desc)},onBetCoin:function(e){if(cc.log("Bullfight_GameScene.onBetCoin"),e.code==SocketRetCode.RET_SUCCESS){this.tableStatus=e.tstatus,o.getInstance().status=e.ustatus,e.betuid==o.getInstance().uid&&o.getInstance().status==Bullfight_PlayerStatus.E_PLAYER_ACTIVE_STATUS&&(this.BetCoinNode.active=!1,this.Tips.string="等待其他玩家下注");var t=this.sitPlayers.get(e.betuid);t.betcoinmul=e.betcoinmul;var s=this.getPlayerViewIdBySeatId(t.seatid);this.setPlayerBetCount(s,t.betcoinmul*this.tableRuleInfo.minante)}},onNotifyOpenCard:function(e){if(cc.log("onNotifyOpenCard..."),o.getInstance().status=e.ustatus,this.tableStatus=e.tstatus,this.startClockTime(e.opentime),this.Tips.string="看牌中",o.getInstance().status==Bullfight_PlayerStatus.E_PLAYER_ACTIVE_STATUS){o.getInstance().cards=e.cards;var t=this.getPlayerViewIdBySeatId(o.getInstance().seatid);cc.log("Bullfight_GameScene.onNotifyOpenCard,viewId = "+t),this.openplayerCards(t,e.cards,-1,-1),this.showTableStatusBtn(),this.setCustomCardType(!0)}},onOpenCard:function(e){if(e.code==SocketRetCode.RET_SUCCESS){this.tableStatus=e.tstatus;var t=this.findPlayer(e.openuid);t.bulltype=e.bulltype,t.cards=e.cards,t.bOpenCard=1,cc.log("Bullfight_GameScene.onOpenCard,player = "+t);var s=this.getPlayerViewIdBySeatId(e.seatid);this.setCardType(s,t.bulltype,!0),this.openplayerCards(s,t.cards,e.index1,e.index2),e.openuid==o.getInstance().uid&&(this.setCustomCardType(!1),this.OpenCardNode.active=!1,this.Tips.string="等待其他玩家看牌")}},onNotifyOneGameResult:function(e){this.tableStatus=e.tstatus,o.getInstance().status=e.ustatus,cc.log("onNotifyOneGameResult msg.ustatus=",e.ustatus," status=",o.getInstance().status),this.OpenCardNode.active=!1,this.setCustomCardType(!1),this.startClockTime(e.overtime),this.Tips.string="本局结算";for(var t=0;t<e.seaters.length;t++)if(e.seaters[t].ustatus==Bullfight_PlayerStatus.E_PLAYER_OVER_STATUS){var s=this.findPlayer(e.seaters[t].uid);s.status=e.seaters[t].ustatus,s.coin=e.seaters[t].coin;var i=this.getPlayerViewIdBySeatId(e.seaters[t].seatid);if(this.PlayerItemPos[i].setUserWinScore(e.seaters[t].finalcoin),this.PlayerItemPos[i].setUserGold(e.seaters[t].coin),e.seaters[t].uid==o.getInstance().uid)if(e.seaters[t].finalcoin>0){var a=this.CallBankerFlag[i].node.position;this.GiftAnimation.playWinAnimation(a),m.playEffect(p.AUDIO_WIN)}else m.playEffect(p.AUDIO_LOSE)}},doKickOut:function(e){e.code!=SocketRetCode.RET_SUCCESS&&(this.delPlayer(e.seatuid),cc.log("Bullfight_GameScene.doKickOut,uid = "+o.getInstance().uid),e.seatuid==o.getInstance().uid&&(cc.log("Bullfight_GameScene.doKickOut, my be kickout."),o.getInstance().status=0,o.getInstance().seatid=-1,this.refreshAllPlayerOnTable(!0),this.showTableStatusBtn(),e.code!=SocketRetCode.RET_SUCCESS&&r.show(e.desc)))},onNotifyNotCallbanker:function(e){},onNotifyNotBet:function(e){},NotifyTotalGameResult:function(e){this.createTotalGameResult(e)},createTotalGameResult:function(e){var t=cc.instantiate(this.GameTotalResult);this.node.addChild(t),t.setPosition(cc.p(0,0)),t.getComponent("Bullfight_TotalResult").setGameData(e,this.GameScene)},onGetTableDetail:function(e){if(!(e.code<SocketRetCode.RET_SUCCESS)){this.tableRuleInfo={gametype:e.gametype,minante:e.minante,mincarry:e.mincarry,maxcarry:e.maxcarry,livetime:e.livetime,seats:e.seats,bullmul:e.bullmul,totalcarry:e.totalcarry},cc.log("onGetTableDetail mincarry=",e.minmincarry," maxcarry=",e.maxcarry),this.roundnum=e.roundnum,this.RoundNum.string="第"+this.roundnum+"局",a.getInstance().privateid=e.privateid,this.RoomId.string="ID:"+a.getInstance().privateid,cc.log("onGetTableDetail roundnum=",this.roundnum," privateid=",a.getInstance().privateid),o.getInstance().TotalCarry=e.carrycoin,o.getInstance().bowner=e.bowner,this.m_iMaxPlayers=e.seats,this.tableStatus=e.tstatus,this.bankerUid=e.bankeruid,this.updateClockTime(e.timeout);for(var t=0;t<e.seaters.length;t++){var s=new u;s.uid=e.seaters[t].uid,s.name=e.seaters[t].name,s.headurl=e.seaters[t].headurl,s.sex=e.seaters[t].sex,s.gold=e.seaters[t].gold,s.diamond=e.seaters[t].diamond,s.coin=e.seaters[t].coin,s.status=e.seaters[t].status,s.seatid=e.seaters[t].seatid,s.TotalCarry=e.seaters[t].total,s.winGold=e.seaters[t].win,s.calltype=e.seaters[t].calltype,s.betcoinmul=e.seaters[t].betmul,s.cards=e.seaters[t].cards,s.bulltype=e.seaters[t].bulltype,s.finalcoin=e.seaters[t].finalcoin,s.TotalRound=e.seaters[t].totalround,s.TotalTable=e.seaters[t].totaltable,s.bOpenCard=e.seaters[t].bopencard,s.uid==o.getInstance().uid&&(this.m_iMaxBet=e.seaters[t].maxbetmul),this.bankerUid==s.uid?s.bBanker=1:s.bBanker=0,cc.log("onGetTableDetail uid=",s.uid," isbanker=",s.bBanker),this.addPlayer(s)}this.refreshAllPlayerOnTable(!0)}},sendReady:function(){n.createMessageReq(c.SBF_REQ_READY_CMD_ID).send()},sendCallBanker:function(e){var t={calltype:e};n.createMessageReq(c.SBF_REQ_CALL_BANKER_CMD_ID).send(t)},sendSwitchGame:function(e){var t={isstart:e};n.createMessageReq(US_REQ_GAME_SWITCH_CMD_ID).send(t)},sendBetCoinReq:function(e){var t={betcoinmul:this.m_iMyBetCoin};n.createMessageReq(c.SBF_REQ_BET_COIN_CMD_ID).send(t)},sendOpenCard:function(){n.createMessageReq(c.SBF_REQ_OPEN_CARD_CMD_ID).send()},callbackBtnMusic:function(e,t){var s=e.isChecked;s?m.resumeBackgroundMusic():m.pauseBackgroundMusic()},callbackBtn:function(e,t){var s=e.target,i=s.getName();if(m.playEffect(C.AUDIO_BTN_CLICK),cc.log("Bullfight_GameScene.callbackBtn,btn = "+i),"BtnMenu"==i)this.createMenu();else if("BtnSuccess"==i){var n=cc.instantiate(this.PlayersList);this.node.addChild(n),n.setPosition(cc.p(0,0))}else if("BtnSpeech"==i);else if("BtnMusicOn"==i)this.BtnMusicOff.node.active=!0,this.BtnMusicOn.node.active=!1,a.getInstance().VolumeState=1,m.pauseBackgroundMusic();else if("BtnMusicOff"==i)this.BtnMusicOff.node.active=!1,this.BtnMusicOn.node.active=!0,a.getInstance().VolumeState=0,m.resumeBackgroundMusic();else if("BtnStart"==i)this.sendSwitchGame(1);else if("BtnReady"==i)this.sendReady();else if("BtnNotCall"==i)this.sendCallBanker(1);else if("BtnCall"==i)this.sendCallBanker(2);else if("BtnSuperCall"==i)this.sendCallBanker(3);else if("BtnBet1"==i)this.m_iMyBetCoin+=1,this.BetArray.push(1),cc.log("[BtnBet1] this.BetArray = ",this.BetArray," m_iMyBetCoin=",this.m_iMyBetCoin),this.updateMaxBet();else if("BtnBet2"==i)this.m_iMyBetCoin+=2,this.BetArray.push(2),cc.log("[BtnBet2] this.BetArray = ",this.BetArray," m_iMyBetCoin=",this.m_iMyBetCoin),this.updateMaxBet();else if("BtnBet5"==i)this.m_iMyBetCoin+=5,this.BetArray.push(5),cc.log("[BtnBet5] this.BetArray = ",this.BetArray," m_iMyBetCoin=",this.m_iMyBetCoin),this.updateMaxBet();else if("BtnBet10"==i)this.m_iMyBetCoin+=10,this.BetArray.push(10),cc.log("[BtnBet10] this.BetArray = ",this.BetArray," m_iMyBetCoin=",this.m_iMyBetCoin),this.updateMaxBet();else if("BtnBetSure"==i)this.sendBetCoinReq();else if("BtnBetCancle"==i)if(this.BetArray.length>0){var o=this.BetArray.pop();this.m_iMyBetCoin-=o,cc.log("[BtnBetCancle] this.BetArray = ",this.BetArray," m_iMyBetCoin=",this.m_iMyBetCoin," bet="+o),this.m_iMyBetCoin<=0&&(this.m_iMyBetCoin=1),this.updateMaxBet()}else cc.warn("[BtnBetCancle] not this.BetArray = ",this.BetArray," m_iMyBetCoin=",this.m_iMyBetCoin);else"BtnNoBullfight"==i?this.sendOpenCard():"BtnBullfight"==i?this.sendOpenCard():"BtnExpression"==i?this.createExpression():"BtnRoomInfo"==i&&this.createRoomInfoView()},createExpression:function(){var e=cc.instantiate(this.ExpressionView);this.node.addChild(e),e.setPosition(cc.p(0,0))},updateMaxBet:function(){if(0!=this.m_iMaxBet&&this.m_iMyBetCoin>this.m_iMaxBet){r.show("本局最大下注为："+this.m_iMaxBet*this.tableRuleInfo.minante);var e=this.m_iMyBetCoin-this.m_iMaxBet,t=this.BetArray.pop(),s=t-e;if(this.m_iMyBetCoin=this.m_iMaxBet,s<=0)return void cc.warn("updateMaxBet ignore diffBet=",s);this.BetArray.push(s),cc.log("updateMaxBet diffBet=",s)}var i=this.getPlayerViewIdBySeatId(o.getInstance().seatid);this.setPlayerBetCount(i,this.m_iMyBetCoin*this.tableRuleInfo.minante),m.playEffect(C.AUDIO_BTN_BET)},createMenu:function(){cc.log("Bullfight_GameScene.createMenu");var e=this,t=cc.instantiate(this.Menu);this.node.addChild(t),t.setPosition(cc.p(0,0)),t.getComponent("Bullfighgt_Menu").setCallBackCarry(function(){cc.log("Bullfight_GameScene, Bullfighgt_Menu"),e.createCarryView(20)}),t.getComponent("Bullfighgt_Menu").setRuleInfo(this.tableRuleInfo)},createRoomInfoView:function(){cc.log("Bullfight_GameScene.createMenu");var e=cc.instantiate(this.RoomInfoView);this.node.addChild(e),e.setPosition(cc.p(0,0)),e.getComponent("Bullfight_RoomInfo").setRoomInfo(this.tableRuleInfo)},createCarryView:function(e){var t=cc.instantiate(this.CarryView);this.node.addChild(t),t.setPosition(cc.p(0,0)),t.getComponent("Bullfight_CarryView").setCarryTime(e),cc.log("Bullfight_GameScene.createCarryView mincarry=",this.tableRuleInfo.mincarry," maxcarry=",this.tableRuleInfo.maxcarry," totalcarry=",this.tableRuleInfo.totalcarry),t.getComponent("Bullfight_CarryView").setMinAndMax(this.tableRuleInfo.mincarry,this.tableRuleInfo.maxcarry,this.tableRuleInfo.totalcarry)},updatePlayerCallType:function(e,t){var s=this.sitPlayers.get(e);s.calltype=t},refreshCallBankerFlag:function(e,t){cc.log("refreshCallBankerFlag uid=",e);var s=this.findPlayer(e),i=this.getPlayerViewIdBySeatId(s.seatid);this.CallBankerFlag[i].node.active=!0,this.CallBankerFlag[i].spriteFrame=this.CallBankerFlagFrame[s.calltype-1<0?0:s.calltype-1],t&&m.playEffect(s.calltype-1==0?p.AUDIO_MAN_NOCALLBANKER:p.AUDIO_MAN_CALLBANKER)},refreshReadyFlag:function(e){var t=this.findPlayer(e),s=this.getPlayerViewIdBySeatId(t.seatid);cc.log("refreshReadyFlag, uid=",e," seatid=",t.seatid," viewid=",s),this.CallBankerFlag[s].node.active=!0,this.CallBankerFlag[s].spriteFrame=this.CallBankerFlagFrame[3]},refreshLookFlag:function(e){var t=this.findPlayer(e),s=this.getPlayerViewIdBySeatId(t.seatid);cc.log("refreshLookFlag, uid=",e," seatid=",t.seatid," viewid=",s),this.CallBankerFlag[s].node.active=!0,this.CallBankerFlag[s].spriteFrame=this.CallBankerFlagFrame[4]},clearCallBankerFlag:function(){cc.log("clearCallBankerFlag");for(var e=0;e<BULLFIGHT_MAX_PLAYER;e++)this.CallBankerFlag[e].node.active=!1},clearReadyFlag:function(){this.clearCallBankerFlag()},clearUserHeadBanker:function(){for(var e=0;e<6;e++)this.PlayerItemPos[e].clearPlayerBanker()},clearUserWinScore:function(){for(var e=0;e<this.PlayerItemPos.length;e++)this.PlayerItemPos[e].clearUserWinScore()},startClockTime:function(e){this.time=e,this.clock.node.active=!0,this.clock.updateTimeLabel(this.time),this.schedule(this.updateClockTime,1)},updateClockTime:function(){this.clock.updateTimeLabel(this.time),this.time--,this.time<0&&(this.clock.node.active=!1,this.tableStatusTimeOut(),this.unschedule(this.updateClockTime))},tableStatusTimeOut:function(){switch(this.tableStatus){case Bullfight_TableStatus.E_TABLE_CLOSE_STATUS:break;case Bullfight_TableStatus.E_TABLE_NOT_START_STATUS:break;case Bullfight_TableStatus.E_TABLE_READY_STATUS:break;case Bullfight_TableStatus.E_TABLE_CALL_STATUS:break;case Bullfight_TableStatus.E_TABLE_BET_STATUS:break;case Bullfight_TableStatus.E_TABLE_OPEN_STATUS:break;case Bullfight_TableStatus.E_TABLE_OVER_STATUS:}},showTableStatusBtn:function(){if(this.BtnStart.node.active=!1,this.BtnReady.node.active=!1,this.BtnCallBankerNode.active=!1,this.BetCoinNode.active=!1,this.OpenCardNode.active=!1,this.clearCallBankerFlag(),1==o.getInstance().bowner&&this.tableStatus==Bullfight_TableStatus.E_TABLE_NOT_START_STATUS&&(cc.log("showTableStatusBtn bowner=",o.getInstance().bowner),this.BtnStart.node.active=!0,this.Tips.node.string=""),o.getInstance().seatid==-1)return void cc.log("showTableStatusBtn seatid=",o.getInstance().seatid);switch(cc.log("showTableStatusBtn, this.tableStatus  = "+this.tableStatus),cc.log("showTableStatusBtn, this.playerStatus = "+o.getInstance().status),this.tableStatus){case Bullfight_TableStatus.E_TABLE_CLOSE_STATUS:break;case Bullfight_TableStatus.E_TABLE_NOT_START_STATUS:1==o.getInstance().bowner&&(this.BtnStart.node.active=!0);break;case Bullfight_TableStatus.E_TABLE_READY_STATUS:o.getInstance().status!=Bullfight_PlayerStatus.E_PLAYER_SIT_STATUS&&o.getInstance().status!=Bullfight_PlayerStatus.E_PLAYER_OVER_STATUS||(this.BtnReady.node.active=!0);break;case Bullfight_TableStatus.E_TABLE_CALL_STATUS:o.getInstance().status==Bullfight_PlayerStatus.E_PLAYER_ACTIVE_STATUS&&(this.BtnCallBankerNode.active=!0);break;case Bullfight_TableStatus.E_TABLE_BET_STATUS:this.bankerUid!=o.getInstance().uid&&o.getInstance().status==Bullfight_PlayerStatus.E_PLAYER_ACTIVE_STATUS&&(this.BetCoinNode.active=!0);break;case Bullfight_TableStatus.E_TABLE_OPEN_STATUS:o.getInstance().status==Bullfight_PlayerStatus.E_PLAYER_ACTIVE_STATUS&&(this.OpenCardNode.active=!0);break;case Bullfight_TableStatus.E_TABLE_OVER_STATUS:break;case Bullfight_TableStatus.E_TABLE_IDLE_STATUS:}},sendCardsToPlayer:function(e,t){this.CardItem[e].sendCardAnimation(t)},openplayerCards:function(e,t,s,i){this.CardItem[e].openCardAnimation(t,s,i)},clearAllPlayerCardItem:function(){for(var e=0;e<BULLFIGHT_MAX_PLAYER;e++)this.CardItem[e].clearCardItem()},setCardType:function(e,t,s){if(this.CardItem[e].setCardType(t),s)switch(t){case Bullfight_CardType.E_BULL_ZERO:m.playEffect(p.AUDIO_MAN_BULL0);break;case Bullfight_CardType.E_BULL_ONE:m.playEffect(p.AUDIO_MAN_BULL1);break;case Bullfight_CardType.E_BULL_TWO:m.playEffect(p.AUDIO_MAN_BULL2);break;case Bullfight_CardType.E_BULL_THREE:m.playEffect(p.AUDIO_MAN_BULL3);break;case Bullfight_CardType.E_BULL_FOUR:m.playEffect(p.AUDIO_MAN_BULL4);break;case Bullfight_CardType.E_BULL_FIVE:m.playEffect(p.AUDIO_MAN_BULL5);break;case Bullfight_CardType.E_BULL_SIX:m.playEffect(p.AUDIO_MAN_BULL6);break;case Bullfight_CardType.E_BULL_SEVEN:m.playEffect(p.AUDIO_MAN_BULL7);break;case Bullfight_CardType.E_BULL_EIGHT:m.playEffect(p.AUDIO_MAN_BULL8);break;case Bullfight_CardType.E_BULL_NINE:m.playEffect(p.AUDIO_MAN_BULL9);break;case Bullfight_CardType.E_BULL_PAIR:break;case Bullfight_CardType.E_BULL_BULL:m.playEffect(p.AUDIO_MAN_BULL10);break;case Bullfight_CardType.E_BULL_LINE:m.playEffect(p.AUDIO_MAN_LINE);break;case Bullfight_CardType.E_BULL_THREE_TWO:m.playEffect(p.AUDIO_MAN_3AND2);break;case Bullfight_CardType.E_BULL_BOMB:m.playEffect(p.AUDIO_MAN_BOMB);break;case Bullfight_CardType.E_BULL_FIVE_KING:m.playEffect(p.AUDIO_MAN_5FLOWER);break;case Bullfight_CardType.E_BULL_SMALL_FIVE:m.playEffect(p.AUDIO_MAN_5LITTLEBULL);break;case Bullfight_CardType.E_BULL_MAX:}},setPlayerBetCount:function(e,t){this.CardItem[e].setPlayerBetCount(t)},setCustomCardType:function(e){this.CardItem[5].setCustomCardType(e)},delPlayer:function(e){var t=this.findPlayer(e);cc.log("Bullfight_GameScene.delPlayer,uid = "+e+" it = "+t),null!=t&&(this.removeOnePlayerInTable(t),this.sitPlayers.containsKey(e)&&(cc.log("Bullfight_GameScene.delPlayer, delete uid= "+e+" by sitPlayers"),this.sitPlayers["delete"](e),e==o.getInstance().uid&&(cc.log("Bullfight_GameScene.delPlayer, uid= "+e+" seatid=-1"),o.getInstance().seatid=-1)))},delAllPlayer:function(){var e=this;this.sitPlayers.forEach(function(t){e.removeOnePlayerInTable(t)}),o.getInstance().seatid=-1,this.sitPlayers.clear(),this.sitPlayers=new Map},addPlayer:function(e){this.delPlayer(e.uid),this.sitPlayers.size()<this.m_iMaxPlayers&&(e.uid==o.getInstance().uid?(o.getInstance().Copy(e),this.sitPlayers.set(o.getInstance().uid,o.getInstance())):this.sitPlayers.set(e.uid,e))},refreshAllPlayerOnTable:function(e){this.clearAllPlayerCardItem(),this.removeAllPlayerInTable(),this.showTableStatusBtn();var t=cc.sequence(cc.fadeOut(0),cc.fadeIn(.5)).speed(.4);this.PlayNode.runAction(t),cc.log("Bullfight_GameScene.this.sitPlayers = "+this.sitPlayers.size());for(var s=0;s<this.sitPlayers.size();s++){var i=this.sitPlayers.element(s).value;if(void 0!=i){if(this.showOnePlayerInTable(i),e){var a=this.getPlayerViewIdBySeatId(i.seatid);switch(this.tableStatus){case Bullfight_TableStatus.E_TABLE_READY_STATUS:cc.log("E_TABLE_READY_STATUS, uid=",i.uid," player.status=",i.status),i.status==Bullfight_PlayerStatus.E_PLAYER_READY_STATUS&&this.refreshReadyFlag(i.uid);break;case Bullfight_TableStatus.E_TABLE_CALL_STATUS:if(cc.log("E_TABLE_CALL_STATUS, uid=",i.uid," player.status=",i.status),i.status==Bullfight_PlayerStatus.E_PLAYER_ACTIVE_STATUS)if(i.calltype>0&&this.refreshCallBankerFlag(i.uid,!1),i.uid==o.getInstance().uid)this.sendCardsToPlayer(a,i.cards);else{var n=[0,0,0,0,0];this.sendCardsToPlayer(a,n)}break;case Bullfight_TableStatus.E_TABLE_BET_STATUS:if(cc.log("E_TABLE_BET_STATUS, uid=",i.uid," player.status=",i.status," isbanker=",i.bBanker),i.status==Bullfight_PlayerStatus.E_PLAYER_ACTIVE_STATUS){if(1==i.bBanker){cc.log("E_TABLE_BET_STATUS, uid=",i.uid," setbanker");var a=this.getPlayerViewIdBySeatId(i.seatid);this.PlayerItemPos[a].setPlayerBanker()}else if(i.betcoinmul>0){cc.log("E_TABLE_BET_STATUS, uid=",i.uid," betcoinmul=",i.betcoinmul);var a=this.getPlayerViewIdBySeatId(i.seatid);this.setPlayerBetCount(a,i.betcoinmul*this.tableRuleInfo.minante)}if(i.uid==o.getInstance().uid)this.sendCardsToPlayer(a,i.cards),0==i.bBanker&&this.showTableStatusBtn();else{var n=[0,0,0,0,0];this.sendCardsToPlayer(a,n)}}break;case Bullfight_TableStatus.E_TABLE_OPEN_STATUS:if(cc.log("E_TABLE_OPEN_STATUS, uid=",i.uid," player.status=",i.status),i.status==Bullfight_PlayerStatus.E_PLAYER_ACTIVE_STATUS)if(1==i.bBanker?(cc.log("E_TABLE_OPEN_STATUS, uid=",i.uid," setbanker"),this.PlayerItemPos[a].setPlayerBanker()):i.betcoinmul>0&&(cc.log("E_TABLE_OPEN_STATUS, uid=",i.uid," betcoinmul=",i.betcoinmul),this.setPlayerBetCount(a,i.betcoinmul*this.tableRuleInfo.minante)),i.uid==o.getInstance().uid)1==i.bOpenCard?(this.setCardType(a,i.bulltype,!1),this.openplayerCards(a,i.cards,-1,-1),this.setCustomCardType(!1),this.OpenCardNode.active=!1,this.Tips.string="等待其他玩家看牌"):(this.openplayerCards(a,i.cards,-1,-1),this.showTableStatusBtn(),this.setCustomCardType(!0));else if(1==i.bOpenCard)this.setCardType(a,i.bulltype,!1),this.openplayerCards(a,i.cards,-1,-1);else{var n=[0,0,0,0,0];this.sendCardsToPlayer(a,n)}break;case Bullfight_TableStatus.E_TABLE_OVER_STATUS:if(cc.log("E_TABLE_OVER_STATUS, uid=",i.uid," player.status=",i.status),i.status==Bullfight_PlayerStatus.E_PLAYER_OVER_STATUS&&(this.PlayerItemPos[a].setUserWinScore(i.finalcoin),i.uid==o.getInstance().uid&&msg.seaters[s].finalcoin>0)){var c=this.CallBankerFlag[viewid].node.position;this.GiftAnimation.playWinAnimation(c)}case Bullfight_TableStatus.E_TABLE_IDLE_STATUS:}}}else cc.log("refreshAllPlayerOnTable player is undefined.")}},showOnePlayerInTable:function(e){if(void 0==e)return void cc.error("Bullfight_GameScene.showOnePlayerInTable , player == undefined");var t=this.getPlayerViewIdBySeatId(e.seatid);cc.log("Bullfight_GameScene.showOnePlayerInTable, seatid = "+e.seatid," viewId = "+t),this.PlayerItemPos[t].updatePlayerInfo(e)},playerStandUpOrDown:function(e,t){},removeOnePlayerInTable:function(e){cc.log("Bullfight_GameScene.removeOnePlayerInTable,status = "+e.status);var t=this.getPlayerViewIdBySeatId(e.seatid);cc.log("Bullfight_GameScene.removeOnePlayerInTable, viewId = "+t+",player.seatid = "+e.seatid),this.PlayerItemPos[t].clearPlayerInfo()},removeAllPlayerInTable:function(){for(var e=0;e<6;e++)this.PlayerItemPos[e].clearPlayerInfo()},getPlayerViewIdBySeatId:function(e){var t=window.BULLFIGHT_MAX_PLAYER-1,s=e;return o.getInstance().seatid>=0?(s=(e-(o.getInstance().seatid-t)+window.BULLFIGHT_MAX_PLAYER)%window.BULLFIGHT_MAX_PLAYER,cc.log("Bullfight_GameScene.getPlayerViewIdBySeatId, seatId = %d,viewId = %d",e,s," myseatid=",o.getInstance().seatid)):cc.log("Bullfight_GameScene.getPlayerViewIdBySeatId, seatId = %d,viewId = %d",e,s),s},updatePlayerStatus:function(e,t){var s=this.sitPlayers.get(e);s.status=t},findPlayer:function(e){var t=this.sitPlayers.get(e);return t},findPlayerBySeatid:function(e){var t=null;return this.sitPlayers.forEach(function(s){s.seatid==e&&(t=s)}),t},onPause:function(){this._super()},onResume:function(){this._super()}}),cc._RFpop()},{AlertView:"AlertView",Audio_Common:"Audio_Common",BaseScene:"BaseScene",Bullfight_AudioConfig:"Bullfight_AudioConfig",Bullfight_CardItem:"Bullfight_CardItem",Bullfight_Clock:"Bullfight_Clock",Bullfight_GiftAnimation:"Bullfight_GiftAnimation",Bullfight_PlayerItem:"Bullfight_PlayerItem",Cmd_Bullfight:"Cmd_Bullfight",GameCallOC:"GameCallOC",GamePlayer:"GamePlayer",GameSystem:"GameSystem",LoadingView:"LoadingView",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",Player:"Player",ToastView:"ToastView",UtilTool:"UtilTool"}],Bullfight_GetPlayersListReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.US_REQ_PLAYER_LIST_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:o.getInstance().gamesvcid,tableid:o.getInstance().tableid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"2e6cclqN4tE6o/yi5AAccNS","Bullfight_GetPlayersListReqPacket");var a=e("MessageReq"),n=e("Cmd_Bullfight"),o=e("GameSystem");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",GameSystem:"GameSystem",MessageReq:"MessageReq"}],Bullfight_GetPlayersListRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.US_RESP_PLAYER_LIST_CMD_ID,this.remainTime=0,this.roundNum=0,this.actors=[],this.watchers=[],this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.remainTime=e.remaintime,this.roundNum=e.roundnum,this.actors=e.actors,this.watchers=e.watchers)}}cc._RFpush(t,"e5e359nA/FDKJd6DAISco4T","Bullfight_GetPlayersListRespPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_GiftAnimation:[function(e,t,s){"use strict";cc._RFpush(t,"8e8d2YIHBZPLrdVn/DK/tZZ","Bullfight_GiftAnimation"),window.GiftType=cc.Enum({E_ROSE_GIFT:1,E_LOVE_GIFT:2,E_FOAM_GIFT:3,E_BIG_ROSE_GIFT:4,E_KETCHUP_GIFT:5}),cc.Class({"extends":cc.Component,properties:{GiftIcon:[cc.SpriteFrame],GiftFrame1:[cc.SpriteFrame],GiftFrame2:[cc.SpriteFrame],GiftFrame3:[cc.SpriteFrame],GiftFrame4:[cc.SpriteFrame],GiftFrame5:[cc.SpriteFrame],FaceFrame1:[cc.SpriteFrame],FaceFrame2:[cc.SpriteFrame],FaceFrame3:[cc.SpriteFrame],FaceFrame4:[cc.SpriteFrame],FaceFrame5:[cc.SpriteFrame],FaceFrame6:[cc.SpriteFrame],FaceFrame7:[cc.SpriteFrame],FaceFrame8:[cc.SpriteFrame],FaceFrame9:[cc.SpriteFrame],FaceFrame10:[cc.SpriteFrame],FaceFrame11:[cc.SpriteFrame],FaceFrame12:[cc.SpriteFrame],WinFrame:[cc.SpriteFrame]},onLoad:function(){},playWinAnimation:function(e){var t=new cc.Node;t.setPosition(e),t.y+=200;var s=t.addComponent(cc.Sprite);s.spriteFrame=this.WinFrame[0],this.node.addChild(t);var i=t.addComponent(cc.Animation),a=cc.AnimationClip.createWithSpriteFrames(this.WinFrame,this.WinFrame.length);i.playTimes=-1,i.addClip(a,"anim"),i.play("anim"),t.runAction(cc.sequence(cc.delayTime(1.5),cc.removeSelf(!0)).speed(.4))},playFaceAnimation:function(e,t){var s=[];1==e?s=this.FaceFrame1:2==e?s=this.FaceFrame2:3==e?s=this.FaceFrame3:4==e?s=this.FaceFrame4:5==e?s=this.FaceFrame5:6==e?s=this.FaceFrame6:7==e?s=this.FaceFrame7:8==e?s=this.FaceFrame8:9==e?s=this.FaceFrame9:10==e?s=this.FaceFrame10:11==e?s=this.FaceFrame11:12==e&&(s=this.FaceFrame12),this.playAnimationByType(s,t)},playGiftAnimation:function(e,t,s){var i=[];1==e?i=this.GiftFrame1:2==e?i=this.GiftFrame2:3==e?i=this.GiftFrame3:4==e?i=this.GiftFrame4:5==e&&(i=this.GiftFrame5),this.playGiftAnimationByType(i,t,s)},playAnimationByType:function(e,t){var s=new cc.Node;s.setPosition(t);var i=s.addComponent(cc.Sprite);i.spriteFrame=e[0],this.node.addChild(s);var a=s.addComponent(cc.Animation),n=cc.AnimationClip.createWithSpriteFrames(e,e.length);a.addClip(n,"anim"),a.play("anim"),s.runAction(cc.sequence(cc.delayTime(.2*e.length),cc.removeSelf(!0)).speed(.4))},playGiftAnimationByType:function(e,t,s){var i=new cc.Node;i.setPosition(t);var a=i.addComponent(cc.Sprite);a.spriteFrame=e[0],this.node.addChild(i);var n=cc.callFunc(function(e,t){var s=e.addComponent(cc.Animation),i=cc.AnimationClip.createWithSpriteFrames(t,t.length);
s.addClip(i,"anim"),s.play("anim"),e.runAction(cc.sequence(cc.delayTime(.4*t.length),cc.removeSelf(!0)))},i,e);i.runAction(cc.sequence(cc.moveTo(.5,s),n).speed(.4))}}),cc._RFpop()},{}],Bullfight_HelpReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_REQ_HELP_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:o.getInstance().gamesvcid,tableid:o.getInstance().tableid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"57983gMbEFBpprDmSIO1rnW","Bullfight_HelpReqPacket");var a=e("MessageReq"),n=e("Cmd_Bullfight"),o=e("GameSystem");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",GameSystem:"GameSystem",MessageReq:"MessageReq"}],Bullfight_HelpRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_RESP_HELP_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS}}cc._RFpush(t,"edf89MECARN9JzrQdnu+/3r","Bullfight_HelpRespPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_MultCell:[function(e,t,s){"use strict";cc._RFpush(t,"4c82fhbEGZMGbAfEsK4SESM","Bullfight_MultCell");var i=e("MusicMgr"),a=e("Audio_Common");e("GameSystem");cc.Class({"extends":cc.Component,properties:{CardType:0,CurMult:1,CurPos:0,FontName:cc.Label,Number:cc.Label,BtnAdd:cc.Button,BtnSub:cc.Button,BtnSpriteFrame:[cc.SpriteFrame],bClubCreate:!1},onLoad:function(){this.initData()},initData:function(){this.CardTypeMult=[[1],[1],[1],[1],[1],[1],[1],[1,2],[2,3],[2,3],[0],[3,4,5],[0,4,5,6,7,8],[0,4,5,6,7,8],[0,4,5,6,7,8],[0,4,5,6,7,8],[0,4,5,6,7,8]],this.length=this.CardTypeMult[this.CardType].length,this.CurMult=this.CardTypeMult[this.CardType][0],this.setNumber(this.CurMult),this.setFontName(window.Bullfight_CardTypeName[this.CardType]),this.setBtnBgFrame()},getCurMult:function(){return this.CurMult},setCardType:function(e){this.CardType=e,this.initData()},setFontName:function(e){cc.log("Bullfight_MultCell.setFontName,name = "+e),this.FontName.string=e},setNumber:function(e){cc.log("Bullfight_MultCell.setNumber,number = "+e),this.Number.string=e,this.setBtnBgFrameByCurMult()},setClubCreate:function(e){this.bClubCreate=e,cc.log("Bullfight_MultCell.setClubCreate,bClubCreate = "+e),0==this.bClubCreate&&(this.BtnSub.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[0],this.BtnSub.interactable=!1,this.BtnAdd.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[0],this.BtnAdd.interactable=!1)},setBtnBgFrame:function(){this.CardType>=window.Bullfight_CardType.E_BULL_SEVEN?(this.BtnAdd.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[1],this.BtnSub.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[1]):(this.BtnAdd.interactable=!1,this.BtnSub.interactable=!1),this.setBtnBgFrameByCurMult()},setBtnBgFrameByCurMult:function(){if(cc.log("Bullfight_MultCell.setBtnBgFrameByCurMult,this.CurMult = "+this.CurMult),!(this.length<=1))if(0==this.bClubCreate){var e=[1,1,1,1,1,1,1,1,1,2,0,3,4,4,5,5,5];this.CurMult=e[this.CardType],this.Number.string=e[this.CardType],this.setClubCreate(this.bClubCreate)}else this.CurMult>this.CardTypeMult[this.CardType][0]&&this.CurMult<this.CardTypeMult[this.CardType][this.length-1]?(this.BtnSub.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[1],this.BtnSub.interactable=!0,this.BtnAdd.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[1],this.BtnAdd.interactable=!0):this.CurMult<=this.CardTypeMult[this.CardType][0]?(this.BtnSub.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[0],this.BtnSub.interactable=!1,this.BtnAdd.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[1],this.BtnAdd.interactable=!0):(this.BtnSub.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[1],this.BtnSub.interactable=!0,this.BtnAdd.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[0],this.BtnAdd.interactable=!1)},callBackBtn:function(e,t){var s=e.target.getName();i.playEffect(a.AUDIO_BTN_CLICK),cc.log("Bullfight_Menu.callBackBtn,btnName = "+s),"Btn_Add"==s?(this.CurPos++,this.CurPos>=this.length&&(this.CurPos=this.length-1),this.CurMult=this.CardTypeMult[this.CardType][this.CurPos],this.setNumber(this.CurMult)):"Btn_Sub"==s&&(this.CurPos--,this.CurPos<0&&(this.CurPos=0),this.CurMult=this.CardTypeMult[this.CardType][this.CurPos],this.setNumber(this.CurMult))}}),cc._RFpop()},{Audio_Common:"Audio_Common",GameSystem:"GameSystem",MusicMgr:"MusicMgr"}],Bullfight_NotifyGameOverOncePacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_NOTIFY_ONE_GAME_RESULT_CMD_ID,this.tableid=0,this.tstatus=0,this.overtime=5,this.seaters=[],this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.tableid=e.tableid,this.tstatus=e.tstatus,this.seaters=e.seaters,this.ustatus=e.ustatus,this.overtime=e.overtime)}}cc._RFpush(t,"76c1aORj9dBaZUT68d+nAx0","Bullfight_NotifyGameOverOncePacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_NotifyGameOverTotalPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_NOTIFY_TOTAL_GAME_RESULT_CMD_ID,this.privateid=0,this.TableId=0,this.Scores=[],this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.privateid=e.privateid,this.TableId=e.tableid,this.Scores=e.scores)}}cc._RFpush(t,"2764ajusJ9Ev400SCq2MjO3","Bullfight_NotifyGameOverTotalPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_NotifyGameStartPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_NOTIFY_GAME_START_CMD_ID,this.ustatus=0,this.seatid=-1,this.tableid=0,this.tstatus=0,this.calltime=0,this.cards=[],this.seaters=[],this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.ustatus=e.ustatus,this.seatid=e.seatid,this.tableid=e.tableid,this.tstatus=e.tstatus,this.calltime=e.calltime,this.cards=e.cards,this.seaters=e.seaters,this.roundnum=e.roundnum)}}cc._RFpush(t,"62877fK95FCtLemb1CNplCj","Bullfight_NotifyGameStartPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_NotifyKickOutPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_NOTIFY_KICKOUT_CMD_ID,this.tableid=0,this.seatuid=0,this.seatid=-1,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.tableid=e.tableid,this.seatuid=e.seatuid,this.seatid=e.seatid,this.status=e.status}}cc._RFpush(t,"b86ffAq4jxGpKbf6Vepu+S9","Bullfight_NotifyKickOutPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_NotifyNotBetPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_NOTIFY_NOT_BET_COIN_CMD_ID,this.tableid=0,this.tstatus=0,this.seaters=[],this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.tableid=e.tableid,this.tstatus=e.tstatus,this.seaters=e.seaters}}cc._RFpush(t,"77ec7Y23EJG7oKc0j1GA50b","Bullfight_NotifyNotBetPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_NotifyNotCallBankerPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_NOTIFY_NOT_CALL_BANKER_CMD_ID,this.tableid=0,this.tstatus=0,this.Seaters=[],this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.tableid=e.tableid,this.tstatus=e.tstatus,this.Seaters=e.Seaters}}cc._RFpush(t,"b3f9cLcOARMJKX0hdXALPzi","Bullfight_NotifyNotCallBankerPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_NotifyOpenCardPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_NOTIFY_OPEN_CARD_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.tableid=e.tableid,this.tstatus=e.tstatus,this.ustatus=e.ustatus,this.opentime=e.opentime,this.cards=e.cards)}}cc._RFpush(t,"6e406wh9K5DooAJmgO5K/zp","Bullfight_NotifyOpenCardPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_NotifySureBankerPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_NOTIFY_CONFIRM_BANKER_CMD_ID,this.tableid=0,this.tstatus=0,this.bankeruid=0,this.bankerseatid=-1,this.ustatus=0,this.maxbetmul=0,this.bettime=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.tableid=e.tableid,this.tstatus=e.tstatus,this.bankeruid=e.bankeruid,this.bankerseatid=e.bankerseatid,this.ustatus=e.ustatus,this.maxbetmul=e.maxbetmul,this.bettime=e.bettime)}}cc._RFpush(t,"99624HjF+pLdb8cNBnK46Fx","Bullfight_NotifySureBankerPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_OpenCardReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_REQ_OPEN_CARD_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:o.getInstance().gamesvcid,tableid:o.getInstance().tableid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"c107cSTQWpCZ4GXpTy0rHxs","Bullfight_OpenCardReqPacket");var a=e("MessageReq"),n=e("Cmd_Bullfight"),o=e("GameSystem");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",GameSystem:"GameSystem",MessageReq:"MessageReq"}],Bullfight_OpenCardRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_RESP_OPEN_CARD_CMD_ID,this.openuid=0,this.bulltype=0,this.seatid=-1,this.cards=[],this.index1=-1,this.index2=-1,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.openuid=e.openuid,this.bulltype=e.bulltype,this.cards=e.cards,this.seatid=e.seatid,this.tstatus=e.tstatus,this.index1=e.index1,this.index2=e.index2)}}cc._RFpush(t,"526a43jKadKgIiIVVTlVA94","Bullfight_OpenCardRespPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_OwnerView:[function(e,t,s){"use strict";cc._RFpush(t,"a5a0c1q0NNI8JWZHFoyMRe+","Bullfight_OwnerView");var i=e("BasePop"),a=e("MessageFactory"),n=e("ToastView"),o=e("MusicMgr"),c=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{},onLoad:function(){this._super()},onMessage:function(e){cc.log("Bullfight_GameScene.onMessage"),this._super(e);var t=e.data,s=t.cmd;switch(s){case window.US_RESP_GAME_SWITCH_CMD_ID:this.onDismissGame(t)}},onDismissGame:function(e){e.code==SocketRetCode.RET_SUCCESS&&(1==e.isstart||n.show("房间解散成功，本局结束后将解散"))},callbackBtn:function(e,t){var s=e.target.getName();if(o.playEffect(c.AUDIO_BTN_CLICK),cc.log("Bullfight_OwnerView.callbackBtn,BtnName = "+s),"BtnClose"==s)this.dismiss();else if("BtnDismiss"==s){var i={isstart:0};a.createMessageReq(US_REQ_GAME_SWITCH_CMD_ID).send(i),this.dismiss()}}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView"}],Bullfight_PlayerCell:[function(e,t,s){"use strict";cc._RFpush(t,"dd03e3wx+RPqKzhivLGvZQN","Bullfight_PlayerCell"),cc.Class({"extends":cc.Component,properties:{InfoLabel:[cc.Label]},onLoad:function(){},updatePlayerScore:function(e,t,s,i,a){this.InfoLabel[0].string=e,this.InfoLabel[1].string=t,this.InfoLabel[2].string=s;var n=Number(i);n>0?(this.InfoLabel[3].string="+"+n,this.InfoLabel[3].node.color=cc.Color.RED):0==n?(this.InfoLabel[3].string=n,this.InfoLabel[3].node.color=new cc.Color(204,160,41,255)):(this.InfoLabel[3].string=n,this.InfoLabel[3].node.color=cc.Color.GREEN)},updatePlayerScoreCell:function(e,t,s,i){this.InfoLabel[0].string=e,this.InfoLabel[1].string=t;var a=Number(s);a>0?(this.InfoLabel[2].string="+"+a,this.InfoLabel[2].node.color=cc.Color.RED):0==a?(this.InfoLabel[2].string=a,this.InfoLabel[2].node.color=new cc.Color(204,160,41,255)):(this.InfoLabel[2].string=a,this.InfoLabel[2].node.color=cc.Color.GREEN),this.InfoLabel[3].string=Number(t)+Number(s);for(var n=0;n<=this.InfoLabel.length;n++)this.InfoLabel[n].fontSize=i}}),cc._RFpop()},{}],Bullfight_PlayerItem:[function(e,t,s){"use strict";cc._RFpush(t,"bbb92wxt6VKepRUVDer6qKI","Bullfight_PlayerItem");var i=e("MessageFactory"),a=e("MusicMgr"),n=e("Audio_Common"),o=e("GamePlayer");e("GameSystem"),e("Bullfight_AudioConfig");cc.Class({"extends":cc.Component,properties:{seatFlag:0,seatId:0,userHead:cc.Sprite,userNick:cc.Label,userGold:cc.Label,winScoreBg:cc.Sprite,winScore:cc.Label,bankerFlag:cc.Sprite,bankerLight:cc.Sprite,TimeBar:cc.ProgressBar,win_animation:cc.Sprite,UserInfoView:cc.Prefab,YouWin:cc.Sprite,DefaultHead:cc.SpriteFrame},onLoad:function(){this.initBaseData()},initBaseData:function(){this.BankerFlagPos=this.bankerFlag.node.getPosition(),this.winScoreBgPos=this.bankerFlag.node.getPosition()},setUserHead:function(e){this.userHead.spriteFrame=e},setUserNick:function(e){this.userNick.string=e},setUserGold:function(e){this.userGold.string=e,this.userGold.node.color=cc.Color.WHITE},setUserWaitCarry:function(){this.userGold.string="携带中..",this.userGold.node.color=new cc.Color(204,160,41,255)},setUserWinScore:function(e){this.winScore.string=e,this.winScoreBg.node.active=!0,this.winScoreBg.getComponent(cc.Animation).play("WinScoreAni")},clearUserWinScore:function(){this.winScoreBg.node.active=!1},getSeatIdByViewId:function(e){var t=window.BULLFIGHT_MAX_PLAYER-1,s=e;return o.getInstance().seatid>=0&&(s=(e-t+o.getInstance().seatid+window.BULLFIGHT_MAX_PLAYER)%window.BULLFIGHT_MAX_PLAYER),cc.log("********getSeatIdByViewId viewId=",e," seatId=",s),s},callbackBtn:function(e,t){var s=e.target.getName();if(cc.log("Bullfight_PlayerItem.callbackBtn,btnName = "+s),a.playEffect(n.AUDIO_BTN_CLICK),s="Bg")if(0==this.seatFlag){var o=this.getSeatIdByViewId(this.seatId);cc.log("Bullfight_PlayerItem.callbackBtn,this.seatId = "+o);var c={status:1,seatid:o};i.createMessageReq(window.US_REQ_SIT_DOWN_CMD_ID).send(c),a.playEffect(n.AUDIO_SIT)}else{var r=cc.instantiate(this.UserInfoView);cc.director.getScene().addChild(r),r.setPosition(cc.p(cc.director.getVisibleSize().width/2,cc.director.getVisibleSize().height/2)),r.getComponent("Bullfight_UserInfo").setPlayerInfo(this.player)}},setPlayerBanker:function(){this.bankerFlag.node.active=!0,this.bankerLight.node.active=!0},clearPlayerBanker:function(){this.bankerFlag.node.active=!1,this.bankerLight.node.active=!1},clearPlayerInfo:function(){this.setUserNick(""),this.setUserGold(0),this.clearUserWinScore(),this.userHead.node.active=!1,this.seatFlag=0,this.bankerFlag.node.active=!1,this.userHead.spriteFrame=this.DefaultHead},updatePlayerInfo:function(e){this.player=e,this.userHead.node.active=!0,this.setUserNick(e.name),e.coin>0?this.setUserGold(e.coin):this.setUserWaitCarry(),UpdateWXHeadIcon(e.headurl,this.userHead),this.seatFlag=1},getPointByAngle:function(e,t,s){if(t<=90&&t>=0)return cc.p(e.x+Math.sin(t)*s,e.y-(s-Math.cos(t)*s));if(t>90&&t<=180)cc.p(e.x+Math.sin(180-t)*s,e.y-(s-Math.cos(180-t)*s-s));else if(t>180&&t<=270)cc.p(e.x-Math.sin(270-t)*s,e.y-(s-Math.cos(270-t)*s-s));else if(t>270&&t<360)return cc.p(e.x-Math.sin(360-t)*s,e.y-(s-Math.cos(360-t)*s))}}),cc._RFpop()},{Audio_Common:"Audio_Common",Bullfight_AudioConfig:"Bullfight_AudioConfig",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr"}],Bullfight_Playerlist:[function(e,t,s){"use strict";cc._RFpush(t,"3e36eFRKRdBILdZUXMidzMX","Bullfight_Playerlist");var i=e("BasePop"),a=e("MessageFactory"),n=e("Cmd_Bullfight");e("GamePlayer");cc.Class({"extends":i,properties:{ScrollActors:cc.ScrollView,PlayerCell:cc.Prefab,TouristCell:cc.Prefab,WatcherTitle:cc.Node,ActorTitle:cc.Node,WatcherCount:cc.Label,RoundNum:cc.Label,timeLabel:cc.Label},onLoad:function(){var e=this;this._super(),this.node.on(cc.Node.EventType.TOUCH_END,function(t){cc.log("stop event"),e.dismiss()}.bind(this)),this.runIn(),a.createMessageReq(n.US_REQ_PLAYER_LIST_CMD_ID).send()},onMessage:function(e){cc.log("Bullfight_PlayerList.onMessage");var t=e.data,s=t.cmd;switch(s){case n.US_RESP_PLAYER_LIST_CMD_ID:this.onGetPlayersList(t)}},onGetPlayersList:function(e){if(cc.log("Bullfight_PlayerList.onGetPlayersList"),e.code==SocketRetCode.RET_SUCCESS){this.setTableInfo(e.remainTime,e.roundNum);var t=0;t=this.refreshActors(e.actors),t=this.refreshWatchers(e.watchers,t),t>this.ScrollActors.content.height&&(this.ScrollActors.content.height=t)}},refreshActors:function(e){cc.log("Bullfight_PlayerList.refreshActors");var t=100;if(this.ActorTitle.active=!0,e){for(var s=0,i=0;e&&i<e.length;i++){var a=cc.instantiate(this.PlayerCell);s=a.getContentSize().height,a.setPosition(cc.p(0,-i*a.getContentSize().height-1.5*a.getContentSize().height)),this.ScrollActors.content.addChild(a);var n=e[i].total+e[i].win;a.getComponent("Bullfight_PlayerCell").updatePlayerScore(e[i].name,e[i].total,n,e[i].win)}t+=(e&&e.length>0?this.ActorTitle.getContentSize(!0).height:0)+e.length*s}return t},refreshWatchers:function(e,t){cc.log("Bullfight_PlayerList.refreshWatchers,totalHeight = "+t),this.WatcherTitle.position=cc.p(this.WatcherTitle.position.x,this.WatcherTitle.position.y-t),this.WatcherTitle.active=!0,this.WatcherCount.string=e.length;for(var s=0,i=0;e&&i<e.length;i++){var a=cc.instantiate(this.TouristCell);s=a.getContentSize().height,a.setPosition(cc.p(a.getContentSize().width/2+i%3*a.getContentSize().width-this.ScrollActors.content.getContentSize(!0).width/2,-t-a.getContentSize().height*parseInt(i/3)-a.getContentSize().height/2-(this.WatcherTitle.getContentSize().height+5))),this.ScrollActors.content.addChild(a),a.getComponent("Bullfight_Tourist").updateInfo(e[i].headurl,e[i].name)}return t+=this.WatcherTitle.getContentSize().height,e&&(t+=(e.length+1)*s),t},setTableInfo:function(e,t){this.RoundNum.string="第"+t+"手",this.timeLabel.string=this.getTime(e)},getTime:function(e){var t=Number(e),s=parseInt(t/60/60),i=parseInt((t-3600*s)/60),a=t-3600*s-60*i;return cc.log("getTime hour=",s," min=",i," second=",a),this.getTimeData(s)+":"+this.getTimeData(i)+":"+this.getTimeData(a)},getTimeData:function(e){return(Array(2).join(0)+e).slice(-2)},runIn:function(){this.bg.runAction(cc.moveBy(.4,cc.p(this.bg.getContentSize().width,0)))}}),cc._RFpop()},{BasePop:"BasePop",Cmd_Bullfight:"Cmd_Bullfight",GamePlayer:"GamePlayer",MessageFactory:"MessageFactory"}],Bullfight_ReadyReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_REQ_READY_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:o.getInstance().gamesvcid,tableid:o.getInstance().tableid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"238b3wQJyROQr67m4gxG72J","Bullfight_ReadyReqPacket");var a=e("MessageReq"),n=e("Cmd_Bullfight"),o=e("GameSystem");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",GameSystem:"GameSystem",MessageReq:"MessageReq"}],Bullfight_ReadyRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.SBF_RESP_READY_CMD_ID,this.seatid=-1,this.readyuid=0,this.ustatus=0,this.tableid=0,this.tstatus=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.seatid=e.seatid,this.readyuid=e.readyuid,this.ustatus=e.ustatus,this.tableid=e.tableid,this.tstatus=e.tstatus)}}cc._RFpush(t,"88cedZ9oBlC/alSJKwZCP6E","Bullfight_ReadyRespPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_RoomInfo:[function(e,t,s){"use strict";cc._RFpush(t,"097ccsalOFAfa4idcXcTS0e","Bullfight_RoomInfo");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{RoomInfo:[cc.Label],RoomMult:[cc.Label],RootNode:cc.Node},onLoad:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){cc.log("stop event"),e.dismiss(),a.playEffect(n.AUDIO_BTN_CLICK)}.bind(this)),this.runIn()},runIn:function(){this.bg.runAction(cc.moveBy(.4,cc.p(this.bg.getContentSize().width,0)))},setRoomInfo:function(e){1==e.gametype?this.RoomInfo[1].string="闭牌抢庄":this.RoomInfo[1].string="三张抢庄",this.RoomInfo[2].string=e.minante,e.livetime<1800?this.RoomInfo[3].string=e.livetime/60+"分钟":this.RoomInfo[3].string=e.livetime/3600+"小时",this.RoomInfo[4].string=e.seats;for(var t=0;t<this.RoomMult.length;t++)this.RoomMult[t].string=e.bullmul[t]}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MusicMgr:"MusicMgr"}],Bullfight_RuleView:[function(e,t,s){"use strict";cc._RFpush(t,"0150cRmGrpKpabvcGdsi+vY","Bullfight_RuleView");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{},onLoad:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){cc.log("stop event"),a.playEffect(n.AUDIO_BTN_CLICK),e.dismiss()}.bind(this)),this.runIn()},callBackBtn:function(){this.dismiss()},runIn:function(){cc.log(this.bg.getContentSize().width),this.bg.runAction(cc.moveBy(.4,cc.p(this.bg.getContentSize().width,0)))}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MusicMgr:"MusicMgr"}],Bullfight_TableDetailReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.US_REQ_TABLE_DETAIL_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:o.getInstance().gamesvcid,tableid:o.getInstance().tableid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"4dad3d6295KMqyi02ugo2UJ","Bullfight_TableDetailReqPacket");var a=e("MessageReq"),n=e("Cmd_Bullfight"),o=e("GameSystem");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",GameSystem:"GameSystem",MessageReq:"MessageReq"}],Bullfight_TableDetailRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=n.US_RESP_TABLE_DETAIL_CMD_ID,this.onMessage=function(e){if(this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,!(this.code<SocketRetCode.RET_SUCCESS)){cc.log("Bullfight_TableDetailRespPacket,param = "+BASE64.decoder(e.param));var t=JSON.parse(BASE64.decoder(e.param));this.privateid=t.privateid,this.tableid=t.tableid,this.name=t.name,this.gametype=t.gametype,this.carrycoin=t.carrycoin,this.minante=t.minante,this.mincarry=t.mincarry,this.maxcarry=t.maxcarry,this.livetime=t.livetime,this.remaintime=t.remaintime,this.bstart=t.bstart,this.seats=t.seats,this.bullmul=t.bullmul,this.bowner=t.bowner,this.bsitdown=t.bsitdown,this.tstatus=t.tstatus,this.timeout=t.timeout,this.roundnum=t.roundnum,this.bankeruid=t.bankeruid,this.seaters=t.seaters,this.totalcarry=t.totalcarry}}}cc._RFpush(t,"e085cRy+i1KKZBRTGgGrk/H","Bullfight_TableDetailRespPacket");var a=e("MessageResp"),n=e("Cmd_Bullfight");t.exports=i,cc._RFpop()},{Cmd_Bullfight:"Cmd_Bullfight",MessageResp:"MessageResp"}],Bullfight_TotalResultCell:[function(e,t,s){"use strict";cc._RFpush(t,"6e7d1457/tJRLcthclLXM/5","Bullfight_TotalResultCell"),cc.Class({"extends":cc.Component,properties:{InfoLabel:[cc.Label]},onLoad:function(){},updatePlayerScoreCell:function(e,t,s,i){this.InfoLabel[0].string=e,this.InfoLabel[1].string=t;var a=Number(s);a>0?(this.InfoLabel[2].string="+"+a,this.InfoLabel[2].node.color=cc.Color.RED):0==a?(this.InfoLabel[2].string=a,this.InfoLabel[2].node.color=new cc.Color(204,160,41,255)):(this.InfoLabel[2].string=a,this.InfoLabel[2].node.color=cc.Color.GREEN),this.InfoLabel[3].string=Number(t)+Number(s);for(var n=0;n<=3;n++)this.InfoLabel[n].fontSize=i}}),cc._RFpop()},{}],Bullfight_TotalResult:[function(e,t,s){"use strict";cc._RFpush(t,"b5eaciE36xFN5RbJEMVUiIc","Bullfight_TotalResult");var i=(e("Bullfight_PlayerCell"),e("BasePop")),a=e("GamePlayer"),n=e("MusicMgr"),o=e("Audio_Common"),c=(e("UtilTool"),e("GameSystem"));cc.Class({"extends":i,properties:{LabelTitle:cc.Label,LabelCoin:cc.Label,LabelRoundnum:cc.Label,LabelwinMax:cc.Label,LabelallCarry:cc.Label,scrollView:cc.ScrollView,PlayerCell:cc.Prefab,Head:cc.Sprite,BtnShare:cc.Node},onLoad:function(){this.initBaseData(),c.getInstance().VerStatus==c.getInstance().VerStatusType.VERSION_TYPE_AUDIT&&(this.BtnShare.active=!1)},initBaseData:function(){this.coin=0,this.roundnum=0,this.winMax=0,this.allCarry=0,this.roomId=0,this.ShareImagePath="",this.Canvas=null},callBackBtnClose:function(){this.dismiss(),n.playEffect(o.AUDIO_BTN_CLICK),cc.director.loadScene("HallScene")},callBackBtnShare:function(){var e={popView:"Bullfight_TotalResult",btn:"BtnShare"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:e})},setGameData:function(e,t){this.Canvas=t,this.LabelTitle.string="总结算("+e.privateid+")";for(var s=e.Scores,i=0,n=0;n<s.length;n++){var o=cc.instantiate(this.PlayerCell);o.setPosition(cc.p(0,-n*o.getContentSize().height-o.getContentSize().height/2)),this.scrollView.content.addChild(o),s[n].uid==a.getInstance().uid&&(this.coin=s[n].wincoin,this.roundnum=s[n].playnum,this.winMax=s[n].maxwin,this.allCarry=s[n].totalcarry),i=o.getContentSize().height,o.getComponent("Bullfight_TotalResultCell").updatePlayerScoreCell(s[n].name,s[n].totalcarry,s[n].wincoin,50)}s.length*i>this.scrollView.content.height&&(this.scrollView.content.height=s.length*i),this.updateMySelfInfo()},updateMySelfInfo:function(){var e=Number(this.coin);e>0?(this.LabelCoin.string="+"+e,this.LabelCoin.node.color=cc.Color.RED):0==e?(this.LabelCoin.string=e,this.LabelCoin.node.color=new cc.Color(204,160,41,255)):(this.LabelCoin.string=e,this.LabelCoin.node.color=cc.Color.GREEN),this.LabelRoundnum.string=this.roundnum,this.LabelwinMax.string=this.winMax,this.LabelallCarry.string=this.allCarry,UpdateWXHeadIcon(a.getInstance().headurl,this.Head)}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",Bullfight_PlayerCell:"Bullfight_PlayerCell",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MusicMgr:"MusicMgr",UtilTool:"UtilTool"}],Bullfight_Tourist:[function(e,t,s){"use strict";cc._RFpush(t,"05f54XRBfFHJY01Unx8J+r3","Bullfight_Tourist"),cc.Class({"extends":cc.Component,properties:{Head:cc.Sprite,Name:cc.Label},onLoad:function(){},updateInfo:function(e,t){""!=e&&UpdateWXHeadIcon(e,this.Head),this.Name.string=t,this.Name.fontsize=40}}),cc._RFpop()},{}],Bullfight_UserInfo:[function(e,t,s){"use strict";cc._RFpush(t,"a9271QR8HRIJ6ewxtQtPy/r","Bullfight_UserInfo");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common"),o=e("MessageFactory"),c=e("GamePlayer"),r=e("GameSystem"),l=e("ToastView");cc.Class({"extends":i,properties:{NickName:cc.Label,PlayerUid:cc.Label,Gold:cc.Label,Diamond:cc.Label,TableCount:cc.Label,RoundCount:cc.Label,GiftCost:[cc.Label],SexSprite:cc.Sprite,Head:cc.Sprite,SexFrame:[cc.SpriteFrame]},onLoad:function(){this._super(),this.player=null},setPlayerInfo:function(e){this.player=e,this.NickName.string=e.name,this.PlayerUid.string=e.uid,this.Gold.string=e.gold,this.Diamond.string=e.diamond,this.RoundCount.string=e.TotalRound,this.TableCount.string=e.TotalTable,UpdateWXHeadIcon(e.headurl,this.Head),cc.log("onSitDown player.TotalRound=",e.TotalRound," player.TotalTable=",e.TotalTable);for(var t=0;t<this.GiftCost.length;t++)this.GiftCost[t].string=r.getInstance().giftCost[t].Gold;var s=e.sex-1>0?e.sex-1:0;this.SexSprite.spriteFrame=this.SexFrame[s]},callBackBtn:function(e,t){var s=e.target.getName();if("BtnClose"==s)this.dismiss();else{if(c.getInstance().seatid==-1)return void l.show("您没有坐下不能发送礼物");a.playEffect(n.AUDIO_BTN_CLICK);var i={touid:this.player.uid,kind:ChatType.E_CHAT_GIFT_KIND,type:Number(t),text:""};o.createMessageReq(US_REQ_GAME_CHAT_CMD_ID).send(i),this.dismiss()}}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView"}],ButtonScaler:[function(e,t,s){"use strict";cc._RFpush(t,"00d670MeVBBGazy/lKbleRQ","ButtonScaler");var i=e("GameSystem");cc.Class({"extends":cc.Component,properties:{pressedScale:.9,transDuration:.05,playColseEffect:!1},onLoad:function(){function e(e){s.button.interactable&&!s.m_DelayInteractable&&(this.stopAllActions(),this.runAction(s.scaleDownAction),s.playColseEffect,s.isDelayHandleEvent()&&(cc.log("----------------isDelayHandleEvent-------"),s.button.interactable=!1,s.m_DelayInteractable=!0))}function t(e){s.button.interactable&&(this.stopAllActions(),this.runAction(s.scaleUpAction))}this.m_tmLastClicked=0,this.m_DelayInteractable=!1,this.countTime=0,this.pressedScale=.9,this.transDuration=.03;var s=this;s.initScale=this.node.scale,s.button=s.getComponent(cc.Button),s.scaleDownAction=cc.scaleTo(s.transDuration,s.pressedScale),s.scaleUpAction=cc.scaleTo(s.transDuration,s.initScale),this.node.on("touchstart",e,this.node),this.node.on("touchend",t,this.node),this.node.on("touchcancel",t,this.node)},update:function(e){this.m_DelayInteractable&&(this.countTime+=e,this.countTime>.5&&(this.countTime=0,this.button.interactable=!0,this.m_DelayInteractable=!1))},isDelayHandleEvent:function(e){void 0==e&&(e=600);var t=i.getInstance().getCurrentSystemTime();return t-this.m_tmLastClicked<=e||(this.m_tmLastClicked=t,!1)}}),cc._RFpop()},{GameSystem:"GameSystem"}],CarryCoinReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_CARRY_COIN_CMD_ID,this.send=function(e){cc.log("CarryCoinReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:n.getInstance().gamesvcid,tableid:n.getInstance().tableid,coin:e.coin},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"d1572mlCjtCj6Gq8w3e0cqT","CarryCoinReqPacket");var a=e("MessageReq"),n=e("GameSystem");t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageReq:"MessageReq"}],CarryCoinRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_CARRY_COIN_CMD_ID,this.carryuid=0,this.coin=0,this.carrycoin=0,this.gold=0,this.diamond=0,this.ustatus=0,this.tstatus=0,this.onMessage=function(e){cc.log("CarryCoinRespPacket.onMesssage"),this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.carryuid=e.carryuid,this.carrycoin=e.carrycoin,this.ustatus=e.ustatus,this.tstatus=e.tstatus,this.coin=e.coin,this.gold=e.gold,this.diamond=e.diamond}}cc._RFpush(t,"b0e342Ob85Ei6pRrJIJ/G1Q","CarryCoinRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ChatReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_GAME_CHAT_CMD_ID,this.send=function(e){cc.log("ChatReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:n.getInstance().gamesvcid,tableid:n.getInstance().tableid,touid:e.touid,kind:e.kind,type:e.type,text:e.text},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"f045ap6/epEyITg5+Z3DAGy","ChatReqPacket");var a=e("MessageReq"),n=e("GameSystem");window.ChatType=cc.Enum({E_CHAT_WORD_KIND:1,E_CHAT_GIFT_KIND:2,E_CHAT_FACE_KIND:3,E_CHAT_VOICE_KIND:4}),window.GiftType=cc.Enum({E_ROSE_GIFT:1,E_LOVE_GIFT:2,E_FOAM_GIFT:3,E_BIG_ROSE_GIFT:4,E_KETCHUP_GIFT:5}),t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageReq:"MessageReq"
}],ChatRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_GAME_CHAT_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.fromuid=e.fromuid,this.fromseatid=e.fromseatid,this.touid=e.touid,this.toseatid=e.toseatid,this.kind=e.kind,this.type=e.type,this.text=e.text)}}cc._RFpush(t,"470a0D1DjFD4o81Pp2qjEpO","ChatRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ChineseCity:[function(e,t,s){"use strict";cc._RFpush(t,"7170amKuPBEv5sEPX7mXbBt","ChineseCity");var i=new Object;i["北京市"]=new Array("朝阳区","海淀区","通州区","房山区","丰台区","昌平区","大兴区","顺义区","西城区","延庆县","石景山区","宣武区","怀柔区","崇文区","密云县","东城区","平谷区","门头沟区"),i["广东省"]=new Array("东莞市","广州市","中山市","深圳市","惠州市","江门市","珠海市","汕头市","佛山市","湛江市","河源市","肇庆市","清远市","潮州市","韶关市","揭阳市","阳江市","梅州市","云浮市","茂名市","汕尾市"),i["山东省"]=new Array("济南市","青岛市","临沂市","济宁市","菏泽市","烟台市","淄博市","泰安市","潍坊市","日照市","威海市","滨州市","东营市","聊城市","德州市","莱芜市","枣庄市"),i["江苏省"]=new Array("苏州市","徐州市","盐城市","无锡市","南京市","南通市","连云港市","常州市","镇江市","扬州市","淮安市","泰州市","宿迁市"),i["河南省"]=new Array("郑州市","南阳市","新乡市","安阳市","洛阳市","信阳市","平顶山市","周口市","商丘市","开封市","焦作市","驻马店市","濮阳市","三门峡市","漯河市","许昌市","鹤壁市","济源市"),i["上海市"]=new Array("松江区","宝山区","金山区","嘉定区","南汇区","青浦区","浦东新区","奉贤区","徐汇区","静安区","闵行区","黄浦区","杨浦区","虹口区","普陀区","闸北区","长宁区","崇明县","卢湾区"),i["河北省"]=new Array("石家庄市","唐山市","保定市","邯郸市","邢台市","河北区","沧州市","秦皇岛市","张家口市","衡水市","廊坊市","承德市"),i["浙江省"]=new Array("温州市","宁波市","杭州市","台州市","嘉兴市","金华市","湖州市","绍兴市","舟山市","丽水市","衢州市"),i["香港特别行政区"]=new Array("香港"),i["陕西省"]=new Array("西安市","咸阳市","宝鸡市","汉中市","渭南市","安康市","榆林市","商洛市","延安市","铜川市"),i["湖南省"]=new Array("长沙市","邵阳市","常德市","衡阳市","株洲市","湘潭市","永州市","岳阳市","怀化市","郴州市","娄底市","益阳市","张家界市","湘西州"),i["重庆市"]=new Array("江北区","渝北区","沙坪坝区","九龙坡区","万州区","永川市","南岸区","酉阳县","北碚区","涪陵区","秀山县","巴南区","渝中区","石柱县","忠县","合川市","大渡口区","开县","长寿区","荣昌县","云阳县","梁平县","潼南县","江津市","彭水县","綦江县","璧山县","黔江区","大足县","巫山县","巫溪县","垫江县","丰都县","武隆县","万盛区","铜梁县","南川市","奉节县","双桥区","城口县"),i["福建省"]=new Array("漳州市","厦门市","泉州市","福州市","莆田市","宁德市","三明市","南平市","龙岩市"),i["天津市"]=new Array("和平区","北辰区","河北区","河西区","西青区","津南区","东丽区","武清区","宝坻区","红桥区","大港区","汉沽区","静海县","塘沽区","宁河县","蓟县","南开区","河东区"),i["云南省"]=new Array("昆明市","红河州","大理州","文山州","德宏州","曲靖市","昭通市","楚雄州","保山市","玉溪市","丽江地区","临沧地区","思茅地区","西双版纳州","怒江州","迪庆州"),i["四川省"]=new Array("成都市","绵阳市","广元市","达州市","南充市","德阳市","广安市","阿坝州","巴中市","遂宁市","内江市","凉山州","攀枝花市","乐山市","自贡市","泸州市","雅安市","宜宾市","资阳市","眉山市","甘孜州"),i["广西壮族自治区"]=new Array("贵港市","玉林市","北海市","南宁市","柳州市","桂林市","梧州市","钦州市","来宾市","河池市","百色市","贺州市","崇左市","防城港市"),i["安徽省"]=new Array("芜湖市","合肥市","六安市","宿州市","阜阳市","安庆市","马鞍山市","蚌埠市","淮北市","淮南市","宣城市","黄山市","铜陵市","亳州市","池州市","巢湖市","滁州市"),i["海南省"]=new Array("三亚市","海口市","琼海市","文昌市","东方市","昌江县","陵水县","乐东县","保亭县","五指山市","澄迈县","万宁市","儋州市","临高县","白沙县","定安县","琼中县","屯昌县"),i["江西省"]=new Array("南昌市","赣州市","上饶市","吉安市","九江市","新余市","抚州市","宜春市","景德镇市","萍乡市","鹰潭市"),i["湖北省"]=new Array("武汉市","宜昌市","襄樊市","荆州市","恩施州","黄冈市","孝感市","十堰市","咸宁市","黄石市","仙桃市","天门市","随州市","荆门市","潜江市","鄂州市","神农架林区"),i["山西省"]=new Array("太原市","大同市","运城市","长治市","晋城市","忻州市","临汾市","吕梁市","晋中市","阳泉市","朔州市"),i["辽宁省"]=new Array("大连市","沈阳市","丹东市","辽阳市","葫芦岛市","锦州市","朝阳市","营口市","鞍山市","抚顺市","阜新市","盘锦市","本溪市","铁岭市"),i["台湾省"]=new Array("台北市","高雄市","台中市","新竹市","基隆市","台南市","嘉义市"),i["黑龙江"]=new Array("齐齐哈尔市","哈尔滨市","大庆市","佳木斯市","双鸭山市","牡丹江市","鸡西市","黑河市","绥化市","鹤岗市","伊春市","大兴安岭地区","七台河市"),i["内蒙古自治区"]=new Array("赤峰市","包头市","通辽市","呼和浩特市","鄂尔多斯市","乌海市","呼伦贝尔市","兴安盟","巴彦淖尔盟","乌兰察布盟","锡林郭勒盟","阿拉善盟"),i["澳门特别行政区"]=new Array("澳门"),i["贵州省"]=new Array("贵阳市","黔东南州","黔南州","遵义市","黔西南州","毕节地区","铜仁地区","安顺市","六盘水市"),i["甘肃省"]=new Array("兰州市","天水市","庆阳市","武威市","酒泉市","张掖市","陇南地区","白银市","定西地区","平凉市","嘉峪关市","临夏回族自治州","金昌市","甘南州"),i["青海省"]=new Array("西宁市","海西州","海东地区","海北州","果洛州","玉树州","黄南藏族自治州"),i["新疆维吾尔自治区"]=new Array("乌鲁木齐市","伊犁州","昌吉州","石河子市","哈密地区","阿克苏地区","巴音郭楞州","喀什地区","塔城地区","克拉玛依市","和田地区","阿勒泰州","吐鲁番地区","阿拉尔市","博尔塔拉州","五家渠市","克孜勒苏州","图木舒克市"),i["西藏区"]=new Array("拉萨市","山南地区","林芝地区","日喀则地区","阿里地区","昌都地区","那曲地区"),i["吉林省"]=new Array("吉林市","长春市","白山市","延边州","白城市","松原市","辽源市","通化市","四平市"),i["宁夏回族自治区"]=new Array("银川市","吴忠市","中卫市","石嘴山市","固原市"),cc._RFpop()},{}],ClubAddView:[function(e,t,s){"use strict";cc._RFpush(t,"85ef8GbgKJEpJ+DgpWRslnH","ClubAddView");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common"),o=e("GamePlayer"),c=e("ToastView");e("GameSystem");cc.Class({"extends":i,properties:{},onLoad:function(){this._super();var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){cc.log("ClubAddView.onLoad : stop event"),e.dismiss()}.bind(this))},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ClubAddView.callBackBtn,BtnName = "+s),a.playEffect(n.AUDIO_BTN_CLICK),"NewClub"==s){if(o.getInstance().SelfClubId>0)return c.show("您已经建立了一个俱乐部,目前不支持多个"),void this.dismiss();var i={popView:"ClubAddView",btn:"NewClub"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:i})}else if("AddClub"==s){var i={popView:"ClubAddView",btn:"AddClub"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:i})}this.dismiss()}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MusicMgr:"MusicMgr",ToastView:"ToastView"}],ClubAreaCell:[function(e,t,s){"use strict";cc._RFpush(t,"2615aj9aCBAJLbUiktdYxqZ","ClubAreaCell");var i=e("MusicMgr"),a=e("Audio_Common");cc.Class({"extends":cc.Component,properties:{AreaName:cc.Label,BtnFlag:cc.Sprite},onLoad:function(){this.name=""},callBackBtn:function(e,t){var s=e.target.getName();cc.log("ClubAreaCell.callBackBtn,BtnName = "+s),i.playEffect(a.AUDIO_BTN_CLICK),"BtnClose"==s&&this.dismiss()},setAreaCellInfo:function(e,t){this.name=e,this.AreaName.string=e,t<=0&&(this.BtnFlag.node.active=!1)}}),cc._RFpop()},{Audio_Common:"Audio_Common",MusicMgr:"MusicMgr"}],ClubAreaView:[function(e,t,s){"use strict";cc._RFpush(t,"3b1e63VP9pLoLG+Jp2o+s/R","ClubAreaView");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common"),o=(e("GameSystem"),new Object);o["北京市"]=new Array("朝阳区","海淀区","通州区","房山区","丰台区","昌平区","大兴区","顺义区","西城区","延庆县","石景山区","宣武区","怀柔区","崇文区","密云县","东城区","平谷区","门头沟区"),o["广东省"]=new Array("东莞市","广州市","中山市","深圳市","惠州市","江门市","珠海市","汕头市","佛山市","湛江市","河源市","肇庆市","清远市","潮州市","韶关市","揭阳市","阳江市","梅州市","云浮市","茂名市","汕尾市"),o["山东省"]=new Array("济南市","青岛市","临沂市","济宁市","菏泽市","烟台市","淄博市","泰安市","潍坊市","日照市","威海市","滨州市","东营市","聊城市","德州市","莱芜市","枣庄市"),o["江苏省"]=new Array("苏州市","徐州市","盐城市","无锡市","南京市","南通市","连云港市","常州市","镇江市","扬州市","淮安市","泰州市","宿迁市"),o["河南省"]=new Array("郑州市","南阳市","新乡市","安阳市","洛阳市","信阳市","平顶山市","周口市","商丘市","开封市","焦作市","驻马店市","濮阳市","三门峡市","漯河市","许昌市","鹤壁市","济源市"),o["上海市"]=new Array("松江区","宝山区","金山区","嘉定区","南汇区","青浦区","浦东新区","奉贤区","徐汇区","静安区","闵行区","黄浦区","杨浦区","虹口区","普陀区","闸北区","长宁区","崇明县","卢湾区"),o["河北省"]=new Array("石家庄市","唐山市","保定市","邯郸市","邢台市","河北区","沧州市","秦皇岛市","张家口市","衡水市","廊坊市","承德市"),o["浙江省"]=new Array("温州市","宁波市","杭州市","台州市","嘉兴市","金华市","湖州市","绍兴市","舟山市","丽水市","衢州市"),o["香港"]=new Array("香港"),o["陕西省"]=new Array("西安市","咸阳市","宝鸡市","汉中市","渭南市","安康市","榆林市","商洛市","延安市","铜川市"),o["湖南省"]=new Array("长沙市","邵阳市","常德市","衡阳市","株洲市","湘潭市","永州市","岳阳市","怀化市","郴州市","娄底市","益阳市","张家界市","湘西州"),o["重庆市"]=new Array("江北区","渝北区","沙坪坝区","九龙坡区","万州区","永川市","南岸区","酉阳县","北碚区","涪陵区","秀山县","巴南区","渝中区","石柱县","忠县","合川市","大渡口区","开县","长寿区","荣昌县","云阳县","梁平县","潼南县","江津市","彭水县","綦江县","璧山县","黔江区","大足县","巫山县","巫溪县","垫江县","丰都县","武隆县","万盛区","铜梁县","南川市","奉节县","双桥区","城口县"),o["福建省"]=new Array("漳州市","厦门市","泉州市","福州市","莆田市","宁德市","三明市","南平市","龙岩市"),o["天津市"]=new Array("和平区","北辰区","河北区","河西区","西青区","津南区","东丽区","武清区","宝坻区","红桥区","大港区","汉沽区","静海县","塘沽区","宁河县","蓟县","南开区","河东区"),o["云南省"]=new Array("昆明市","红河州","大理州","文山州","德宏州","曲靖市","昭通市","楚雄州","保山市","玉溪市","丽江地区","临沧地区","思茅地区","西双版纳州","怒江州","迪庆州"),o["四川省"]=new Array("成都市","绵阳市","广元市","达州市","南充市","德阳市","广安市","阿坝州","巴中市","遂宁市","内江市","凉山州","攀枝花市","乐山市","自贡市","泸州市","雅安市","宜宾市","资阳市","眉山市","甘孜州"),o["广西"]=new Array("贵港市","玉林市","北海市","南宁市","柳州市","桂林市","梧州市","钦州市","来宾市","河池市","百色市","贺州市","崇左市","防城港市"),o["安徽省"]=new Array("芜湖市","合肥市","六安市","宿州市","阜阳市","安庆市","马鞍山市","蚌埠市","淮北市","淮南市","宣城市","黄山市","铜陵市","亳州市","池州市","巢湖市","滁州市"),o["海南省"]=new Array("三亚市","海口市","琼海市","文昌市","东方市","昌江县","陵水县","乐东县","保亭县","五指山市","澄迈县","万宁市","儋州市","临高县","白沙县","定安县","琼中县","屯昌县"),o["江西省"]=new Array("南昌市","赣州市","上饶市","吉安市","九江市","新余市","抚州市","宜春市","景德镇市","萍乡市","鹰潭市"),o["湖北省"]=new Array("武汉市","宜昌市","襄樊市","荆州市","恩施州","黄冈市","孝感市","十堰市","咸宁市","黄石市","仙桃市","天门市","随州市","荆门市","潜江市","鄂州市","神农架林区"),o["山西省"]=new Array("太原市","大同市","运城市","长治市","晋城市","忻州市","临汾市","吕梁市","晋中市","阳泉市","朔州市"),o["辽宁省"]=new Array("大连市","沈阳市","丹东市","辽阳市","葫芦岛市","锦州市","朝阳市","营口市","鞍山市","抚顺市","阜新市","盘锦市","本溪市","铁岭市"),o["台湾省"]=new Array("台北市","高雄市","台中市","新竹市","基隆市","台南市","嘉义市"),o["黑龙江"]=new Array("齐齐哈尔市","哈尔滨市","大庆市","佳木斯市","双鸭山市","牡丹江市","鸡西市","黑河市","绥化市","鹤岗市","伊春市","大兴安岭地区","七台河市"),o["内蒙古"]=new Array("赤峰市","包头市","通辽市","呼和浩特市","鄂尔多斯市","乌海市","呼伦贝尔市","兴安盟","巴彦淖尔盟","乌兰察布盟","锡林郭勒盟","阿拉善盟"),o["澳门"]=new Array("澳门"),o["贵州省"]=new Array("贵阳市","黔东南州","黔南州","遵义市","黔西南州","毕节地区","铜仁地区","安顺市","六盘水市"),o["甘肃省"]=new Array("兰州市","天水市","庆阳市","武威市","酒泉市","张掖市","陇南地区","白银市","定西地区","平凉市","嘉峪关市","临夏回族自治州","金昌市","甘南州"),o["青海省"]=new Array("西宁市","海西州","海东地区","海北州","果洛州","玉树州","黄南藏族自治州"),o["新疆"]=new Array("乌鲁木齐市","伊犁州","昌吉州","石河子市","哈密地区","阿克苏地区","巴音郭楞州","喀什地区","塔城地区","克拉玛依市","和田地区","阿勒泰州","吐鲁番地区","阿拉尔市","博尔塔拉州","五家渠市","克孜勒苏州","图木舒克市"),o["西藏区"]=new Array("拉萨市","山南地区","林芝地区","日喀则地区","阿里地区","昌都地区","那曲地区"),o["吉林省"]=new Array("吉林市","长春市","白山市","延边州","白城市","松原市","辽源市","通化市","四平市"),o["宁夏"]=new Array("银川市","吴忠市","中卫市","石嘴山市","固原市"),cc.Class({"extends":i,properties:{scrollview:cc.ScrollView,AreaCell:cc.Prefab},onLoad:function(){this._super(),this.updateProvinceArea(),this.ProvinceName="",this.CityName=""},callBackBtn:function(e,t){var s=e.target.getName();cc.log("ClubAreaView.callBackBtn,BtnName = "+s),a.playEffect(n.AUDIO_BTN_CLICK),"BtnClose"==s&&this.dismiss()},updateCityArea:function(){this.scrollview.content.removeAllChildren(!0);for(var e=0,t=0,e=0;e<o[this.ProvinceName].length;e++){var s=cc.instantiate(this.AreaCell);this.scrollview.content.addChild(s),t=s.getContentSize().height,s.setPosition(cc.p(0,0-t*(e+.5))),s.getComponent("ClubAreaCell").setAreaCellInfo(o[this.ProvinceName][e],0),s.on(cc.Node.EventType.TOUCH_END,function(e){cc.log("stop event"+e.target.getComponent("ClubAreaCell").name);var t={popView:"ClubAreaView",btn:"ClubAreaCell",area:this.ProvinceName+" "+e.target.getComponent("ClubAreaCell").name};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:t}),this.dismiss()}.bind(this))}},updateProvinceArea:function(){this.scrollview.content.removeAllChildren(!0);var e=0,t=0;for(var s in o){cc.log("ClubAreaView.updateProvinceArea,name = "+s);var i=cc.instantiate(this.AreaCell);this.scrollview.content.addChild(i),t=i.getContentSize().height,i.setPosition(cc.p(0,0-t*(e+.5))),i.getComponent("ClubAreaCell").setAreaCellInfo(s,o[s].length),e++,i.on(cc.Node.EventType.TOUCH_END,function(e){cc.log("stop event"+e.target.getComponent("ClubAreaCell").name),this.ProvinceName=e.target.getComponent("ClubAreaCell").name,this.updateCityArea()}.bind(this))}this.scrollview.content.height<t*e&&(this.scrollview.content.height=t*e)}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MusicMgr:"MusicMgr"}],ClubCell:[function(e,t,s){"use strict";cc._RFpush(t,"a2f3dsnImtOUq6HP2gz7Z22","ClubCell");var i=e("GamePlayer");cc.Class({"extends":cc.Component,properties:{ClubAddress:cc.Label,ClubIcon:cc.Sprite,ClubName:cc.Label,ClubPresons:cc.Label,ClubAddress2:cc.Label,ClubIntro:cc.Label},onLoad:function(){this.info=null},setClubCellInfo:function(e){i.getInstance().uid==e.owneruid&&(i.getInstance().SelfClubId=e.clubid),cc.log("ClubCell.setClubCellInfo clubid=",e.clubid," owneruid=",e.owneruid),this.info=e,this.ClubAddress.string=e.address,this.ClubAddress2.string=e.address,this.ClubName.string=e.name,this.ClubPresons.string=e.members+"/"+e.maxmember},callBackBtn:function(e,t){cc.log("ClubCell.callBackBtn")}}),cc._RFpop()},{GamePlayer:"GamePlayer"}],ClubCreateRoomReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_REQ_CREATE_TABLE_CMD_ID,this.send=function(e,t){cc.log("CreateRoomReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,clubid:t.clubid,clublevel:t.clublevel,gameid:t.gameid,gamelevel:t.gamelevel,param:BASE64.encoder(JSON.stringify(e))},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"4f3a7irWINGDoVRNPGXSUBI","ClubCreateRoomReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],ClubCreateRoomRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_RESP_CREATE_TABLE_CMD_ID,this.privateid=0,this.gamesvcid=0,this.tableid=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.gameid=e.gameid,this.clubid=e.clubid,this.clublevel=e.clublevel,this.privateid=e.privateids,this.gamesvcid=e.gamesvcid,this.tableid=e.tableid)}}cc._RFpush(t,"1051eB1YdJOAo1gdaSvnSNC","ClubCreateRoomRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ClubCreateView:[function(e,t,s){"use strict";cc._RFpush(t,"d49b3/bUbNIS7Kg0JSUclS0","ClubCreateView");var i=e("BasePop"),a=e("MessageFactory"),n=e("ToastView"),o=e("MusicMgr"),c=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{AreaView:cc.Prefab,AreaString:cc.Label,ClubName:cc.EditBox},onLoad:function(){this._super()},onSceneMsg:function(e){var t=e.data;"ClubAreaView"==t.popView&&"ClubAreaCell"==t.btn&&(this.AreaString.string=t.area)},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ClubCreateView.callBackBtn,BtnName = "+s),o.playEffect(c.AUDIO_BTN_CLICK),"BtnCreate"==s){if(""==this.AreaString.string||""==this.ClubName.string)return void n.show("俱乐部名字或地址不能为空");var i={name:this.ClubName.string,headurl:"",address:this.AreaString.string,level:1,intro:""};a.createMessageReq(window.US_REQ_CREATE_CLUB_CMD_ID).send(i),this.dismiss()}else if("BtnClose"==s)this.dismiss();else if("BtnPosition"==s){var r=cc.instantiate(this.AreaView);this.node.addChild(r),r.setPosition(cc.p(0,0))}}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView"}],ClubDelMemberReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_REQ_OWNER_RM_MEMBER_CMD_ID,this.send=function(e){cc.log("ClubDelMemberReqPacket.send");var t={uid:e.uid};this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,clubid:e.clubid,param:t},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"3f2546jijJEsJ3DZ3BSXxQF","ClubDelMemberReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],ClubDelMemberRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_RESP_OWNER_RM_MEMBER_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param)}}cc._RFpush(t,"146d8HVN+1FxI+CsOfPqVAw","ClubDelMemberRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ClubFindPopView:[function(e,t,s){"use strict";cc._RFpush(t,"9166e0c7nVPPLneopiy8cbH","ClubFindPopView");var i=e("BasePop"),a=e("MessageFactory"),n=e("MusicMgr"),o=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{EditBox:cc.EditBox},onLoad:function(){this._super()},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ClubCreateView.callBackBtn,BtnName = "+s),n.playEffect(o.AUDIO_BTN_CLICK),"BtnClose"==s)this.dismiss();else if("BtnFind"==s){var i={key:this.EditBox.string};a.createMessageReq(US_REQ_SEARCH_CLUB_CMD_ID).send(i),this.dismiss()}}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr"}],ClubInfoView:[function(e,t,s){"use strict";cc._RFpush(t,"ee0eb2F2w1J+L1sHWYXRLzv","ClubInfoView");var i=e("BasePop"),a=e("UtilTool"),n=e("MessageFactory"),o=e("LoadingView"),c=e("ToastView"),r=e("GamePlayer"),l=e("MusicMgr"),d=e("Audio_Common"),u=e("GameCallOC"),h=e("AlertView"),_=e("GameSystem");cc.Class({"extends":i,properties:{ClubTitle:cc.Label,ClubName:cc.Label,ClubPersons:cc.Label,ClubHead:cc.Sprite,ClubAdress:cc.Label,ClubOwner:cc.Label,ClubMemberHead:[cc.Sprite],ClubMemHeadBg:[cc.Sprite],ClubOwnerHead:cc.Sprite,ClubId:cc.Label,ClubTime:cc.Label,ClubIntroDoc:cc.RichText,ClubMember:cc.Prefab,ClubSetView:cc.Prefab,ShareView:cc.Prefab},onLoad:function(){this._super()},onMessage:function(e){cc.log("ClubInfoView.onMessage");var t=e.data,s=t.cmd;switch(s){case window.CLUB_RESP_DISMISS_CLUB_CMD_ID:this.onDismissClubMsg(t);break;case CLUB_RESP_GET_MEMBER_LIST_CMD_ID:this.onGetClubMember(t);break;case window.CLUB_RESP_OWNER_RM_MEMBER_CMD_ID:this.onDelMemberMsg(t)}},onGetClubMember:function(e){e.code==SocketRetCode.RET_SUCCESS&&(r.getInstance().CurClubMemList=e.list,this.setHeadUrlList())},onDelMemberMsg:function(e){if(cc.log("ClubInfoView.onDelMemberMsg msg=",e),e.code==SocketRetCode.RET_SUCCESS)if(e.param.uid==r.getInstance().uid){this.dismiss(),cc.log("ClubInfoView.onDismissClubMsg notify ClubRoomView");var t={popView:"ClubInfoView",btn:"onDismissClubMsg"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:t})}else this.sendGetMemberList()},onDismissClubMsg:function(e){if(cc.log("ClubInfoView.onDismissClubMsg msg=",e),e.code==SocketRetCode.RET_SUCCESS)if(e.param.role==window.ClubRole.E_CLUB_OWNER_ROLE){c.show("群主"+e.param.name+"解散了"+e.param.clubname)+"俱乐部",o.dismiss(),this.dismiss(),cc.log("ClubInfoView.onDismissClubMsg notify ClubRoomView");var t={popView:"ClubInfoView",btn:"onDismissClubMsg"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:t})}else if(e.param.uid==r.getInstance().uid){c.show("您退出俱乐部"+e.param.clubname+"成功"),o.dismiss(),this.dismiss(),cc.log("ClubInfoView.onDismissClubMsg notify ClubRoomView");var t={popView:"ClubInfoView",btn:"onDismissClubMsg"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:t})}else c.show(e.param.name+"退出俱乐部"+e.param.clubname),this.sendGetMemberList()},onSceneMsg:function(e){var t=e.data;"ClubSetView"!=t.popView&&"ClubMemberView"!=t.popView||"BtnClose"==t.btn&&(this.setTextInfo(),this.setHeadUrlList())},setTextInfo:function(){cc.log("ClubInfoView.setTextInfo info=",r.getInstance().CurClubInfo),this.ClubTitle.string=r.getInstance().CurClubInfo.name,this.ClubName.string=r.getInstance().CurClubInfo.name,this.ClubPersons.string=r.getInstance().CurClubInfo.members+"/"+r.getInstance().CurClubInfo.maxmember,this.ClubAdress.string=r.getInstance().CurClubInfo.address,this.ClubOwner.string=r.getInstance().CurClubInfo.ownername,this.ClubId.string=r.getInstance().CurClubInfo.clubid,this.ClubIntroDoc.string=r.getInstance().CurClubInfo.intro,this.ClubTime.string="创建于"+a.getFormatData(r.getInstance().CurClubInfo.createtime)+"  "+a.getFormatData(r.getInstance().CurClubInfo.endtime)+"到期"},setHeadUrlList:function(){var e=r.getInstance().CurClubMemList;if(null!=e&&0!=e.length){for(var t=0;t<e.length&&(this.ClubMemHeadBg[t].node.active=!0,UpdateWXHeadIcon(e[t].headurl,this.ClubMemberHead[t]),!(t>=3));t++);for(t=0;t<e.length;t++)if(e[t].role==window.ClubRole.E_CLUB_OWNER_ROLE)return void UpdateWXHeadIcon(e[t].headurl,this.ClubOwnerHead)}},setClubInfo:function(){this.setTextInfo(),this.sendGetMemberList()},sendGetMemberList:function(){cc.log("ClubInfoView.sendGetMemberList clubid=",r.getInstance().CurClubInfo.clubid);var e={clubid:r.getInstance().CurClubInfo.clubid};n.createMessageReq(window.CLUB_REQ_GET_MEMBER_LIST_CMD_ID).send(e)},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ClubInfoView.callBackBtn,BtnName = "+s),l.playEffect(d.AUDIO_BTN_CLICK),"BtnChangeInfo"==s){var i=cc.instantiate(this.ClubSetView);this.node.addChild(i),i.setPosition(cc.p(0,0))}else if("BtnClose"==s){this.dismiss();var a={popView:"ClubInfoView",btn:"BtnClose"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:a})}else if("BtnMember"==s){var o=cc.instantiate(this.ClubMember);this.node.addChild(o),o.setPosition(cc.p(0,0))}else if("BtnDelClub"==s){var c=h.create();c.setPositiveButton(function(){var e={clubid:r.getInstance().CurClubInfo.clubid};n.createMessageReq(CLUB_REQ_DISMISS_CLUB_CMD_ID).send(e)},"删除并退出"),c.show("您确定是否删除并推出俱乐部？",AlertViewBtnType.E_BTN_CANCLE)}else if("BtnShareBusiness"==s){var g=cc.instantiate(this.ShareView);this.node.addChild(g),g.setPosition(cc.p(0,0));var m="我正在玩游戏［"+u.getInstance().getAppName()+"］,俱乐部("+r.getInstance().CurClubInfo.clubid+")欢迎您的加入！！！";g.getComponent("ShareView").setShareTyep(ShareType.E_SHARETYPE_LINK,m,_.getInstance().clienturl)}}}),cc._RFpop()},{AlertView:"AlertView",Audio_Common:"Audio_Common",BasePop:"BasePop",GameCallOC:"GameCallOC",GamePlayer:"GamePlayer",GameSystem:"GameSystem",LoadingView:"LoadingView",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView",UtilTool:"UtilTool"}],ClubJoinView:[function(e,t,s){"use strict";cc._RFpush(t,"73334mXVPdNtIwkuAI4skgn","ClubJoinView");var i=e("BasePop"),a=(e("UtilTool"),e("MessageFactory")),n=(e("LoadingView"),e("ToastView")),o=e("GamePlayer"),c=e("MusicMgr"),r=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{ClubTitle:cc.Label,ClubName:cc.Label,ClubPersons:cc.Label,ClubHead:cc.Sprite,ClubAddress:cc.Label,ClubOwner:cc.Label,ClubOwnerHead:cc.Sprite,ClubId:cc.Label,ClubIntroDoc:cc.Label},onLoad:function(){this._super(),this.setTextInfo(),this.setHeadUrl()},onMessage:function(e){cc.log("ClubJoinView.onMessage");var t=e.data,s=t.cmd;switch(s){case window.CLUB_RESP_JOIN_CLUB_CMD_ID:this.onJoinClubMsg(t)}},onJoinClubMsg:function(e){if(e.code==SocketRetCode.RET_SUCCESS&&e.param.uid==o.getInstance().uid){1==e.param.isallow?(n.show("群主同意您加入他的俱乐部"),a.createMessageReq(US_REQ_CLUB_LIST_CMD_ID).send()):n.show("群主拒绝您加入他的俱乐部"),this.dismiss();var t={popView:"ClubJoinView",btn:"RespJoin"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:t})}},setTextInfo:function(){this.ClubTitle.string=o.getInstance().CurClubInfo.name,this.ClubName.string=o.getInstance().CurClubInfo.name,this.ClubPersons.string=o.getInstance().CurClubInfo.members+"/"+o.getInstance().CurClubInfo.maxmember,this.ClubAddress.string=o.getInstance().CurClubInfo.address,this.ClubOwner.string=o.getInstance().CurClubInfo.ownername,this.ClubId.string=o.getInstance().CurClubInfo.clubid,this.ClubIntroDoc.string=o.getInstance().CurClubInfo.intro},setHeadUrl:function(){},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ClubJoinView.callBackBtn,BtnName = "+s),c.playEffect(r.AUDIO_BTN_CLICK),"BtnClose"==s)this.dismiss();else if("BtnJoinClub"==s){var i={uid:o.getInstance().uid,name:o.getInstance().name,headurl:o.getInstance().headurl,sex:o.getInstance().sex};a.createMessageReq(CLUB_REQ_JOIN_CLUB_CMD_ID).send(o.getInstance().CurClubInfo.clubid,i)}}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",LoadingView:"LoadingView",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView",UtilTool:"UtilTool"}],ClubLevelCell:[function(e,t,s){"use strict";cc._RFpush(t,"966b2ozM3pNJq6SkDvbg3bW","ClubLevelCell"),cc.Class({"extends":cc.Component,properties:{ClubLevelFlag:cc.Sprite,FontLevel:cc.Label,FontLvInfo:cc.Label,FontNeedDia:cc.Label,LevelFlagFrame:[cc.SpriteFrame]},onLoad:function(){},setCellInfo:function(e){this.setClubLevel(1),this.FontNeedDia.string="100",this.FontLvInfo.string="提高人数上限至60人，可设管理员2人。持续15天"},setClubLevel:function(e){this.FontLevel.string=this.getClubLevelName(e),this.ClubLevelFlag.spriteFrame=this.LevelFlagFrame[e]},getClubLevelName:function(e){switch(e){case 1:return"一星俱乐部";case 2:return"二星俱乐部";case 3:return"三星俱乐部";case 4:return"四星俱乐部";case 5:return"五星俱乐部";case 6:return"六星俱乐部";case 7:return"七星俱乐部";case 8:return"八星俱乐部";case 9:return"九星俱乐部";case 10:return"十星俱乐部"}},CallBackBtn:function(){}}),cc._RFpop()},{}],ClubLevelView:[function(e,t,s){"use strict";cc._RFpush(t,"3ded59G/WZAqJScyRtfW3bL","ClubLevelView");var i=e("BasePop");e("ClubLevelCell");cc.Class({"extends":i,properties:{ClubLvFlag:cc.Sprite,FontCurLevel:cc.Label,TimeLabel:cc.Label,CurDiamond:cc.Label,clubLevelCell:cc.Prefab},onLoad:function(){this._super()},getClubLevelName:function(e){switch(e){case 1:return"一星俱乐部";case 2:return"二星俱乐部";case 3:return"三星俱乐部";case 4:return"四星俱乐部";case 5:return"五星俱乐部";case 6:return"六星俱乐部";case 7:return"七星俱乐部";case 8:return"八星俱乐部";case 9:return"九星俱乐部";case 10:return"十星俱乐部"}}}),cc._RFpop()},{BasePop:"BasePop",ClubLevelCell:"ClubLevelCell"}],ClubMemberPermissionView:[function(e,t,s){"use strict";cc._RFpush(t,"1c947ir7cREq62tEy0ORrfi","ClubMemberPermissionView");var i=e("BasePop"),a=e("MessageFactory"),n=e("MusicMgr"),o=e("Audio_Common"),c=e("GamePlayer");e("GameSystem");cc.Class({"extends":i,properties:{OpManage:cc.Label},onLoad:function(){this._super(),this.info=null},setData:function(e){this.info=e,e.role==window.ClubRole.E_CLUB_MANAGER_ROLE?this.OpManage.string="取消管理员":e.role==window.ClubRole.E_CLUB_NORMAL_ROLE&&(this.OpManage.string="设置管理员")},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ClubMemberPermissionView.callBackBtn, BtnName = "+s),n.playEffect(o.AUDIO_BTN_CLICK),"GrayLayer"==s);else if("PermissionOpBg"==s){var i={clubid:c.getInstance().CurClubInfo.clubid,uid:this.info.uid,role:window.ClubRole.E_CLUB_MANAGER_ROLE};this.info.role==window.ClubRole.E_CLUB_MANAGER_ROLE&&(i.role=window.ClubRole.E_CLUB_NORMAL_ROLE),cc.log("ClubMemberPermissionView Send Modify Role, data=",i),a.createMessageReq(CLUB_REQ_OWNER_MODIFY_ROLE_CMD_ID).send(i)}else if("PermissionDelBg"==s){var i={clubid:c.getInstance().CurClubInfo.clubid,uid:this.info.uid};a.createMessageReq(CLUB_REQ_OWNER_RM_MEMBER_CMD_ID).send(i)}this.dismiss()}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr"}],ClubMemberView:[function(e,t,s){"use strict";cc._RFpush(t,"11fb0Law1tM57o3bDWFfnlI","ClubMemberView");var i=e("BasePop"),a=e("MessageFactory"),n=e("MusicMgr"),o=e("Audio_Common"),c=e("GamePlayer"),r=e("ToastView");e("GameSystem");window.ClubRole={E_CLUB_OWNER_ROLE:1,E_CLUB_MANAGER_ROLE:2,E_CLUB_NORMAL_ROLE:3},cc.Class({"extends":i,properties:{TitleLabel:cc.Label,UpgradeLabel:cc.Label,EditName:cc.EditBox,ClubPersonsCell:cc.Prefab,ScrollView:cc.ScrollView,ClubUpgradView:cc.Prefab,ClubMemberPermissionView:cc.Prefab},onLoad:function(){this._super(),this.showTitle(),this.showMemberList()},showTitle:function(){this.TitleLabel.string="会员管理("+c.getInstance().CurClubInfo.members+"/"+c.getInstance().CurClubInfo.maxmember+")",c.getInstance().uid!=c.getInstance().CurClubInfo.owneruid&&(this.UpgradeLabel.node.active=!1)},showMemberList:function(){var e=c.getInstance().CurClubMemList;this.ScrollView.content.removeAllChildren(!0);for(var t=0,s=0;null!=e&&s<e.length;s++)t=this.createClubPersonCell(e,s);t*e.length>this.ScrollView.content.height&&(this.ScrollView.content.height=t*e.length)},searchOneMember:function(e){for(var t=c.getInstance().CurClubMemList,s=0;null!=t&&s<t.length;s++){if(t[s].name==e)return cc.log("searchOneMember : success found name=",e),this.ScrollView.content.removeAllChildren(),void this.createClubPersonCell(t,s);cc.log("searchOneMember : not found list.name=",t[s].name)}r.show("未搜索到会员: "+e)},createClubPersonCell:function(e,t){var s=cc.instantiate(this.ClubPersonsCell);this.ScrollView.content.addChild(s);var i=s.getContentSize().height;return s.setPosition(cc.p(0,0-i*(t+.5))),s.getComponent("ClubPersonsCell").setPersonInfo(e[t]),c.getInstance().CurClubInfo.owneruid!=c.getInstance().uid?(cc.log("ClubMemberView.createClubPersonCell not Owner"),i):e[t].role==window.ClubRole.E_CLUB_OWNER_ROLE?(cc.log("ClubMemberView.createClubPersonCell owner role=",e[t].role),i):(s.on(cc.Node.EventType.TOUCH_END,function(e){var t=this,s=e.target.getComponent("ClubPersonsCell"),i=cc.instantiate(this.ClubMemberPermissionView);t.node.addChild(i),i.setPosition(cc.p(0,0)),i.getComponent("ClubMemberPermissionView").setData(s.info)}.bind(this)),cc.log("createClubPersonCell.height = "+i),i)},onMessage:function(e){cc.log("ClubMemberView.onMessage");var t=e.data,s=t.cmd;switch(s){case window.CLUB_RESP_OWNER_RM_MEMBER_CMD_ID:this.onDelMemberMsg(t);break;case window.CLUB_RESP_GET_MEMBER_LIST_CMD_ID:this.onGetClubMember(t);break;case window.CLUB_RESP_OWNER_MODIFY_ROLE_CMD_ID:this.onModifyMemberRole(t)}},onClubRmMem:function(e){e.param.uid==c.getInstance().uid?r.show("您被移除俱乐部"+e.param.clubname+"("+e.param.clubid+")"):r.show(e.param.name+"被移除俱乐部"+e.param.clubname+"("+e.param.clubid+")")},onModifyMemberRole:function(e){if(e.param.clubid!=c.getInstance().CurClubInfo.clubid)return void cc.log("ClubMemberView.onModifyMemberRole recv clubid=",e.param.clubid," != curClubid=",c.getInstance().CurClubInfo.clubid);for(var t=c.getInstance().CurClubMemList,s=0;null!=t&&s<t.length;s++)t[s].uid==e.param.uid&&(c.getInstance().CurClubMemList[s].role=e.param.role);this.showMemberList()},onDelMemberMsg:function(e){if(cc.log("ClubMemberView.onDelMemberMsg"),e.code==SocketRetCode.RET_SUCCESS){var t={clubid:c.getInstance().CurClubInfo.clubid};a.createMessageReq(window.CLUB_REQ_GET_MEMBER_LIST_CMD_ID).send(t)}},onGetClubMember:function(e){e.code==SocketRetCode.RET_SUCCESS&&(c.getInstance().CurClubMemList=e.list,this.showMemberList())},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ClubMemberView.callBackBtn, BtnName="+s),n.playEffect(o.AUDIO_BTN_CLICK),"BtnClose"==s){this.dismiss(),this.dismiss();var i={popView:"ClubMemberView",btn:"BtnClose"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:i})}else if("BtnUpgrade"==s){var a=cc.instantiate(this.ClubUpgradView);this.node.addChild(a),a.setPosition(cc.p(0,0))}else if("BtnSearch"==s){var c=this.EditName.string;cc.log("ClubMemberView.callBackBtn, name=",c),this.searchOneMember(c)}},callBackEditNameBegin:function(e,t){cc.log("ClubMemberView.callBackEditNameBegin"),this.EditName.string=""},callBackEditNameEnd:function(e,t){var s=this.EditName.string;cc.log("ClubMemberView.callBackEditNameEnd, name=",s),this.searchOneMember(s)},onSceneMsg:function(e){var t=e.data;"ClubUpdradeView"==t.popView&&"BtnClose"==t.btn&&(this.showTitle(),this.showMemberList())}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView"}],ClubOwnerConfirmReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_REQ_OWNER_CONFIRM_CMD_ID,this.send=function(e,t){cc.log("ClubOwnerConfirmReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,clubid:t,param:e},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"6160fJzCppDz6tvkcDbEKij","ClubOwnerConfirmReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],ClubOwnerConfirmRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_RESP_OWNER_CONFIRM_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,
this.code<SocketRetCode.RET_SUCCESS}}cc._RFpush(t,"5756dIwm+lD94z8OSXnqdfO","ClubOwnerConfirmRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ClubOwnerModifyRoleReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_REQ_OWNER_MODIFY_ROLE_CMD_ID,this.send=function(e){cc.log("ClubOwnerModifyRoleReqPacket.send");var t={uid:e.uid,role:e.role};this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,clubid:e.clubid,param:t},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"6a772oQiE9Eiav1MBYoI9VD","ClubOwnerModifyRoleReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],ClubOwnerModifyRoleRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_RESP_OWNER_MODIFY_ROLE_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param)}}cc._RFpush(t,"71674scYjdD/I2n+iqa6uYz","ClubOwnerModifyRoleRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ClubPersonsCell:[function(e,t,s){"use strict";cc._RFpush(t,"115a1vqfGhId6oWAChB+9b8","ClubPersonsCell");var i=e("UtilTool");cc.Class({"extends":cc.Component,properties:{Head:cc.Sprite,Name:cc.Label,RoleSprite:cc.Sprite,RoleFrame:[cc.SpriteFrame],Time:cc.Label},onLoad:function(){this.info=null},setPersonInfo:function(e){cc.log("ClubPersonCell name=",e.name," headurl=",e.headurl," role=",e.role," time=",e.lasttime),this.info=e,this.Name.string=e.name,this.Time.string=i.getFormatDataDetail(e.lasttime),UpdateWXHeadIcon(e.headurl,this.Head),e.role==window.ClubRole.E_CLUB_OWNER_ROLE?this.RoleSprite.spriteFrame=this.RoleFrame[0]:e.role==window.ClubRole.E_CLUB_MANAGER_ROLE?this.RoleSprite.spriteFrame=this.RoleFrame[1]:(cc.log("ClubPersonCell.setPersonInfo role = normal"),this.RoleSprite.node.active=!1)}}),cc._RFpop()},{UtilTool:"UtilTool"}],ClubPersonsView:[function(e,t,s){"use strict";cc._RFpush(t,"851a9wyrIpAy6765tLFd57l","ClubPersonsView");var i=e("BasePop");cc.Class({"extends":i,properties:{ScrollView:cc.ScrollView},onLoad:function(){this._super()},callbackBtn:function(e,t){}}),cc._RFpop()},{BasePop:"BasePop"}],ClubRoomView:[function(e,t,s){"use strict";cc._RFpush(t,"d5fbaSs+PlHh6GrGhfundeD","ClubRoomView");var i=e("BasePop"),a=e("MessageFactory"),n=e("ToastView"),o=(e("GameSystem"),e("LoadingView"),e("MusicMgr")),c=e("Audio_Common"),r=e("GamePlayer");cc.Class({"extends":i,properties:{ClubName:cc.Label,ClubInfo:cc.Prefab,TableNum:cc.Label,CreateRoom:cc.Sprite,Bullfight_CreateRoom:cc.Prefab,scrollview:cc.ScrollView,TableCell:cc.Prefab},onLoad:function(){this._super(),this.setClubInfo()},onMessage:function(e){cc.log("ClubRoomView.onMessage");var t=e.data,s=t.cmd;switch(s){case window.US_RESP_CLUB_TABLE_CMD_ID:this.onGetClubTableMsg(t);break;case window.US_RESP_ENTER_GAME_CMD_ID:this.onEnterRoom(t);break;case window.CLUB_RESP_OWNER_RM_MEMBER_CMD_ID:this.onDelMemberMsg(t)}},onDelMemberMsg:function(e){if(cc.log("ClubInfoView.onDelMemberMsg"),e.code==SocketRetCode.RET_SUCCESS&&e.param.uid==r.getInstance().uid){this.dismiss();var t={popView:"ClubRoomView",btn:"BtnClose"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:t})}},onSceneMsg:function(e){cc.log("ClubRoomView.onSceneMsg");var t=e.data;if("ClubInfoView"==t.popView)if("BtnClose"==t.btn)this.setClubInfo();else if("onDismissClubMsg"==t.btn){cc.log("ClubRoomView.onSceneMsg ClubInfoView onDismissClubMsg."),this.dismiss();var s={popView:"ClubRoomView",btn:"BtnClose"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:s})}},onEnterRoom:function(e){cc.log("HallScene.onEnterRoom,tableid = "+e.name),e.code==SocketRetCode.RET_SUCCESS},onGetClubTableMsg:function(e){if(e.code==SocketRetCode.RET_SUCCESS){if(null==e.list||0==e.list.length)return void n.show("暂未发现俱乐部房间");this.TableNum.string="牌局("+e.list.length+")";for(var t=0,s=0;null!=e.list&&s<e.list.length;s++){var i=cc.instantiate(this.TableCell);this.scrollview.content.addChild(i),t=i.getContentSize().height,i.setPosition(cc.p(0,-i.getContentSize().height/2-i.getContentSize().height*s)),i.getComponent("GamblingHouseCell").updateRoomInfo(e.list[s])}i.getContentSize().height*e.list.length>this.scrollview.content.height&&(this.scrollview.content.height=t*e.list.length)}},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ClubRoomView.callBackBtn,BtnName = "+s),o.playEffect(c.AUDIO_BTN_CLICK),"BtnClose"==s){this.dismiss();var i={popView:"ClubRoomView",btn:"BtnClose"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:i})}else if("BtnClubInfo"==s){var a=cc.instantiate(this.ClubInfo);this.node.addChild(a),a.setPosition(cc.p(0,0)),a.getComponent("ClubInfoView").setClubInfo()}else if("CreateRoom"==s){var n=cc.instantiate(this.Bullfight_CreateRoom);this.node.addChild(n),n.setPosition(cc.p(0,0)),n.getComponent("Bullfight_CreateRoom").setClubId(r.getInstance().CurClubInfo.clubid,r.getInstance().CurClubInfo.level)}},setClubInfo:function(){var e=r.getInstance().CurClubInfo;cc.log("ClubRoomView.setClubInfo Clubid=",e.clubid," role=",e.role," name=",e.name),this.ClubName.string=e.name,e.role==window.ClubRole.E_CLUB_NORMAL_ROLE&&(this.CreateRoom.node.active=!1);var t={clubid:e.clubid};a.createMessageReq(window.US_REQ_CLUB_TABLE_CMD_ID).send(t)}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",LoadingView:"LoadingView",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView"}],ClubSetView:[function(e,t,s){"use strict";cc._RFpush(t,"f3857lbvvdN8YdCSMgx0KXf","ClubSetView");var i=e("BasePop"),a=e("ToastView"),n=e("MusicMgr"),o=e("Audio_Common"),c=e("MessageFactory"),r=e("GamePlayer");e("GameSystem");cc.Class({"extends":i,properties:{Name:cc.EditBox,Intro:cc.EditBox},onLoad:function(){this._super(),this.setClubInfo()},setClubInfo:function(){cc.log("ClubSetView.setClubInfo"),this.Name.string=r.getInstance().CurClubInfo.name,this.Intro.string=r.getInstance().CurClubInfo.intro},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ClubSetView.callBackBtn, BtnName = "+s),n.playEffect(o.AUDIO_BTN_CLICK),"BtnClose"==s){this.dismiss();var i={popView:"ClubSetView",btn:"BtnClose"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:i})}else if("BtnSave"==s){var a=r.getInstance().CurClubInfo,l={clubid:a.clubid,headurl:"",name:this.Name.string,intro:this.Intro.string};l.name==r.getInstance().CurClubInfo.name&&(l.name=""),cc.log("ClubSetView.callBackBtn headurl=",l.headurl," name=",l.name," intro=",l.intro),c.createMessageReq(window.CLUB_REQ_MODIFY_INFO_CMD_ID).send(l)}},onMessage:function(e){cc.log("ClubSetView.onMessage");var t=e.data,s=t.cmd;switch(s){case window.CLUB_RESP_MODIFY_INFO_CMD_ID:this.onModifyInfoMsg(t)}},onModifyInfoMsg:function(e){cc.log("ClubSetView.onModifyInfoMsg code=",e.code),e.code==SocketRetCode.RET_SUCCESS?(r.getInstance().CurClubInfo.name=this.Name.string,r.getInstance().CurClubInfo.intro=this.Intro.string,a.show("修改成功！！！")):a.show(e.desc)}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView"}],ClubUpgradView:[function(e,t,s){"use strict";cc._RFpush(t,"be1a0ktS/xHPoe6f/u4Y0LY","ClubUpgradView");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common"),o=e("GameSystem"),c=e("GamePlayer"),r=e("MessageFactory"),l=e("ToastView"),d=e("UtilTool");cc.Class({"extends":i,properties:{TipsLabel:cc.Label,LevelNum:cc.Label,PersonCurCount:cc.Label,PersonTargetCount:cc.Label,TableCurCount:cc.Label,TableTargetCount:cc.Label,DiamondCost:cc.Label,CurDiamond:cc.Label,BtnAdd:cc.Button,BtnSub:cc.Button,BtnSpriteFrame:[cc.SpriteFrame]},onLoad:function(){this._super(),this.showMaxClubInfo(),this.showCurClubInfo(),this.showCurDiamond(),this.showBtnSprite(c.getInstance().CurClubInfo.level)},getMaxLevelConf:function(){for(var e=o.getInstance().ClubUpgradeCost,t=1,s=0,i=0;i<e.length;i++)t<e[i].level&&(t=e[i].level,s=i);return e[s]},getCurLevelInfo:function(e){for(var t=o.getInstance().ClubUpgradeCost,s=0;s<t.length;s++)if(e==t[s].level)return t[s];return t[0]},showMaxClubInfo:function(){var e=this.getMaxLevelConf();this.TipsLabel.string="俱乐部上限等级3级，有效期为15天，最高上限为"+e.maxpeople+"人，同时创建"+e.maxtable+"张牌桌",this.PersonTargetCount.string=e.maxpeople,this.TableTargetCount.string=e.maxtable},showCurClubInfo:function(){var e=c.getInstance().CurClubInfo,t=this.getCurLevelInfo(e.level);this.LevelNum.string=t.level,this.PersonCurCount.string=t.maxpeople,this.TableCurCount.string=t.maxtable,this.DiamondCost.string=t.diamond},showBtnSprite:function(e){1==e?this.BtnSub.interactable=!1:(this.BtnSub.interactable=!0,this.BtnSub.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[1]),4==e?this.BtnAdd.interactable=!1:(this.BtnAdd.interactable=!0,this.BtnAdd.node.getComponent(cc.Sprite).spriteFrame=this.BtnSpriteFrame[1])},showCurDiamond:function(){this.CurDiamond.string="拥有钻石: "+c.getInstance().diamond},onMessage:function(e){var t=e.data,s=t.cmd;switch(cc.log("ClubUpgradeView.onMessage cmd=",t.cmd," window.CLUB_RESP_MODIFY_INFO_CMD_ID=",window.CLUB_RESP_MODIFY_INFO_CMD_ID),s){case window.CLUB_RESP_MODIFY_INFO_CMD_ID:this.onModifyInfoMsg(t);break;case window.US_RESP_USER_DETAIL_CMD_ID:this.updateUserDiamond(t)}},updateUserDiamond:function(e){cc.log("ClubUpgradeView.updateUserDiamond"),c.getInstance().gold=e.gold,c.getInstance().diamond=e.diamond,this.showCurDiamond()},onModifyInfoMsg:function(e){if(e.code==SocketRetCode.RET_SUCCESS){cc.log("ClubUpgradeView.onModifyInfoMsg code=",e.code," endtime=",e.param.endtime),c.getInstance().CurClubInfo.level=Number(e.param.level),c.getInstance().CurClubInfo.endtime=e.param.endtime;var t=this.getCurLevelInfo(e.param.level);cc.log("ClubUpgradeView.onModifyInfoMsg  info=",t),c.getInstance().CurClubInfo.maxmember=t.maxpeople,l.show("升级成功: "+d.getFormatDataDetail(c.getInstance().CurClubInfo.endtime)+"到期",2),this.getUserDetail()}else l.show(e.desc)},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ClubUpgradeView.callBackBtn,BtnName = "+s),a.playEffect(n.AUDIO_BTN_CLICK),"BtnClose"==s){this.dismiss();var i={popView:"ClubUpdradeView",btn:"BtnClose"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:i})}else if("BtnUpgrade"==s){var o=Number(this.LevelNum.string);cc.log("callBackBtn BtnUpgrade level=",o);var d=this.getCurLevelInfo(o);if(d.diamond>c.getInstance().diamond)return void l.show("您钻石不足,请去商城购买");cc.log("ClubSetView.callBackBtn endtime=",c.getInstance().CurClubInfo.endtime);var d=c.getInstance().CurClubInfo,u={clubid:d.clubid,headurl:"",intro:"",address:"",level:o};r.createMessageReq(window.CLUB_REQ_MODIFY_INFO_CMD_ID).send(u)}else if("BtnSub"==s){var o=Number(this.LevelNum.string);if(cc.log("callBackBtn BtnSub level=",o),1==o)return;o-=1;var d=this.getCurLevelInfo(o);this.LevelNum.string=o,this.PersonTargetCount.string=d.maxpeople,this.TableTargetCount.string=d.maxtable,this.DiamondCost.string=d.diamond,this.showBtnSprite(o)}else if("BtnAdd"==s){var o=Number(this.LevelNum.string);if(cc.log("callBackBtn BtnAdd level=",o),4==o)return;o+=1;var d=this.getCurLevelInfo(o);this.LevelNum.string=o,this.PersonTargetCount.string=d.maxpeople,this.TableTargetCount.string=d.maxtable,this.DiamondCost.string=d.diamond,this.showBtnSprite(o)}}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView",UtilTool:"UtilTool"}],ClubUpgradeCostReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_CLUB_UPGRADE_COST_CMD_ID,this.send=function(e){cc.log("ClubUpgradeCostReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"84a12FHM2pETJp6WOI1jct2","ClubUpgradeCostReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],ClubUpgradeCostRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_CLUB_UPGRADE_COST_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.list=e.list}}cc._RFpush(t,"d3cf40owQZJWa2xZMFJ+cLa","ClubUpgradeCostRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ClubView:[function(e,t,s){"use strict";cc._RFpush(t,"fa758RC/tpMH5/A9qkBWv20","ClubView");var i=e("BasePop"),a=e("ToastView"),n=e("MessageFactory"),o=e("MusicMgr"),c=e("Audio_Common"),r=e("GamePlayer");e("GameSystem");cc.Class({"extends":i,properties:{ClubAddView:cc.Prefab,ClubCreateView:cc.Prefab,initNode:cc.Node,scrollView:cc.ScrollView,ClubCell:cc.Prefab,ClubJoinView:cc.Prefab,ClubFindPopView:cc.Prefab,ClubRoomView:cc.Prefab},onLoad:function(){this._super(),r.getInstance().SelfClubId=0,r.getInstance().CurClubInfo=null,r.getInstance().CurClubMemList=null,this.sendGetClubList()},sendGetClubList:function(){n.createMessageReq(window.US_REQ_CLUB_LIST_CMD_ID).send()},callBackBtn:function(e,t){var s=e.target.getName();cc.log("ClubView.callBackBtn,BtnName = "+s),o.playEffect(c.AUDIO_BTN_CLICK),"BtnClose"==s?this.dismiss():"BtnAdd"==s?this.createAddView():"BtnNewClub"==s?this.createClubCreateView():"BtnAddClub"==s&&this.createSearchPop()},createSearchPop:function(){var e=cc.instantiate(this.ClubFindPopView);this.node.addChild(e),e.setPosition(cc.p(0,0))},createAddView:function(){var e=cc.instantiate(this.ClubAddView);this.node.addChild(e);cc.director.getWinSize();e.setPosition(cc.p(0,0))},createClubCreateView:function(){var e=cc.instantiate(this.ClubCreateView);this.node.addChild(e);cc.director.getWinSize();e.setPosition(cc.p(0,0))},onMessage:function(e){cc.log("ClubView.onMessage");var t=e.data,s=t.cmd;switch(s){case US_RESP_CREATE_CLUB_CMD_ID:this.onCreateClubMsg(t);break;case US_RESP_CLUB_LIST_CMD_ID:this.onClubListMsg(t);break;case US_RESP_SEARCH_CLUB_CMD_ID:this.onSearchClubMsg(t);break;case window.US_RESP_FIND_TABLE_CMD_ID:this.onFindRoom(t);break;case window.CLUB_RESP_DISMISS_CLUB_CMD_ID:this.onDismissClubMsg(t)}},onFindRoom:function(e){e.code==SocketRetCode.RET_SUCCESS&&this.dismiss()},onDismissClubMsg:function(e){cc.log("ClubInfoView.onDismissClubMsg msg=",e),e.code==SocketRetCode.RET_SUCCESS&&(e.param.role==window.ClubRole.E_CLUB_OWNER_ROLE?(a.show("群主"+e.param.name+"解散了"+e.param.clubname)+"俱乐部",this.sendGetClubList()):e.param.uid==r.getInstance().uid&&(a.show("您退出俱乐部"+e.param.clubname+"成功"),this.sendGetClubList()))},onSearchClubMsg:function(e){if(e.code==SocketRetCode.RET_SUCCESS){cc.log("ClubView.onSearchClubMsg"),this.setInitNodeVisible(!1);var t=this.scrollView.content.getChildrenCount()-(null==this.initNode?0:1),s=cc.instantiate(this.ClubCell);this.scrollView.content.addChild(s),s.setPosition(cc.p(0,0-s.getContentSize().height*(t+.5)));var i=this;s.on(cc.Node.EventType.TOUCH_END,function(e){cc.log("ClubView.onSearchClubMsg TOUCH_END."),r.getInstance().CurClubInfo=e.target.getComponent("ClubCell").info,i.createClubOtherView(e.target.getComponent("ClubCell").info)}.bind(this)),s.getComponent("ClubCell").setClubCellInfo(e.param)}},setInitNodeVisible:function(e){this.initNode&&(this.initNode.active=e,cc.log("ClubView initNode=",e))},onCreateClubMsg:function(e){cc.log("ClubView.onCreateClubMsg"),e.code==SocketRetCode.RET_SUCCESS&&(a.show("俱乐部创建成功"),this.sendGetClubList())},createClubRoomView:function(){cc.log("ClubView.createClubRoomView");var e=cc.instantiate(this.ClubRoomView);this.node.addChild(e),e.setPosition(cc.p(0,0))},createClubOtherView:function(){cc.log("ClubView.createClubOtherView");var e=cc.instantiate(this.ClubJoinView);this.node.addChild(e),e.setPosition(cc.p(0,0))},onClubListMsg:function(e){if(e.code==SocketRetCode.RET_SUCCESS){if(cc.log("ClubView.onClubListMsg length=",e.list.length),0==e.list.length)return;this.setInitNodeVisible(!1),this.scrollView.content.removeAllChildren(!0);for(var t=0,s=0;null!=e.list&&s<e.list.length;s++){var i=cc.instantiate(this.ClubCell);this.scrollView.content.addChild(i),i.setPosition(cc.p(0,0-i.getContentSize().height*(s+.5)));var a=this;i.on(cc.Node.EventType.TOUCH_END,function(e){r.getInstance().CurClubInfo=e.target.getComponent("ClubCell").info,a.createClubRoomView()}.bind(this)),t=i.getContentSize().height,i.getComponent("ClubCell").setClubCellInfo(e.list[s])}t*e.list.length>this.scrollView.content.height&&(this.scrollView.content.height=t*e.list.length)}},onSceneMsg:function(e){var t=e.data;"ClubAddView"==t.popView?"NewClub"==t.btn?this.createClubCreateView():"AddClub"==t.btn&&this.createSearchPop():"ClubRoomView"==t.popView?"BtnClose"==t.btn&&(cc.log("ClubView.onSceneMsg ClubRoomView BtnClose."),r.getInstance().SelfClubId=0,r.getInstance().CurClubInfo=null,r.getInstance().CurClubMemList=null,this.scrollView.content.removeAllChildren(!0),this.scrollView.content.addChild(this.initNode),this.setInitNodeVisible(!0),this.sendGetClubList()):"ClubJoinView"==t.popView&&"RespJoin"==t.btn&&(cc.log("ClubView.onSceneMsg ClubJoinView RespJoin"),r.getInstance().SelfClubId=0,r.getInstance().CurClubInfo=null,r.getInstance().CurClubMemList=null,this.scrollView.content.removeAllChildren(!0),this.scrollView.content.addChild(this.initNode),this.setInitNodeVisible(!0),this.sendGetClubList())}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView"}],Cmd_Bullfight:[function(e,t,s){"use strict";cc._RFpush(t,"64b8bSQ5q5EKb/NUEkr4lpo","Cmd_Bullfight");e("Cmd_Common");t.exports={SBF_REQ_READY_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|1,SBF_RESP_READY_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|2,SBF_NOTIFY_GAME_START_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|4,SBF_REQ_CALL_BANKER_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|5,SBF_RESP_CALL_BANKER_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|6,SBF_NOTIFY_CONFIRM_BANKER_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|8,SBF_REQ_BET_COIN_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|9,SBF_RESP_BET_COIN_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|10,SBF_NOTIFY_OPEN_CARD_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|12,SBF_REQ_OPEN_CARD_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|13,SBF_RESP_OPEN_CARD_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|14,SBF_NOTIFY_ONE_GAME_RESULT_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|16,SBF_NOTIFY_NOT_CALL_BANKER_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|22,SBF_NOTIFY_NOT_BET_COIN_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|24,SBF_NOTIFY_TOTAL_GAME_RESULT_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|18,US_REQ_TABLE_DETAIL_CMD_ID:window.ServerType.E_COMMON_GAME_TYPE<<16|21,US_RESP_TABLE_DETAIL_CMD_ID:window.ServerType.E_COMMON_GAME_TYPE<<16|22,SBF_REQ_HELP_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|5,SBF_RESP_HELP_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|6,US_REQ_PLAYER_LIST_CMD_ID:window.ServerType.E_COMMON_GAME_TYPE<<16|23,US_RESP_PLAYER_LIST_CMD_ID:window.ServerType.E_COMMON_GAME_TYPE<<16|24,SBF_REQ_AI_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|7,SBF_RESP_AI_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|8,SBF_NOTIFY_KICKOUT_CMD_ID:window.ServerType.E_SIX_BULLFIGHT_TYPE<<16|20},cc._RFpop()},{Cmd_Common:"Cmd_Common"}],Cmd_Common:[function(e,t,s){"use strict";cc._RFpush(t,"87944iIOzdOjYJOINFnK4Oh","Cmd_Common"),window.ServerType=cc.Enum({E_UNKNOWN_SERVER_TYPE:0,E_USER_SERVER_TYPE:1,E_DB_SERVER_TYPE:2,E_CENTER_SERVER_TYPE:3,E_STATUS_SERVER_TYPE:4,E_CLUB_SERVER_TYPE:5,E_COMMON_GAME_TYPE:100,E_SIX_BULLFIGHT_TYPE:101,E_BULLFIGHT_HUNDRED_TYPE:102}),window.US_REQ_HEARTBEAT_CMD_ID=ServerType.E_USER_SERVER_TYPE<<16|1,window.US_RESP_HEARTBEAT_CMD_ID=ServerType.E_USER_SERVER_TYPE<<16|2,window.US_REQ_LOGIN_CMD_ID=ServerType.E_USER_SERVER_TYPE<<16|3,window.US_RESP_LOGIN_CMD_ID=ServerType.E_USER_SERVER_TYPE<<16|4,window.US_KICK_OUT_CMD_ID=ServerType.E_USER_SERVER_TYPE<<16|6,window.US_NOTIFY_IN_GAME_CMD_ID=ServerType.E_USER_SERVER_TYPE<<16|8,window.US_NOTFIY_OWNER_TABLEINFO_CMD_ID=ServerType.E_CENTER_SERVER_TYPE<<16|2,window.US_NOTIFY_OWNER_CONFIRM_SIT_CMD_ID=ServerType.E_CENTER_SERVER_TYPE<<16|4,window.US_REQ_CREATE_TABLE_CMD_ID=ServerType.E_CENTER_SERVER_TYPE<<16|7,window.US_RESP_CREATE_TABLE_CMD_ID=ServerType.E_CENTER_SERVER_TYPE<<16|8,window.US_REQ_FIND_TABLE_CMD_ID=ServerType.E_CENTER_SERVER_TYPE<<16|9,window.US_RESP_FIND_TABLE_CMD_ID=ServerType.E_CENTER_SERVER_TYPE<<16|10,window.US_REQ_ENTER_GAME_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|1,window.US_RESP_ENTER_GAME_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|2,window.US_REQ_LEAVE_GAME_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|3,window.US_RESP_LEAVE_GAME_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|4,window.US_REQ_SIT_DOWN_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|5,window.US_RESP_SIT_DOWN_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|6,window.US_REQ_CARRY_COIN_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|7,window.US_RESP_CARRY_COIN_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|8,window.US_REQ_OWNER_CONFIRM_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|9,window.US_RESP_OWNER_CONFIRM_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|10,window.US_REQ_OWNER_KICKOUT_PLAYERCMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|11,window.US_RESP_OWNER_KICKOUT_PLAYERCMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|12,window.US_NOTIFY_OWNER_KICKOUT_PLAYER_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|14,window.US_REQ_GAME_SWITCH_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|15,window.US_RESP_GAME_SWITCH_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|16,window.US_NOTIFY_GAME_SWITCH_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|18,window.US_REQ_GAME_CHAT_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|19,window.US_RESP_GAME_CHAT_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|20,window.US_REQ_FOUND_TABLE_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|133,window.US_RESP_FOUND_TABLE_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|134,window.US_REQ_SCORE_LIST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|139,window.US_RESP_SCORE_LIST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|140,window.US_REQ_SCORE_DETAIL_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|141,window.US_RESP_SCORE_DETAIL_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|142,window.US_REQ_SHOP_CONF_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|137,window.US_RESP_SHOP_CONF_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|138,window.US_REQ_CREATE_CLUB_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|129,window.US_RESP_CREATE_CLUB_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|130,window.US_REQ_CLUB_LIST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|131,window.US_RESP_CLUB_LIST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|132,window.US_REQ_CLUB_TABLE_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|135,window.US_RESP_CLUB_TABLE_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|136,window.US_REQ_SEARCH_CLUB_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|153,window.US_RESP_SEARCH_CLUB_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|154,window.US_REQ_CLUB_UPGRADE_COST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|159,window.US_RESP_CLUB_UPGRADE_COST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|160,window.CLUB_REQ_MODIFY_INFO_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|1,window.CLUB_RESP_MODIFY_INFO_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|2,window.CLUB_REQ_GET_MEMBER_LIST_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|3,window.CLUB_RESP_GET_MEMBER_LIST_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|4,window.CLUB_REQ_JOIN_CLUB_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|5,window.CLUB_RESP_JOIN_CLUB_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|6,window.CLUB_NOTIFY_OWNER_CONFIRM_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|7,window.CLUB_REQ_OWNER_CONFIRM_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|9,window.CLUB_RESP_OWNER_CONFIRM_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|10,window.CLUB_REQ_OWNER_RM_MEMBER_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|11,window.CLUB_RESP_OWNER_RM_MEMBER_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|12,window.CLUB_REQ_OWNER_MODIFY_ROLE_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|13,window.CLUB_RESP_OWNER_MODIFY_ROLE_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|14,window.US_REQ_NEW_MSG_NUM_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|145,window.US_RESP_NEW_MSG_NUM_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|146,window.US_REQ_MSG_LIST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|147,window.US_RESP_MSG_LIST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|148,window.US_REQ_SET_MSG_READ_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|149,window.US_RESP_SET_MSG_READ_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|150,window.US_REQ_USER_DETAIL_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|155,window.US_RESP_USER_DETAIL_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|156,window.US_REQ_CREATE_COST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|157,window.US_RESP_CREATE_COST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|158,window.CLUB_REQ_DISMISS_CLUB_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|15,window.CLUB_RESP_DISMISS_CLUB_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|16,window.CLUB_REQ_CREATE_TABLE_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|17,window.CLUB_RESP_CREATE_TABLE_CMD_ID=ServerType.E_CLUB_SERVER_TYPE<<16|18,window.US_NOTIFY_PAY_OPERATE_CMD_ID=ServerType.E_CENTER_SERVER_TYPE<<16|12,window.US_REQ_EXCHANGE_GOLD_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|143,window.US_RESP_EXCHANGE_GOLD_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|144,window.US_NOTIFY_DISMISS_GAME_CMD_ID=ServerType.E_USER_SERVER_TYPE<<16|18,window.US_REQ_OWNER_CONFIRM_SWITCH_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|21,window.US_RESP_OWNER_CONFIRM_SWITCH_CMD_ID=ServerType.E_COMMON_GAME_TYPE<<16|22,window.US_NOTIFY_DISMISS_GAME_CMD_ID=ServerType.E_USER_SERVER_TYPE<<16|23,window.US_REQ_BANNER_LIST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|151,window.US_RESP_BANNER_LIST_CMD_ID=ServerType.E_DB_SERVER_TYPE<<16|152,window.US_REQ_BIND_REFERRAL_CMD_ID=ServerType.E_CENTER_SERVER_TYPE<<16|13,window.US_RESP_BIND_REFERRAL_CMD_ID=ServerType.E_CENTER_SERVER_TYPE<<16|14,cc._RFpop()},{}],CreateClubReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_CREATE_CLUB_CMD_ID,this.send=function(e){cc.log("CarryCoinReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,param:e},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"1e502MCn9VDPoAA10Kq+lSA","CreateClubReqPacket");var a=e("MessageReq");e("GameSystem");t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageReq:"MessageReq"}],CreateClubRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_CREATE_CLUB_CMD_ID,this.onMessage=function(e){cc.log("CreateClubRespPacket.onMesssage"),this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param,this.clubid=e.param.clubid,this.owneruid=e.param.owneruid,this.endtime=e.param.endtime)}}cc._RFpush(t,"80697Sni+RHgouITUDxT4ki","CreateClubRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],CreateRoomReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_CREATE_TABLE_CMD_ID,this.send=function(e,t){cc.log("CreateRoomReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,clubid:t.clubid,clublevel:t.clublevel,gameid:t.gameid,gamelevel:t.gamelevel,param:BASE64.encoder(JSON.stringify(e))},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"a2a0354PgNPLqf6ENbW45Mr","CreateRoomReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],CreateRoomRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_CREATE_TABLE_CMD_ID,this.privateid=0,this.gamesvcid=0,this.tableid=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.gameid=e.gameid,this.clubid=e.clubid,this.clublevel=e.clublevel,this.privateid=e.privateids,this.gamesvcid=e.gamesvcid,this.tableid=e.tableid)}}cc._RFpush(t,"8f748x1krVM66+F8dQOIUmA","CreateRoomRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],CreateTableCostReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_CREATE_COST_CMD_ID,this.send=function(e){cc.log("CreateTableCostReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"1da505Vlx5BzJ5Dkukfu2PY","CreateTableCostReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],CreateTableCostRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_CREATE_COST_CMD_ID,this.list=[],this.onMessage=function(e){cc.log("CreateTableCostRespPacket.onMessage"),this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.list=e.list)}}cc._RFpush(t,"c1a62dQYjBL3LhoAnESSeeF","CreateTableCostRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],CusWebView:[function(e,t,s){"use strict";cc._RFpush(t,"b4660wMOK5LALQPkUWiuyqc","CusWebView");var i=e("BasePop");cc.Class({"extends":i,properties:{WebView:cc.WebView},onLoad:function(){this._super(),this.LeftInTo(this.node)},calllbackBtn:function(e,t){var s=e.target.getName();"BtnClose"==s&&this.dismiss()},setWebViewUrl:function(e){this.WebView.url=e}}),cc._RFpop()},{BasePop:"BasePop"}],DismissClubReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_REQ_DISMISS_CLUB_CMD_ID,this.send=function(e){cc.log("DismissGameReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,clubid:e.clubid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"a40d8vf6d9OAoes1p6MxNCH","DismissClubReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],DismissClubRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_RESP_DISMISS_CLUB_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param,cc.log("DismissClubRespPacket param=",this.param))}}cc._RFpush(t,"7617bSTYVJHZKqXhs9wntxD","DismissClubRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],DismissGameReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_DISMISS_GAME_CMD_ID,this.send=function(e){cc.log("DismissGameReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"891adOTLJRJqo2ZsdIklhcV","DismissGameReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],DismissGameRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_DISMISS_GAME_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS}}cc._RFpush(t,"efcbfdlQlJMgIREAMjfQc3c","DismissGameRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],EnterRoomReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_ENTER_GAME_CMD_ID,this.send=function(e){cc.log("EnterRoomReqPacket.send,"+JSON.stringify(e)),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:n.getInstance().gamesvcid,tableid:n.getInstance().tableid
},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"1fd68M1xgJMo5TiX3DAh93S","EnterRoomReqPacket");var a=e("MessageReq"),n=(e("GamePlayer"),e("GameSystem"));t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],EnterRoomRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_ENTER_GAME_CMD_ID,this.tableid=0,this.name="",this.gametype=0,this.mixante=0,this.livetime=0,this.remaintime=0,this.bstart=0,this.seats=0,this.bullmul=[],this.bowner=0,this.supercost=0,this.giftcosts=[],this.seaters="",this.onMessage=function(e){if(this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,!(this.code<SocketRetCode.RET_SUCCESS)&&(this.param=e.param,""!=this.param&&void 0!=this.param)){cc.log("EnterRoomRespPacket"+BASE64.decoder(e.param));var t=JSON.parse(BASE64.decoder(e.param));this.tableid=t.tableid,this.name=t.name,this.gametype=t.gametype,this.mixante=t.mixante,this.livetime=t.livetime,this.remaintime=t.remaintime,this.bstart=t.bstart,this.seats=t.seats,this.bullmul=t.bullmul,this.bowner=t.bowner,this.seaters=t.seaters,this.ustatus=t.ustatus,this.tstatus=t.tstatus,this.supercost=t.supercost,this.giftcosts=t.giftcosts,this.mincarry=t.mincarry,this.maxcarry=t.maxcarry,this.totalcarry=t.totalcarry}}}cc._RFpush(t,"e3e58IgCJdJv7mLMjNKd0L/","EnterRoomRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ExchangeGoldReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_EXCHANGE_GOLD_CMD_ID,this.send=function(e){cc.log("ExchangeGoldReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,param:e},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"a8688NjKFhPv4wjlqe7j723","ExchangeGoldReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],ExchangeGoldRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_EXCHANGE_GOLD_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.type=e.param.type,this.gold=e.param.gold,this.diamond=e.param.diamond,this.tips=e.param.tips)}}cc._RFpush(t,"c045f17bmZDtr70TurFpTU2","ExchangeGoldRespPacket");var a=e("MessageResp");e("GameSystem");t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageResp:"MessageResp"}],FindReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_FOUND_TABLE_CMD_ID,this.send=function(e){cc.log("FindRoomReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,start:e.start,total:e.total},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"cbd465V4c5I36cGyR65YqKT","FindReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],FindRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_FOUND_TABLE_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.list=e.list)}}cc._RFpush(t,"6e195GEGGxGv5dVwovV04Ej","FindRespPacket");var a=e("MessageResp");e("GameSystem");t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageResp:"MessageResp"}],FindRoomReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_FIND_TABLE_CMD_ID,this.send=function(e){cc.log("FindRoomReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,privateid:e.privateid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"e73b6s2+PFJNo/jHMXJnDkp","FindRoomReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],FindRoomRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_FIND_TABLE_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.privateid=e.privateid,this.gamesvcid=e.gamesvcid,this.tableid=e.tableid,n.getInstance().privateid=this.privateid,n.getInstance().gamesvcid=this.gamesvcid,n.getInstance().tableid=this.tableid)}}cc._RFpush(t,"60314uN8bZC0rJACddRmQxE","FindRoomRespPacket");var a=e("MessageResp"),n=e("GameSystem");t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageResp:"MessageResp"}],FindView:[function(e,t,s){"use strict";cc._RFpush(t,"f1588kaTdNGf6lWRIW6AtQQ","FindView");var i=e("BasePop"),a=e("MessageFactory"),n=e("ToastView");e("GamblingHouseCell"),e("AdvertItem");cc.Class({"extends":i,properties:{TableCell:cc.Prefab,ScrollView:cc.ScrollView,initNode:cc.Node,ShareView:cc.Prefab,Page1:cc.Sprite,Page2:cc.Sprite,Page3:cc.Sprite,advertItem:cc.Prefab,pageView:cc.PageView,pageViewContent:cc.Node},onLoad:function(){cc.log("FindView.OnLoad2"),this._super(),this.onSendReqFoundTable(0,50),cc.log(window.US_REQ_BANNER_LIST_CMD_ID),a.createMessageReq(window.US_REQ_BANNER_LIST_CMD_ID).send()},onSendReqFoundTable:function(e,t){var s={start:e,total:t};a.createMessageReq(window.US_REQ_FOUND_TABLE_CMD_ID).send(s)},onSceneMsg:function(e){var t=e.data;if("GamblingHouseCell"==t.popView)if("enterRoom"==t.btn)this.dismiss();else if("winxinShared"==t.btn){cc.log("FindView.onSceneMsg but="+t.btn);var s=cc.instantiate(this.ShareView);cc.director.getScene().addChild(s);var i=cc.director.getWinSize();s.setPosition(cc.p(i.width/2,i.height/2))}},onMessage:function(e){cc.log("FindView.onMessage");var t=e.data,s=t.cmd;switch(s){case US_RESP_FOUND_TABLE_CMD_ID:this.onFoundTableMsg(t);break;case US_RESP_BANNER_LIST_CMD_ID:this.onShopListMsg(t)}},onShopListMsg:function(e){cc.log("onShopListMsg2"),e.code==SocketRetCode.RET_SUCCESS&&this.updateBannerList(e.bannerlist)},addAdvertItem:function(e,t){var s=cc.director.getWinSize(),i=cc.instantiate(this.advertItem);this.pageView.addPage(i);var s=cc.director.getWinSize();i.setPosition(cc.p(s.width/2+s.width*t,0)),i.getComponent("AdvertItem").updateAdverItem(e)},updateBannerList:function(e){this.pageView.removeAllPages();for(var t=0;t<e.length;t++)this.addAdvertItem(e[t],t)},getSpriteFrame2:function(e,t,s,i,a){var n=new XMLHttpRequest,o=this;n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<400){var e=n.responseText,t=BASE64.decoder(e),t=(new Uint8Array(e,0,e.length),new Image);t.src=BASE64.decoder(e);var s=new cc.Texture2D;s.initWithImage(t),s.handleLoadedTexture();var i=new cc.SpriteFrame(s);o.Page1.spriteFrame=i}},n.timeout=5e3,n.open("GET",e,!0),n.send()},onFoundTableMsg:function(e){if(0===e.list.length)return void n.show("暂未发现房间");null!=this.initNode&&void 0!=this.initNode&&(this.initNode.active=!1);for(var t=0,s=0;s<e.list.length;s++){var i=cc.instantiate(this.TableCell);this.ScrollView.content.addChild(i),t=i.getContentSize().height,i.setPosition(cc.p(0,-i.getContentSize().height/2-i.getContentSize().height*s)),i.getComponent("GamblingHouseCell").updateRoomInfo(e.list[s])}t*(e.list.length+1)>this.ScrollView.content.height&&(this.ScrollView.content.height=t*(e.list.length+1))},callbackScrollView:function(e,t,s){cc.log("FindView ,"+t+","+s),t===cc.ScrollView.EventType.SCROLL_TO_TOP||t===cc.ScrollView.EventType.SCROLL_TO_BOTTOM}}),cc._RFpop()},{AdvertItem:"AdvertItem",BasePop:"BasePop",GamblingHouseCell:"GamblingHouseCell",MessageFactory:"MessageFactory",ToastView:"ToastView"}],GVoiceJsb:[function(e,t,s){"use strict";function i(){}cc._RFpush(t,"2231d3ce61JoYOTkOwpexQo","GVoiceJsb");var a=(e("SocketManager"),e("MessageFactory")),n=e("GamePlayer");i.prototype.onStartRecord=function(e){cc.log("GloudVoice.prototype.onStartRecord,progress = "+e)},i.prototype.onStopRecording=function(e){cc.log("GloudVoice.prototype.onStopRecording,progress = "+e)},i.prototype.OnUploadFile=function(e,t,s){if(cc.log("GloudVoice.prototype.OnUploadFile,code = "+e),cc.log("GloudVoice.prototype.OnUploadFile,filePath = "+t),cc.log("GloudVoice.prototype.OnUploadFile,fileID = "+s),11==e){var i={filePath:t,fileID:s},o={touid:n.getInstance().uid,kind:ChatType.E_CHAT_VOICE_KIND,type:0,text:BASE64.encoder(JSON.stringify(i))};a.createMessageReq(US_REQ_GAME_CHAT_CMD_ID).send(o)}},i.prototype.OnDownloadFile=function(e,t,s){if(cc.log("GloudVoice.prototype.OnDownloadFile,code = "+e),cc.log("GloudVoice.prototype.OnDownloadFile,filePath = "+t),cc.log("GloudVoice.prototype.OnDownloadFile,fileID = "+s),13==e||11==e);else{var i={popView:"GloudVoice",btn:"OnPlayRecordedFile"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:i})}},i.prototype.OnPlayRecordedFile=function(e,t){if(cc.log("GloudVoice.prototype.OnPlayRecordedFile,code = "+e),cc.log("GloudVoice.prototype.OnPlayRecordedFile,filePath = "+t),18==e){var s={popView:"GloudVoice",btn:"OnPlayRecordedFile"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:s})}else{var s={popView:"GloudVoice",btn:"OnPlayRecordedFile"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:s})}};var o=function(){function e(){return void 0===t&&(t=new i),t}var t;return{getInstance:e}}();t.exports=o,cc._RFpop()},{GamePlayer:"GamePlayer",MessageFactory:"MessageFactory",SocketManager:"SocketManager"}],GamblingHouseCell:[function(e,t,s){"use strict";cc._RFpush(t,"c0807iHBp1GWqeHpsjljBcb","GamblingHouseCell");var i=e("UtilTool"),a=e("ToastView"),n=e("AlertView"),o=e("LoadingView"),c=e("MessageFactory"),r=e("MusicMgr"),l=e("Audio_Common");e("GameSystem");cc.Class({"extends":cc.Component,properties:{Head:cc.Sprite,RoomName:cc.Label,PrivateCode:cc.Label,CreatorName:cc.Label,MinBet:cc.Label,timeLabel:cc.Label,bankerMode:cc.Label,ClubFlag:cc.Sprite},onLoad:function(){this.initBaseData()},initBaseData:function(){this.roomInfo=null,this.time=0},updateTime:function(){this.time--,this.timeLabel.string=i.getTime(this.time),this.time<0&&(this.timeLabel.string="已结束",this.unschedule(this.updateTime))},strLength:function(e){for(var t=e.length,s=0,i=0;i<t;i++)0!=(65280&e.charCodeAt(i))&&s++,s++;return s},subName:function(e){var t=this.strLength(e);return t>8&&(e=e.substr(0,8),e+=".."),e},updateRoomInfo:function(e){this.roomInfo=e,cc.log("GamblingHouseCell.updateRoomInfo,cellMsg = "+e),this.RoomName.string=this.subName(e.tablename),cc.log("GamblingHouseCell.updateRoomInfo name=",this.subName(e.tablename)),this.CreatorName.string=e.ownername,this.PrivateCode.string=e.privateid,this.MinBet.string=e.minante,this.time=e.remaintime,this.timeLabel.string=i.getTime(e.remaintime),e.starttime>0&&this.schedule(this.updateTime,1),this.MinBet.string=e.minante,this.time=e.remaintime,this.timeLabel.string=i.getTime(e.remaintime),UpdateWXHeadIcon(e.headurl,this.Head),1==e.gametype?this.bankerMode.string="闭牌抢庄":this.bankerMode.string="三张抢庄",Number(e.clubid)>0?this.ClubFlag.node.active=!0:this.ClubFlag.node.active=!1},callBackBtn:function(e,t){cc.log("GamblingHouseCell.callbackBtn,CustomEventData = "+t);var s=e.target.getName();if(cc.log("GamblingHouseCell.callbackBtn,btnName = "+s),r.playEffect(l.AUDIO_BTN_CLICK),"GamblingHouseCell"==s)if(this.time<0)a.show("游戏已结束");else{var i=this,o=n.create();o.setPositiveButton(function(){i.enterRoom()}),o.showOne("是否进入游戏？",AlertViewBtnType.E_BTN_CLOSE)}},callBackGameMode:function(e,t){if(cc.log("GamblingHouseCell.callBackGameMode, btnName = "+e.target.getName()),cc.log("GamblingHouseCell.callBackGameMode, CustomEventData = "+t),1==Number(t)){var s={popView:"GamblingHouseCell",btn:"winxinShared"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:s})}},enterRoom:function(){var e={popView:"GamblingHouseCell",btn:"enterRoom"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:e}),o.show("正在进入...");var t=c.createMessageReq(window.US_REQ_FIND_TABLE_CMD_ID),s={privateid:this.roomInfo.privateid};t&&t.send(s)}}),cc._RFpop()},{AlertView:"AlertView",Audio_Common:"Audio_Common",GameSystem:"GameSystem",LoadingView:"LoadingView",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ToastView:"ToastView",UtilTool:"UtilTool"}],GameCallOC:[function(e,t,s){"use strict";function i(){}cc._RFpush(t,"75e62XRNkJA7Ia+JmzlQS+Y","GameCallOC");var a=e("MessageFactory"),n=(e("GameSystem"),e("LoadingView"));i.prototype.checkIsAble=function(){var e=cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD||cc.sys.platform==cc.sys.MOBILE_BROWSER||cc.sys.platform==cc.sys.DESKTOP_BROWSER;return e},i.prototype.checkAndroid=function(){return cc.sys.platform==cc.sys.ANDROID},i.prototype.getDeviceName=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","getDeviceName");return cc.log("getDeviceName:%s",e),e}return this.checkAndroid(),"web"},i.prototype.getAppVersionCode=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","getAppVersionCode");return cc.log("getAppVersionCode:%s",e),Number(e)}return this.checkAndroid()?1010:1012},i.prototype.getAppVersion=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","getAppVersion");return cc.log("getAppVersion:%s",e),e}return this.checkAndroid()?"1.0.10":"1.0.12"},i.prototype.getOSVersion=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","getOSVersion");return cc.log("getOSVersion:%s",e),e}return this.checkAndroid(),"web1.0"},i.prototype.getAdapterType=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","getAdapterType");return cc.log("getAdapterType:%d",e),e}return 5},i.prototype.getIOSVendor=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","getIOSVendor");return cc.log("getIOSVendor:%s",e),e}return window.TestAccount},i.prototype.getIOSAdvertising=function(){if(!cc.sys.isNative||cc.sys.platform!=cc.sys.IPHONE&&cc.sys.platform!=cc.sys.IPAD)return window.TestAccount;var e=jsb.reflection.callStaticMethod("LocalInfo","getIOSAdvertising");return cc.log("getIOSAdvertising:%s",e),e},i.prototype.getIOSMacAddress=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","getIOSMacAddress");return cc.log("getIOSMacAddress:%s",e),e}return window.TestAccount},i.prototype.getIOSOpenUdid=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","getIOSOpenUdid");return cc.log("getIOSOpenUdid:%s",e),e}return window.TestAccount},i.prototype.getUUID=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","getUUID");return cc.log("getUUID:%s",e),e}return this.checkAndroid()?"11111111":window.TestAccount},i.prototype.getAppName=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","getAppName");return cc.log("getAppName:%s",e),e}if(!this.checkAndroid())return"牛友圈"},i.prototype.postPaySucess=function(){cc.log("JSCallOC send update money");var e=a.createCommonMessage(window.UPDATE_PLAYER_MONEY);e&&e.send(1)},i.prototype.sendPayBySingleAlipay=function(e,t){cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","sendPayBySingleAlipay:apilyId:",e,t)},i.prototype.sendPayByWebView=function(e,t,s){cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","sendPayByWebView:payData:showWeb:",e,t,s)},i.prototype.sendIosPay=function(e,t,s,i,a,n,o,c,r){cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","payIosProduct:creatOrderUrl:mid:productid:mtkey:versions:gid:sid:money:",e,t,s,i,a,n,o,c,r)},i.prototype.openURLInGame=function(e){cc.log("JSCallOC.prototype.openURLInGame,urlStr = "+e),cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","openURLInGame:",e)},i.prototype.currentPowerPercent=function(e){cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","currentPowerPercent")},i.prototype.Poll=function(){cc.sys.platform==cc.sys.ANDROID?SocialUtils.Poll():cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","Poll")},i.prototype.SetAppInfo=function(e){cc.log("JSCallOC.prototype.SetAppInfo,msTime = %s",e),cc.sys.platform==cc.sys.ANDROID?SocialUtils.SetAppInfo(e):cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","SetAppInfo:",e)},i.prototype.StartRecord=function(e){cc.log("JSCallOC.prototype.StartRecord,msTime = %d",e),cc.sys.platform==cc.sys.ANDROID?SocialUtils.StartRecord(e):cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","StartRecord:",e)},i.prototype.StopRecording=function(){cc.sys.platform==cc.sys.ANDROID?SocialUtils.StopRecording():cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","StopRecording")},i.prototype.DownloadRecordedFile=function(e,t){cc.sys.platform==cc.sys.ANDROID?SocialUtils.DownloadRecordedFile(e,t):cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","DownloadRecordedFile:downloadFilePath:",e,t)},i.prototype.PlayRecordedFile=function(e){cc.sys.platform==cc.sys.ANDROID?SocialUtils.PlayRecordedFile(e):cc.sys.isNative&&this.checkIsAble()&&jsb.reflection.callStaticMethod("LocalInfo","PlayRecordedFile:",e)},i.prototype.screenShotAction=function(){if(cc.sys.isNative&&this.checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","screenShotAction");return cc.log("screenShotAction:%s",e),e}},i.prototype.payAppstore=function(e,t){if(cc.sys.isNative&&this.checkIsAble()){var s=jsb.reflection.callStaticMethod("paymentMCPP","jumpToAppstorePay:openid:",e,t);return cc.log("screenShotAction:%s",s),s}},i.prototype.exitApp=function(){cc.director.end(),cc.sys.isNative&&this.checkIsAble()?jsb.reflection.callStaticMethod("LocalInfo","exitApp"):this.checkAndroid()},i.prototype.showLoadingView=function(e){n.show(e)},i.prototype.dismissLoadingView=function(){n.dismiss()};var o=function(){function e(){return void 0===t&&(t=new i),t}var t;return{getInstance:e}}();t.exports=o,cc._RFpop()},{GameSystem:"GameSystem",LoadingView:"LoadingView",MessageFactory:"MessageFactory"}],GameConfig:[function(e,t,s){"use strict";cc._RFpush(t,"b18467aV/JG+oT2twpS7MoA","GameConfig");var i={gateSocketIp:"192.168.1.1",gateSocketPort:3101,useSSL:!1,textUpdate:!0};window.game=window.game||{},game.config=t.exports=i,e("HttpRequest"),cc._RFpop()},{HttpRequest:"HttpRequest"}],GamePlayer:[function(e,t,s){"use strict";function i(){a.apply([],this),this.clubid=0,this.unionid="",this.openid="",this.superCost=0,this.giftCost=[],this.SelfClubId=0,this.CurClubInfo=null,this.CurClubMemList=null,this.Copy=function(e){this.uid=e.uid,this.name=e.name,this.headurl=e.headurl,this.sex=e.sex,this.gold=e.gold,this.diamond=e.diamond,this.coin=e.coin,this.seatid=e.seatid,this.status=e.status,this.winGold=e.winGold,this.TotalCarry=e.TotalCarry,this.TotalRound=e.TotalRound,this.TotalTable=e.TotalTable,this.calltype=e.calltype,this.bBanker=e.bBanker,this.betcoinmul=e.betcoinmul,this.bulltype=e.bulltype,this.cards=e.cards,this.finalcoin=e.finalcoin,this.bOpenCard=e.bOpenCard}}cc._RFpush(t,"d0945yz5JpANZwyr60Y5B9u","GamePlayer");var a=e("Player"),n=function(){function e(){return void 0===t&&(t=new i),t}var t;return{getInstance:e}}();t.exports=n,cc._RFpop()},{Player:"Player"}],GameSystem:[function(e,t,s){"use strict";function i(){this.bClientHotUpdate=!1,this.defaultKey="xa`129-w2310u!@#$^&*(!hzsx&*32#@",this.bLogin=!0,this.bFirstInHall=!0,this.webSocketUrl="",this.backWebSocketUrl="",this.userkey="",this.aesKey=new Uint8Array,this.iv=[100,22,245,214,157,96,77,82,1,37,121,90,47,65,54,63],this.productid=1,this.version=1012,this.VolumeState=0,this.referralCode=0,this.ledlist=null,this.VerStatusType=cc.Enum({VERSION_TYPE_TEST:1,VERSION_TYPE_AUDIT:2,VERSION_TYPE_OPERATION:3}),this.VerStatus=this.VerStatusType.VERSION_TYPE_TEST,this.clienturl="",this.fileurl="",this.weixincs="",this.payurl="",this.notice={title:"",doc:"",writer:"",popup:0,ismaintain:0,time:0},this.routerUrl="http://niuyouquan.bigbeargame.com:19191/",this.logintype=0,this.CustomLoginType=0,this.bReloadInGame=!1,this.gamesvcid=0,this.tableid=0,this.privateid=0,this.EnterRoom=!0,this.GameType=cc.Enum({GAME_TYPE_HALL:0,GAME_TYPE_BULLFIGHT:1}),this.CurGameType=this.GameType.GAME_TYPE_HALL,this.BullFightTableCost=[],this.superCost=0,this.giftCost=[],this.ClubUpgradeCost=[],this.NewMsgNum=!1}cc._RFpush(t,"df5b7N1suVOB59ky+su8hYo","GameSystem"),i.prototype.calcGoldCost=function(e,t){var s,i=1,a=1,n=0;cc.log("calcGoldCost liveTime=",e," minAnte=",t);for(var o=0;o<this.BullFightTableCost.length&&(s=this.BullFightTableCost[o],1==s.type&&s.value==e?(i=s.gold,n++,cc.log("calcGoldCost timeCost=",i)):2==s.type&&s.value==t&&(a=s.gold,n++,cc.log("calcGoldCost anteCost=",a)),2!=n);o++);return cc.log("calcGoldCost totalCost=",i+a),i+a},i.prototype.calcDiamondCost=function(e,t){for(var s,i=0;i<this.BullFightTableCost.length;i++)if(s=this.BullFightTableCost[i],s.time==e&&s.level==t)return cc.log("calcDiamondCost liveTime=",e," clubLevel=",t," diamond=",s.diamond),s.diamond;return cc.log("calcDiamondCost liveTime=",e," clubLevel=",t," diamond=0"),0},i.prototype.getCurrentSystemTime=function(){return(new Date).getTime()};var a=function(){function e(){return void 0===t&&(t=new i),t}var t;return{getInstance:e}}();t.exports=a,cc._RFpop()},{}],GetClubListReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_CLUB_LIST_CMD_ID,this.send=function(e){cc.log("GetClubListReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"8248fS+xiNO1Zu6fb/FM3m7","GetClubListReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],GetClubListRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_CLUB_LIST_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.list=e.list)}}cc._RFpush(t,"d847440MahEdpJl66FE25bp","GetClubListRespPacket");var a=e("MessageResp");e("GameSystem");t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageResp:"MessageResp"}],GetClubTableReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_CLUB_TABLE_CMD_ID,this.send=function(e){cc.log("GetClubTableReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,clubid:e.clubid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"491a9CHOXZEtZyS2Lbp9Vrl","GetClubTableReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],GetClubTableRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_CLUB_TABLE_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param,this.clubid=this.param.clubid,this.list=this.param.list)}}cc._RFpush(t,"6eacbtpWUBLcrayHGgFuxJo","GetClubTableRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],GetMemberListReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_REQ_GET_MEMBER_LIST_CMD_ID,this.send=function(e){cc.log("GetMemberListReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,clubid:e.clubid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"1ce9a5c75RGlIxg/QwNXwEk","GetMemberListReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],GetMemberListRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_RESP_GET_MEMBER_LIST_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.clubid=e.param.clubid,this.list=e.param.list)}}cc._RFpush(t,"676efmGfS5LiIqFFgF+56lb","GetMemberListRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],GetMsgListReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_MSG_LIST_CMD_ID,this.send=function(e){cc.log("GetMsgNumReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,param:e},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"c9e00f1vrBFbZXDEaeXvXha","GetMsgListReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],GetMsgListRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_MSG_LIST_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.type=e.param.type,this.list=e.param.list)}}cc._RFpush(t,"29174A7Q/VB4oKJ4i+YuMJm","GetMsgListRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],GetMsgNumReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_NEW_MSG_NUM_CMD_ID,this.send=function(e){cc.log("GetMsgNumReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"a7bb5YDWPNNPK9OQuGhBG4U","GetMsgNumReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],GetMsgNumRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_NEW_MSG_NUM_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.sysnum=e.param.sysnum,this.clubnum=e.param.clubnum,this.mailnum=e.param.mailnum)}}cc._RFpush(t,"83fa3uwflJBd54DDVeKRy/3","GetMsgNumRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],GlobalEventManager:[function(e,t,s){"use strict";function i(e,t,s){this.eventType=e,this.callBack=t,this.node=s}function a(){this.listenerMap=new Map,this.eventID=0,this.addEventListener=function(e,t,s){var a=new i(e,t,s);return this.listenerMap.forEach(function(t){if(t.eventType==e&&s==t.node)return void cc.log("GlobalEventManage same addEventListener=",e)}),this.eventID++,this.listenerMap.set(this.eventID,a),cc.log("GlobalEventManage addEventListener=",e," eventid=",this.eventID),this.eventID},this.removeListener=function(e){cc.log("GlobalEventManager.removeListener eventid=",e),this.listenerMap.containsKey(e)&&this.listenerMap["delete"](e)},this.emitEvent=function(e,t){this.listenerMap.forEachKey(function(s,i){if(i.eventType==e)return void i.callBack(t)})}}cc._RFpush(t,"6cae2lyteVOg6F0fGwqwrX/","GlobalEventManager");var n=function(){function e(){return void 0===t&&(t=new a),t}var t;return{getInstance:e}}();window.GlobalEventManager=n,cc._RFpop()},{}],HallScene:[function(e,t,s){"use strict";cc._RFpush(t,"dde5dz2rFRKTKw4uMTvRGhZ","HallScene");var i=e("BaseScene"),a=e("MusicMgr"),n=(e("HttpManager"),e("Platform"),e("MessageFactory")),o=e("GameSystem"),c=e("SocketManager"),r=e("ToastView"),l=e("LoadingView"),d=e("Audio_Common"),u=e("GamePlayer"),h=e("GameCallOC");e("AlertView");cc.Class({"extends":i,properties:{topBg:{"default":null,type:cc.Sprite},bottomBg:{"default":null,type:cc.Sprite},HallBg:{"default":null,type:cc.Sprite},Bullfight_CreateRoom:cc.Prefab,RoomIdEditBox:cc.EditBox,PopNode:cc.Node,ShopView:cc.Prefab,FindView:cc.Prefab,SuccessView:cc.Prefab,MineView:cc.Prefab,ClubView:cc.Prefab,NoticeView:cc.Prefab,ShopToggle:cc.Toggle,ShareView:cc.Prefab,WebView:cc.Prefab,RedTips:cc.Sprite,HallTitle:cc.Label},onLoad:function(){this._super(),cc.log("HallScene.onLoad"),o.getInstance().bLogin=!0,o.getInstance().CurGameType=o.getInstance().GameType.GAME_TYPE_HALL,this.popUpNotice(),o.getInstance().bFirstInHall||this.getUserDetail(),o.getInstance().bFirstInHall=!1,this.sendCreateTableCost(),this.sendClubUpgradeCost(),this.sendMsgNum(),o.getInstance().bReloadInGame&&(o.getInstance().bReloadInGame=!1,cc.log("loadScene Bullfight_GameScene"),cc.director.loadScene("Bullfight_GameScene"))},start:function(){this.pushRollMsg(),null!=o.getInstance().ledlist&&void 0!=o.getInstance().ledlist&&o.getInstance().ledlist.length>0&&this.schedule(this.pushRollMsg,10*o.getInstance().ledlist.length+10)},stopRollMsg:function(){null!=o.getInstance().ledlist&&void 0!=o.getInstance().ledlist&&o.getInstance().ledlist.length>0&&this.unschedule(this.pushRollMsg)},pushRollMsg:function(){if(null!=o.getInstance().ledlist&&void 0!=o.getInstance().ledlist)for(var e=0;e<o.getInstance().ledlist.length;e++){var t={popView:"HallScene",btn:"RollMsg",data:o.getInstance().ledlist[e]};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:t})}},onDestroy:function(){this._super()},callBackBtnShare:function(){var e=h.getInstance().screenShotAction(),t=cc.instantiate(this.ShareView);cc.director.getScene().addChild(t);var s=cc.director.getWinSize();t.setPosition(cc.p(s.width/2,s.height/2)),t.getComponent("ShareView").setShareTyep(ShareType.E_SHARETYPE_IMAGE,e,o.getInstance().clienturl)},onSceneMsg:function(e){var t=e.data;if("SettingView"==t.popView)"BtnExitLogin"==t.btn&&(c.getInstance().disconnect(),cc.director.loadScene("LoadingScene"));else if("ProduceCell"==t.popView){if("callBtnBuy"==t.btn){var s=cc.instantiate(this.WebView);this.node.addChild(s);var i=cc.director.getWinSize();s.setPosition(cc.p(-i.width,0)),s.getComponent("CusWebView").setWebViewUrl(t.url)}}else if("FindView"==t.popView){if("CallBackBtn"==t.btn){var s=cc.instantiate(this.WebView);this.node.addChild(s);var i=cc.director.getWinSize();s.setPosition(cc.p(-i.width,0)),s.getComponent("CusWebView").setWebViewUrl(t.url)}}else"RoomInfoView"==t.popView&&"BtnShare"==t.btn&&this.callBackBtnShare()},onMessage:function(e){cc.log("HallScene.onMessage"),this._super(e);var t=e.data,s=t.cmd;switch(s){case window.US_RESP_LOGIN_CMD_ID:this.onLoginMsg(t);break;case window.US_RESP_CREATE_TABLE_CMD_ID:case window.CLUB_RESP_CREATE_TABLE_CMD_ID:this.onCreateRoomMsg(t);break;case window.US_RESP_ENTER_GAME_CMD_ID:this.onEnterRoom(t);break;case US_RESP_NEW_MSG_NUM_CMD_ID:this.showMsgTips()}t.code<SocketRetCode.RET_SUCCESS&&l.dismiss()},showMsgTips:function(e){this.RedTips.node.active=o.getInstance().NewMsgNum},sendCreateTableCost:function(){var e=n.createMessageReq(window.US_REQ_CREATE_COST_CMD_ID);e?(cc.log("HallScene.sendCreateTableCost"),e.send()):cc.log("HallScene.sendCreateTableCost not found US_REQ_CREATE_COST_CMD_ID")},sendClubUpgradeCost:function(){var e=n.createMessageReq(window.US_REQ_CLUB_UPGRADE_COST_CMD_ID);e?(cc.log("HallScene.sendClubUpgradeCost"),e.send()):cc.warn("HallScene.sendClubUpgradeCost not found US_REQ_CLUB_UPGRADE_COST_CMD_ID")},sendMsgNum:function(){n.createMessageReq(US_REQ_NEW_MSG_NUM_CMD_ID).send()},onUserDetail:function(e){cc.log("HallScene.onUserDetail"),u.getInstance().gold=e.gold,u.getInstance().diamond=e.diamond},onLoginMsg:function(e){cc.log("HallScene.onLoginMsg"),e.code==SocketRetCode.RET_SUCCESS},onCreateRoomMsg:function(e){if(cc.log("HallScene.onCreateRoomMsg"),e.code==SocketRetCode.RET_SUCCESS){if(e.privateid.length>1)return;o.getInstance().privateid=e.privateid[0],o.getInstance().gamesvcid=e.gamesvcid,o.getInstance().tableid=e.tableid,cc.log("onCreateRoomMsg"),l.show("正在进入...");var t=n.createMessageReq(window.US_REQ_FIND_TABLE_CMD_ID),s={
privateid:o.getInstance().privateid};return void(t&&t.send(s))}},onEnterRoom:function(e){cc.log("HallScene.onEnterRoom,tableid = "+e.name),e.code==SocketRetCode.RET_SUCCESS},popUpNotice:function(){if(""!=o.getInstance().notice.doc){var e=cc.instantiate(this.NoticeView);this.node.addChild(e),e.setPosition(cc.p(0,0)),e.getComponent("NoticeView").setContent()}else cc.log("HallScene.popUpNotice,undefined")},callbackBtn:function(e,t){cc.log("HallScene.callbackBtn,CustomEventData = "+t);var s=e.target.getName();cc.log("HallScene.callbackBtn,btnName = "+s),a.playEffect(d.AUDIO_BTN_CLICK),"BtnCreateRoom"==s?this.doBtnCreateRoom():"BtnEnterRoom"==s?this.doBtnEnterRoom():"Club"==s&&this.doBtnClub()},doBtnShop:function(){cc.log("HallScene.doBtnShop"),this.destroyChildNode(),this.HallTitle.string="游戏商城",this.PopNode.removeAllChildren(!0);var e=cc.instantiate(this.ShopView);this.PopNode.addChild(e),e.setPosition(cc.p(0,0)),a.playEffect(d.AUDIO_BTN_CLICK)},doBtnActivity:function(){cc.log("HallScene.doBtnActivity")},destroyChildNode:function(){for(var e=this.PopNode.children,t=0;t<e.length;++t)e[t].destroy();this.stopRollMsg()},doBtnFind:function(){cc.log("HallScene.doBtnFind"),this.destroyChildNode(),this.HallTitle.string="发现",this.PopNode.removeAllChildren(!0);var e=cc.instantiate(this.FindView);this.PopNode.addChild(e),e.setPosition(cc.p(0,0)),a.playEffect(d.AUDIO_BTN_CLICK)},doBtnSuccess:function(){cc.log("HallScene.doBtnSuccess"),this.destroyChildNode(),this.HallTitle.string="战绩",this.PopNode.removeAllChildren(!0);var e=cc.instantiate(this.SuccessView);this.PopNode.addChild(e),e.setPosition(cc.p(0,0)),a.playEffect(d.AUDIO_BTN_CLICK)},doBtnMine:function(){cc.log("HallScene.doBtnMine"),this.destroyChildNode(),this.HallTitle.string="我",this.PopNode.removeAllChildren(!0);var e=cc.instantiate(this.MineView);this.PopNode.addChild(e),e.setPosition(cc.p(0,0)),a.playEffect(d.AUDIO_BTN_CLICK)},doBtnMore:function(){cc.log("HallScene.doBtnMore")},doBtnMain:function(){cc.log("HallScene.doBtnMain"),this.destroyChildNode(),this.PopNode.removeAllChildren(!0),this.start(),this.HallTitle.string="大熊牛友圈",a.playEffect(d.AUDIO_BTN_CLICK)},doBtnHead:function(){cc.log("HallScene.doBtnHead")},doBtnEnterRoom:function(){if(""==this.RoomIdEditBox.string)return void r.show("房间号不能为空！");var e=Number(this.RoomIdEditBox.string);cc.log("HallScene.doBtnEnterRoom,roomId = "+e),l.show("正在进入...");var t=n.createMessageReq(window.US_REQ_FIND_TABLE_CMD_ID),s={privateid:e};t&&t.send(s)},doBtnCreateRoom:function(){cc.log("HallScene.doBtnCreateRoom");var e=cc.instantiate(this.Bullfight_CreateRoom);this.node.addChild(e),e.getComponent("Bullfight_CreateRoom").setClubId(0,0),e.setPosition(cc.p(0,0))},doBtnClub:function(){cc.log("HallScene.doBtnClub"),this.PopNode.removeAllChildren(!0);var e=cc.instantiate(this.ClubView);this.node.addChild(e),e.setPosition(cc.p(0,0))}}),cc._RFpop()},{AlertView:"AlertView",Audio_Common:"Audio_Common",BaseScene:"BaseScene",GameCallOC:"GameCallOC",GamePlayer:"GamePlayer",GameSystem:"GameSystem",HttpManager:"HttpManager",LoadingView:"LoadingView",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",Platform:"Platform",SocketManager:"SocketManager",ToastView:"ToastView"}],HeartReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_HEARTBEAT_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"bb090Rui4lPa6FyL8JrRYud","HeartReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],HeartRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_HEARTBEAT_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS}}cc._RFpush(t,"4386ez0UShIYJA59rj0xycE","HeartRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],HotUpdateManager:[function(e,t,s){"use strict";cc._RFpush(t,"9412au1AQVAQLXdOR2a5vEv","HotUpdateManager");var i=e("AssetsManager");cc.Class({ctor:function(){this._updates={},this._queue=[],this._isUpdating=!1,this._current=null,this._noComplete={}},getModules:function(e){return cc.sys.isNative?void game.asset.check(function(t,s){this.modules=t,this.versions=s,e&&e()}.bind(this)):void(e&&e())},load:function(){if(cc.sys.isNative){var e=cc.sys.localStorage.getItem("update_no_complete");if(e){for(var t=JSON.parse(e),s=0;s<t.length;s++)this._noComplete[t[s]]=t[s];cc.sys.localStorage.removeItem("update_no_complete")}}},getProgress:function(e){var t=this._updates[e];return t.getProgress()},init:function(e,t,s,a,n){game.AssetConfig.concurrent=2;var o=new i;o.name=e,o.on(game.AssetEvent.NEW_VERSION,n),o.on(game.AssetEvent.PROGRESS,a),o.on(game.AssetEvent.FAILD,this._onFailed.bind(this)),o.on(game.AssetEvent.NEW_VERSION_FOUND,this._onCheckComplete.bind(this)),o.on(game.AssetEvent.SUCCESS,this._onUpdateComplete.bind(this)),o.on(game.AssetEvent.REMOTE_VERSION_MANIFEST_LOAD_FAILD,this._onNetError.bind(this)),o.on(game.AssetEvent.REMOTE_PROJECT_MANIFEST_LOAD_FAILD,this._onNetError.bind(this)),o.on(game.AssetEvent.NO_NETWORK,this._onNetError.bind(this)),o.onCheckComplete=t,o.onComplete=s,this._updates[e]=o},isNoComplete:function(e){return null!=this._noComplete[e]},check:function(e){var t=this._updates[e];t.check(e)},recovery:function(e){this._current&&0==this._isUpdating&&(this._isUpdating=!0,this._current.recovery())},_onFailed:function(e){this._isUpdating=!1,e.target.check(e.target.name)},_onNetError:function(e){this._isUpdating=!1},_onCheckComplete:function(e){this._queue.push(e.target),this._saveNoCompleteModule(),e.target.onCheckComplete&&e.target.onCheckComplete(),0==this._isUpdating&&(this._isUpdating=!0,this._current=e.target,this._current.update())},_onUpdateComplete:function(e){e.target.onComplete&&e.target.onComplete(),this._queue.shift(),this._isUpdating=!1,this._saveNoCompleteModule(),this._queue.length>0&&(this._isUpdating=!0,this._current=this._queue[0],this._current.update())},_saveNoCompleteModule:function(){for(var e=[],t=0;t<this._queue.length;t++)e.push(this._queue[t].name);cc.sys.localStorage.setItem("update_no_complete",JSON.stringify(e))}});cc._RFpop()},{AssetsManager:"AssetsManager"}],HttpConfig:[function(e,t,s){"use strict";cc._RFpush(t,"56ce19ep3hMPLbgdA6/FCdr","HttpConfig"),window.HttpCode=cc.Enum({HTTP_SUCCESS:0,HTTP_JSON_ERROR:1,HTTP_MYSQL_ERROR:2}),window.HttpMessage="HttpMessage",window.HttpMessageType=cc.Enum({HTTP_NOTIFICATION:"http_notification",NOTIFY_HTTP_RSP:"notify_http_rsp",NOTIFY_HTTP_RSP_ERROR:"notify_http_rsp_error",NOTIFY_HTTP_RSP_IMG:"notify_http_rsp_img",IMAGE_LOADER:"image_loader"}),window.HttpTag={HTTP_TAG_GET_ROUTER:"GetRouter",HTTP_TAG_LOGIN:"login",HTTP_TAG_GAMECONFIG:"gameconfig"},window.LocalMessage="LocalMessage",window.LocalMsgType={GetRoomConfig:"getroomconfig",GetAllRoomConfig:"allRoomConfig",GetLoginInfo:"getloginInfo",EnterGame:"enterGame",EnterRoom:"enterRoom",SENDMSG_TIMEOUT:"sendmsg_timeout",SENDMSG_CLOSESERVER:"sendmsg_closeserver",UPDATE_USERINFO:"update_userInfo",UPDATE_OnlineNum:"UPDATE_OnlineNum",UPDATEHISTORY:"updatehistory",UPDATEBANKERLIST:"updatebankerlist",GetPassWord:"getPassWord",GetGameSwitchNotice:"GetGameSwitchNotice",GetGameDomainNotice:"GetGameDomainNotice",UPDATE_MONEY:"UpdateMoney",UPDATE_OK_MESSAGE:"UPDATE_OK_MESSAGE",UPDATE_CANCEL_MESSAGE:"UPDATE_CANCEL_MESSAGE",UPDATE_MESSAGE:"UPDATE_MESSAGE",UPDATE_END_MESSAGE:"UPDATE_END_MESSAGE",UPDATE_NOT_MESSAGE:"UPDATE_NOT_MESSAGE",UPDATE_NEED_MESSAGE:"UPDATE_NEED_MESSAGE"};var i=function(){function e(){return void 0===s&&(s=new t),s}function t(){return{}}var s;return{getInstance:e}}();t.exports=i,cc._RFpop()},{}],HttpManager:[function(e,t,s){"use strict";function i(){this.isSucceed=!1,this.tag="",this.data=null,this.code=-1,this.error="",this.flag=-1}function a(e,t,s,a,n){cc.log("HttpManager.HttpRequest,url = "+s),this.tag=e,this.url=s,this.callBack=n;this.sendRequest=function(){var s=this,n=new XMLHttpRequest,o=this.url;n.onreadystatechange=function(){if(4===n.readyState)if(n.status>=200&&n.status<400){var e=n.responseText;s.callBack?s.callBack(this,e):s.success_jsonpCallback(JSON.parse(e))}else{var e=n.responseText;cc.log("HttpManager.sendRequest,xhr.status = %d,response = %s",n.status,e);var t=new i;t.data=null,t.isSucceed=!1,GlobalEventManager.getInstance().emitEvent(window.HttpMessage,{tag:window.HttpMessageType.HTTP_NOTIFICATION,msg:t})}cc.log("HttpManager.sendRequest,xhr.readyState = %d",n.readyState)},n.open(a,o+e,!0),n.setRequestHeader("CONTENT-TYPE","application/x-www-form-urlencoded");var c=n.send(t);cc.log("HttpManager.sendRequest,result = "+c)},this.fail_jsonpCallback=function(){},this.success_jsonpCallback=function(t){var s=new i;s.tag=e,s.code=t.code,t.code==window.HttpCode.HTTP_SUCCESS?(s.data=t,s.isSucceed=!0,cc.log("http 请求成功 : %s = %s",e,JSON.stringify(t))):(s.data=t,s.isSucceed=!1,cc.warn("http 请求返回异常 非success flag : %s = %s",e,JSON.stringify(t))),GlobalEventManager.getInstance().emitEvent(window.HttpMessage,{tag:window.HttpMessageType.HTTP_NOTIFICATION,msg:s})}}function n(e){this.callBack=e}cc._RFpush(t,"cadeeDWV2hHb4wZqIKLiPrt","HttpManager");var o=e("GameSystem");n.prototype.sendCommonRequest=function(e,t,s){void 0===s&&(s=o.getInstance().weburl+"/");var i=JSON.stringify(t);new a(e,i,s,"post").sendRequest(),cc.log("发送http请求 = %s  : %s : %s",e,JSON.stringify(t),i)},n.prototype.sendCommonRequestGet=function(e,t,s){void 0===s&&(s=o.getInstance().weburl+"/");var i=JSON.stringify(t);new a(e,i,s,"get").sendRequest(),cc.log("发送http请求 = %s  : %s : %s",e,JSON.stringify(t),i)},n.prototype.base64EncodeData=function(e){var t=BASE64.encoder(e),s=hex_md5(t),i=BASE64.encoder(t+s);return i},n.prototype.base64DecodeData=function(e){var t=BASE64.decoder(e);if(t.length>32){t=t.substr(0,t.length-32);var s=BASE64.decoder(t);return s}return""},n.prototype.sendUploadImg=function(e,t,s){(t=void 0)&&(t="http://manage.aqddp.cn/Home/Picupload/upload"),new a(e,s,t,"post").sendRequest(),cc.log("发送http请求 = %s  : %s ",e,s)};var c=function(){function e(){return void 0===t&&(t=new n),t}var t;return{getInstance:e}}();t.exports=c,cc._RFpop()},{GameSystem:"GameSystem"}],HttpPacket:[function(e,t,s){"use strict";cc._RFpush(t,"e9499W5MNJFDL7ZFeGQbLbs","HttpPacket");var i={encryptData:function(e){e.sig="5da567e4566c9362f83f2730f75asdasddsae13a9"},buildGetGameSwitch:function(e,t){var s={};s.method=t,s.productid=window.PRODUCT_ID,e.param=s,this.encryptData(e)}};t.exports=i,cc._RFpop()},{}],HttpRequest:[function(e,t,s){"use strict";cc._RFpush(t,"be1b7vWJopMapy96MVvG2IX","HttpRequest");var i={};game.HttpEvent={},game.HttpEvent.NO_NETWORK="http_request_no_network",game.HttpEvent.UNKNOWN_ERROR="http_request_unknown_error",game.http=t.exports={get:function(e,t,s){game.http.sendRequest(e,null,!1,t,s)},getByArraybuffer:function(e,t,s){game.http.sendRequest(e,null,!1,t,s,"arraybuffer")},getWithParams:function(e,t,s,i){game.http.sendRequest(e,t,!1,s,i)},getWithParamsByArraybuffer:function(e,t,s,i){game.http.sendRequest(e,t,!1,completeCallback,i,"arraybuffer")},post:function(e,t,s,i){game.http.sendRequest(e,t,!0,s,i)},_getParamString:function(e){var t="";for(var s in e)t+="{0}={1}&".format(s,e[s]);return t.substr(0,t.length-1)},sendRequest:function(e,t,s,a,n,o){if(null!=e&&""!=e){var c;if(c=t?e+"?"+this._getParamString(t):e,null!=i[c])return void cc.warn("地址【{0}】已正在请求中，不能重复请求".format(e));i[c]=!0;var r=cc.loader.getXMLHttpRequest();s?r.open("POST",e):r.open("GET",c),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onerror=function(){delete i[c],null!=n&&n(1==r.readyState&&0==r.status?game.HttpEvent.NO_NETWORK:game.HttpEvent.UNKNOWN_ERROR)},r.onreadystatechange=function(){4==r.readyState&&(delete i[c],200==r.status?a&&("arraybuffer"==o?(r.responseType=o,a(r.response)):a(r.responseText)):n&&n(r.status))},null==t||""==t?r.send():r.send(JSON.stringify(t))}}},cc._RFpop()},{}],JoinClubReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_REQ_JOIN_CLUB_CMD_ID,this.send=function(e,t){cc.log("JoinClubReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,clubid:e,param:t},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"7cdbehwmIBHH4iycQzRpQRH","JoinClubReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],JoinClubRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_RESP_JOIN_CLUB_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param)}}cc._RFpush(t,"8d98bk/yNRFlpPHES8AO448","JoinClubRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],LeaveGameReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_LEAVE_GAME_CMD_ID,this.send=function(e){cc.log("LeaveGameReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:n.getInstance().gamesvcid,tableid:n.getInstance().tableid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"b66cd7ihkhLI5U2TsVFCkHp","LeaveGameReqPacket");var a=e("MessageReq"),n=(e("GamePlayer"),e("GameSystem"));t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],LeaveGameRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_LEAVE_GAME_CMD_ID,this.param="",this.tableid=0,this.leaveuid=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc}}cc._RFpush(t,"16d5eL79ehKiJalU3LEYv93","LeaveGameRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],LoadingScene:[function(e,t,s){"use strict";function i(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),s=window.location.search.substr(1).match(t);return null!=s?unescape(s[2]):null}cc._RFpush(t,"ad32apQgcZNFbpz02GremG8","LoadingScene");var a=e("BaseScene"),n=e("HttpManager"),o=e("SocketManager"),c=e("GameSystem"),r=e("GamePlayer"),l=e("UtilTool"),d=e("AlertView"),u=(e("ToastView"),e("LoadingView")),h=e("Platform"),_=e("WeChatApi"),g=e("MusicMgr"),m=e("Audio_Common"),p=e("GameCallOC");cc.Class({"extends":a,properties:{LabelVersion:cc.Label,GameNotice:cc.Label,LogoSprite:cc.Sprite,weChatButton:cc.Button,localButton:cc.Button,HotUpdateTips:cc.Label,HotUpdateProgress:cc.ProgressBar,_StoragePath:"",_ManifestUrl:"res/project.manifest",_failCount:0,_maxFailCount:2},onLoad:function(){this._super(),cc.log("LoadingScene.onLoad,versions = "+c.getInstance().version),c.getInstance().version=p.getInstance().getAppVersionCode(),cc.log("LoadingScene.onLoadNew,versions = "+c.getInstance().version),o.getInstance().disconnect(),this.onGameBack=!0,c.getInstance().bLogin=!1,this.sendGetRouter(),cc.game.addPersistRootNode(this.GameNotice.node),this.webDeviceID=this.getLocalInfoByWebUrl(),c.getInstance().gameNotice=null,l.getNowFormatDate(),g.initAudio(),this.loadingRes(),this._failCount=0,this.LabelVersion.string="Version:"+p.getInstance().getAppVersion()},onCheckStatus:function(){c.getInstance().bClientHotUpdate||!cc.sys.isNative||c.getInstance().VerStatus==c.getInstance().VerStatusType.VERSION_TYPE_AUDIT?(cc.log("onHotUpdate bClientHotUpdate = ",c.getInstance().bClientHotUpdate),this.gotoGame()):this.onHotUpdate()},gotoGame:function(){c.getInstance().bClientHotUpdate=!0,this.HotUpdateProgress.node.active=!1,this.updateLoginBtn()},onHotUpdate:function(){if(!cc.sys.isNative)return void this.gotoGame();this.HotUpdateProgress.node.active=!0,this._StoragePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"temp",cc.log("Storage path for remote asset :",this._StoragePath);var e=function(e,t){cc.log("Js Custom Version Compare: versionA is "+e," versionB is"+t);for(var s=e.split("."),i=t.split("."),a=0;a<s.length;++a){var n=parseInt(s[a]),o=parseInt(i[a]);if(n!=o)return n-o}return i.length>s.length?-1:0};if(this._am=new jsb.AssetsManager(this._ManifestUrl,this._StoragePath,e),this._am.retain(),!this._am.getLocalManifest().isLoaded())return this.sendLog("加载本地文件失败"),cc.log("未找到本地manifest文件"),void this.gotoGame();var t=this;this._am.setVerifyCallback(function(e,t){t.compressed,t.md5,t.path,t.size;return!0}),cc.sys.os===cc.sys.OS_ANDROID&&this._am.setMaxConcurrentTask(2),this.HotUpdateProgress.progress=0;var s=this._am.getLocalManifest().getVersion(),i=this._am.getLocalManifest().getPackageUrl();this.sendLog("提示: 版本:"+s+", 路径:"+i),this._updateListener=new jsb.EventListenerAssetsManager(this._am,function(e){switch(cc.log("hotUpdateCallback code: "+e.getEventCode()),e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:cc.log("ERROR_NO_LOCAL_MANIFEST."),t.sendLog("错误: 未找到本地manifest文件, 跳过更新"),t.gotoGame();break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:cc.log("ERROR_DOWNLOAD_MANIFEST."),t.sendLog("错误: 下载manifest文件失败, 跳过更新"),t.gotoGame();break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:cc.log("ERROR_PARSE_MANIFEST."),t.sendLog("错误: 解析manifest文件失败, 跳过更新"),t.gotoGame();break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:cc.log("ALREADY_UP_TO_DATE."),t.sendLog("提示：已经是最新版本."),t.gotoGame();break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:cc.log("NEW_VERSION_FOUND."),t.sendLog("提示：发现新版本."),t.HotUpdateProgress.progress=0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:cc.log("getPercent="+e.getPercent());var s=parseFloat(parseInt(e.getPercent())/100);cc.log("num="+s),t.HotUpdateTips.string="更新进度："+e.getPercent().toFixed(2)+"%",t.HotUpdateProgress.progress=s,cc.log("progress=",t.HotUpdateProgress.progress);var i=e.getMessage();i&&(cc.log("更新文件: ",i),t.sendLog("更新文件: "+i));break;case jsb.EventAssetsManager.UPDATE_FINISHED:cc.log("UPDATE_FINISHED."),t.sendLog("提示：更新完成."),t.gotoGame();break;case jsb.EventAssetsManager.UPDATE_FAILED:cc.log("UPDATE_FAILED: "+e.getMessage()),t.sendLog("错误:"+e.getMessage()+", failCount="+this._failCount),t._failCount++,t._failCount<t._maxFailCount?(t.sendLog("err, downloadFailedAssets"),t._am.downloadFailedAssets()):(cc.log("err, Reach maximum fail count, exit update process"),t.sendLog("错误: 更新失败超过2次，跳过更新"),t._failCount=0,t.gotoGame());break;case jsb.EventAssetsManager.ERROR_UPDATING:cc.log("ERROR_UPDATING: "+e.getAssetId()+", "+e.getMessage()),t.sendLog("错误, 升级出错: "+e.getAssetId()+", "+e.getMessage());break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:cc.log("ERROR_DECOMPRESS: "+e.getMessage()),t.sendLog("错误, 解压失败: "+e.getMessage())}}),cc.eventManager.addListener(this._updateListener,1),this._am.update()},sendLog:function(e){cc.log(e),this.HotUpdateTips.string=e},loadingRes:function(){cc.loader.loadResDir("prefabs/LoadingView/LoadingView"),cc.loader.loadResDir("prefabs/alertView"),cc.loader.loadResDir("prefabs/toastView")},callbackBtnLogin:function(e,t){cc.log("LoadingView.callbackBtnLogin"),g.playEffect(m.AUDIO_BTN_CLICK),c.getInstance().CustomLoginType=Number(t),2==t?(u.show("正在登陆..."),cc.log("LoadingView.callbackBtnLogin weixin"),_.getInstance().sendWeChatLogin()):(u.show("正在登陆..."),o.getInstance().startSocket())},onHttpResponse:function(e){if(cc.log("LoadingView.onHttpResponse"),this._super(e),void 0==e)return void cc.error("LoadingView.onHttpResponse,event = undefined");if(e.isSucceed){var t=e.tag,s=e.data;t==HttpTag.HTTP_TAG_GET_ROUTER&&0==s.code&&(c.getInstance().logintype=Number(s.logintype),c.getInstance().VerStatus=s.status,c.getInstance().webSocketUrl=s.url+"/game",c.getInstance().backWebSocketUrl=s.backurl+"/game",cc.log("LoadingView.onHttpResponse, logintype= ",c.getInstance().logintype," webSocketUrl=",c.getInstance().webSocketUrl," backWebSocketUrl=",c.getInstance().backWebSocketUrl),this.onCheckStatus())}else if(null==e.data){var i=this,a=d.create();a.setPositiveButton(function(){i.sendGetRouter()},"重试"),a.setNegativeButton(function(){},"取消");var n="网络链接错误，请检查您的网络!";a.show(n,AlertViewBtnType.E_BTN_CANCLE)}},updateLoginBtn:function(){1==c.getInstance().logintype?this.localButton.node.active=!0:2==c.getInstance().logintype?this.weChatButton.node.active=!0:3==c.getInstance().logintype&&(this.weChatButton.node.active=!0,this.localButton.node.active=!0)},onMessage:function(e){cc.log("LoadingScene.onMessage");var t=e.data,s=t.cmd;switch(s){case window.US_RESP_LOGIN_CMD_ID:this.onLoginMsg(t);break;case window.US_NOTIFY_IN_GAME_CMD_ID:cc.log("LoadingScene notifyInGame, msg"+t.gamesvcid+",tableid"+t.tableid),t.code>0&&(c.getInstance().gamesvcid=t.gamesvcid,c.getInstance().tableid=t.tableid,c.getInstance().bReloadInGame=!0)}},onLoginMsg:function(e){if(cc.log("LoadingScene.onLoginMsg,msg = "+JSON.stringify(e)),u.dismiss(),e.code===SocketRetCode.RET_SUCCESS)c.getInstance().bReloadInGame=!1,c.getInstance().gamesvcid=0,c.getInstance().tableid=0,this.gotoHall();else{var t=d.create();t.showOne(e.desc,AlertViewBtnType.E_BTN_CLOSE)}},getDeviceId:function(){return cc.log("LoadingScene.getDeviceId,webDeviceID = "+this.webDeviceID),""==this.webDeviceID||void 0==this.webDeviceID?h.getInstance().generateUUID():this.webDeviceID},sendGetRouter:function(){var e={pid:c.getInstance().productid,ver:c.getInstance().version};n.getInstance().sendCommonRequest(HttpTag.HTTP_TAG_GET_ROUTER,e,c.getInstance().routerUrl)},gotoHall:function(){cc.log("LoadingScene.gotoHall"),cc.director.loadScene("HallScene",this.popUpNotice),p.getInstance().SetAppInfo("Bullfight_"+r.getInstance().uid)},popUpNotice:function(){cc.log("LoadingScene.popUpNotice")},getLocalInfoByWebUrl:function(){if(!cc.sys.isNative){var e=i("uid");return cc.log("LoadingScene.getLocalInfoByWebUrl,deviceid = "+e),null!=e&&e.toString().length>0?e:""}},getLocalPos:function(){$.getScript("http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=js",function(){alert(remote_ip_info.country),alert(remote_ip_info.province),alert(remote_ip_info.city)})},onDestroy:function(){this._updateListener&&(cc.eventManager.removeListener(this._updateListener),this._updateListener=null),this._am&&!cc.sys.ENABLE_GC_FOR_NATIVE_OBJECTS&&this._am.release(),this._super()}}),cc._RFpop()},{AlertView:"AlertView",Audio_Common:"Audio_Common",BaseScene:"BaseScene",GameCallOC:"GameCallOC",GamePlayer:"GamePlayer",GameSystem:"GameSystem",HttpManager:"HttpManager",LoadingView:"LoadingView",MusicMgr:"MusicMgr",Platform:"Platform",SocketManager:"SocketManager",ToastView:"ToastView",UtilTool:"UtilTool",WeChatApi:"WeChatApi"}],LoadingView:[function(e,t,s){"use strict";cc._RFpush(t,"44a72oCdr1Lt4vafscFHEM8","LoadingView");var i=e("ToastView"),a=e("LoadingView"),a={};a.curView=null,a.tipText=null,a.timeoutTag=0,a.callClose=!1,a.callLoadPrefabs=!1,a.m_tips="",a.m_allowCLose=!1,a.show=function(e,t,s){if(cc.log("LoadingView.show,tips = "+e),""!=e){this.dismiss();var i=this;this.m_tips=e,this.m_allowCLose=void 0!==s&&s,i.callLoadPrefabs?i.callClose=!1:(this.callLoadPrefabs=!0,window.loadPrefabs("prefabs/LoadingView/LoadingView",function(e){i.callLoadPrefabs=!1,i.curView=e,i.callClose?i.dismiss():(cc.log("LoadingView.show,111"),i.updateView(e,i.m_tips,t,i.m_allowCLose))},t))}},a.updateView=function(e,t,s,i){cc.log("LoadingView.updateView"),e.on(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagation()}),this.tipText=cc.find("Bg/LabelText",e).getComponent(cc.Label),t&&this.setText(t)},a.setTimeOut=function(e){if(cc.log("LoadingView.setTimeOut,time = "+e),e&&e>0){this.timeoutTag=window.setTimeout("require('LoadingView').onTimeOut()",1e3*e)}},a.onTimeOut=function(){cc.log("LoadingView.onTimeOut"),i.show("网络请求超时"),this.dismiss()},a.setText=function(e){cc.log("LoadingView.setText,tips = "+e),this.tipText?this.tipText.string=e:this.show(e)},a.dismiss=function(){cc.log("LoadingView.dismiss"),this.timeoutTag&&window.clearTimeout(this.timeoutTag),this.curView&&(this.curView.removeFromParent(!0),this.curView=null,this.tipText=null,this.callClose=!1,this.callLoadPrefabs=!1,this.m_tips="",this.m_allowCLose=!1)},t.exports=a,cc._RFpop()},{LoadingView:"LoadingView",ToastView:"ToastView"}],LoginReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_LOGIN_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,logintype:o.getInstance().CustomLoginType,unionid:n.getInstance().unionid,openid:n.getInstance().openid,nickname:n.getInstance().name,headurl:n.getInstance().headurl,sex:n.getInstance().sex,deviceid:c.getInstance().generateUUID(),productid:o.getInstance().productid,platform:c.getInstance().getPlatformType()},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"9dbc3VeDpRKWINvGky0DgTX","LoginReqPacket");var a=e("MessageReq"),n=e("GamePlayer"),o=e("GameSystem"),c=e("Platform");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq",Platform:"Platform"}],LoginRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_LOGIN_CMD_ID,this.nickname="",this.headurl="",this.sex=0,this.gold=0,this.diamond=0,this.userkey="",this.notice={title:"",doc:"",writer:"",popup:0,ismaintain:0,time:0},this.clienturl="",this.fileurl="",this.weixincs="",this.payurl="",this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(o.getInstance().uid=e.uid,o.getInstance().name=e.nickname,o.getInstance().headurl=e.headurl,o.getInstance().sex=e.sex,o.getInstance().gold=e.gold,o.getInstance().diamond=e.diamond,o.getInstance().userkey=e.userkey,n.getInstance().notice.title=e.notice.title,n.getInstance().notice.doc=e.notice.doc,n.getInstance().notice.writer=e.notice.writer,n.getInstance().notice.popup=e.notice.popup,n.getInstance().notice.ismaintain=e.notice.ismaintain,n.getInstance().notice.time=e.notice.time,n.getInstance().clienturl=e.clienturl,n.getInstance().fileurl=e.fileurl,n.getInstance().weixincs=e.weixincs,n.getInstance().payurl=e.payurl,n.getInstance().referralCode=e.referralid,n.getInstance().ledlist=e.ledlist,n.getInstance().aesKey=AES.utils.utf8.toBytes(e.userkey))}}cc._RFpush(t,"b02b9bGh39K5oCFrNaip58c","LoginRespPacket");var a=e("MessageResp"),n=e("GameSystem"),o=e("GamePlayer");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageResp:"MessageResp"}],MessageCellDetailView:[function(e,t,s){"use strict";cc._RFpush(t,"e4016kft6pMooCvNuHxuMbD","MessageCellDetailView");var i=e("BasePop"),a=e("MessageFactory"),n=e("MusicMgr"),o=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{Content:cc.Label,Time:cc.Label},onLoad:function(){},callBackBtn:function(e,t){cc.log("MessageCellDetailView.callbackBtn,CustomEventData = "+t);var s=e.target.getName();cc.log("MessageCellDetailView.callbackBtn,btnName = "+s),n.playEffect(o.AUDIO_BTN_CLICK),"BtnClose"==s&&this.dismiss()},setContent:function(e){if(this.Content.string=BASE64.decoder(e.msg),1!=e.type){var t={type:e.type,msgid:e.msgid};a.createMessageReq(US_REQ_SET_MSG_READ_CMD_ID).send(t)}}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr"}],MessageCell:[function(e,t,s){"use strict";cc._RFpush(t,"7c276nXgHVDSoKL/4mYJTLw","MessageCell");var i=e("UtilTool"),a=e("MusicMgr"),n=e("Audio_Common");e("GameSystem");cc.Class({"extends":cc.Component,properties:{Time:cc.Label,Content:cc.Label},onLoad:function(){this.msg=null},setMessageCellMsg:function(e){this.msg=e,this.Content.string=BASE64.decoder(e.msg),this.Time.string=i.getFormatDataDetail(e.time),cc.log("MessageCell.setMessageCellMsg,msg = "+JSON.stringify(e))},callbackBtn:function(e,t){cc.log("MessageCell.callbackBtn,CustomEventData = "+t);var s=e.target.getName();cc.log("MessageCell.callbackBtn,btnName = "+s),a.playEffect(n.AUDIO_BTN_CLICK),"Click"==s&&this.dismiss()}}),cc._RFpop()},{Audio_Common:"Audio_Common",GameSystem:"GameSystem",MusicMgr:"MusicMgr",UtilTool:"UtilTool"}],MessageDetailView:[function(e,t,s){"use strict";cc._RFpush(t,"1e8b4heBP5I5aZt8IEiTB/B","MessageDetailView");var i=e("BasePop"),a=e("MessageFactory"),n=e("MusicMgr"),o=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{scrollView:cc.ScrollView,MessageCell:cc.Prefab,MessageCellDetailView:cc.Prefab,SitReqCell:cc.Prefab},onLoad:function(){this._super(),this.type=0},onMessage:function(e){cc.log("MessageDetailView.onMessage");var t=e.data,s=t.cmd;switch(s){case US_RESP_MSG_LIST_CMD_ID:this.onGetMessageList(t);break;case CLUB_RESP_OWNER_CONFIRM_CMD_ID:cc.log("MessageDetailView.onMessage CLUB_RESP_OWNER_CONFIRM_CMD_ID")}},sendGetMsgList:function(e){this.type=e;var t={type:e,start:0,total:50};a.createMessageReq(US_REQ_MSG_LIST_CMD_ID).send(t)},onGetMessageList:function(e){if(e.code==SocketRetCode.RET_SUCCESS&&null!=e.list&&void 0!=e.list)if(1==e.type){var t=0;this.scrollView.content.removeAllChildren(!0);for(var s=0;s<e.list.length;s++){var i=BASE64.decoder(e.list[s].msg);cc.log("MessageDetailView.onMsgList,json = "+i);var a=cc.instantiate(this.MessageCell);this.scrollView.content.addChild(a),t=a.getContentSize().height,a.setPosition(cc.p(0,-a.getContentSize().height*(s+.5))),a.getComponent("MessageCell").setMessageCellMsg(e.list[s]);var n=this;a.on(cc.Node.EventType.TOUCH_END,function(e){var t=e.target.getComponent("MessageCell").msg;n.createMessageCellDetailView(t)}.bind(this))}t*e.list.length>this.scrollView.content.height&&(this.scrollView.content.height=t*e.list.length)}else if(2==e.type){this.scrollView.content.removeAllChildren(!0);for(var t=0,s=0;s<e.list.length;s++){var i=BASE64.decoder(e.list[s].msg);e.list[s].msg=JSON.parse(i),cc.log("MessageView.onMsgList,msg.list[index].msg = ",e.list[s].msg);var o=cc.instantiate(this.SitReqCell);this.scrollView.content.addChild(o),t=o.getContentSize().height,o.setPosition(cc.p(0,-o.getContentSize().height*(s+1))),o.getComponent("SitReqCell").setMessageInfo(e.list[s],2)}t*(e.list.length+1)>this.scrollView.content.height&&(this.scrollView.content.height=t*(e.list.length+1))}},createMessageCellDetailView:function(e){var t=cc.instantiate(this.MessageCellDetailView);this.node.addChild(t),t.setPosition(cc.p(0,0)),t.getComponent("MessageCellDetailView").setContent(e)},callbackBtn:function(e,t){cc.log("MessageDetailView.callbackBtn,CustomEventData = "+t);var s=e.target.getName();cc.log("MessageDetailView.callbackBtn,btnName = "+s),n.playEffect(o.AUDIO_BTN_CLICK),"BtnClose"==s&&this.dismiss()}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr"}],MessageFactory_Bullfight:[function(e,t,s){"use strict";cc._RFpush(t,"54729u6eBhJ8ZbwXHnM0tz5","MessageFactory_Bullfight");var i=e("Cmd_Bullfight"),a=e("Bullfight_BetCoinRespPacket"),n=e("Bullfight_CallBankerRespPacket"),o=e("Bullfight_HelpRespPacket"),c=e("Bullfight_OpenCardRespPacket"),r=e("Bullfight_TableDetailRespPacket"),l=e("Bullfight_BetCoinReqPacket"),d=e("Bullfight_CallBankerReqPacket"),u=e("Bullfight_HelpReqPacket"),h=e("Bullfight_OpenCardReqPacket"),_=e("Bullfight_TableDetailReqPacket"),g=e("Bullfight_NotifyGameOverOncePacket"),m=e("Bullfight_NotifyGameOverTotalPacket"),p=e("Bullfight_ReadyReqPacket"),C=e("Bullfight_ReadyRespPacket"),S=e("Bullfight_NotifyGameStartPacket"),f=e("Bullfight_NotifySureBankerPacket"),R=e("Bullfight_NotifyOpenCardPacket"),E=e("Bullfight_NotifyKickOutPacket"),M=e("Bullfight_NotifyNotCallBankerPacket"),w=e("Bullfight_NotifyNotBetPacket"),y=e("Bullfight_GetPlayersListReqPacket"),T=e("Bullfight_GetPlayersListRespPacket"),b={createMessageReq:function(e){var t=null;switch(e){case i.SBF_REQ_BET_COIN_CMD_ID:t=new l;break;case i.SBF_REQ_CALL_BANKER_CMD_ID:t=new d;break;case i.SBF_REQ_HELP_CMD_ID:t=new u;break;case i.SBF_REQ_OPEN_CARD_CMD_ID:t=new h;break;case i.US_REQ_TABLE_DETAIL_CMD_ID:t=new _;break;case i.SBF_REQ_READY_CMD_ID:t=new p;break;case i.US_REQ_PLAYER_LIST_CMD_ID:t=new y}return t},createMessageResp:function(e){
var t=null;switch(e){case i.SBF_RESP_BET_COIN_CMD_ID:t=new a;break;case i.SBF_RESP_CALL_BANKER_CMD_ID:t=new n;break;case i.SBF_RESP_HELP_CMD_ID:t=new o;break;case i.SBF_RESP_OPEN_CARD_CMD_ID:t=new c;break;case i.US_RESP_TABLE_DETAIL_CMD_ID:t=new r;break;case i.SBF_NOTIFY_ONE_GAME_RESULT_CMD_ID:t=new g;break;case i.SBF_NOTIFY_TOTAL_GAME_RESULT_CMD_ID:t=new m;break;case i.SBF_RESP_READY_CMD_ID:t=new C;break;case i.SBF_NOTIFY_GAME_START_CMD_ID:t=new S;break;case i.SBF_NOTIFY_CONFIRM_BANKER_CMD_ID:t=new f;break;case i.SBF_NOTIFY_OPEN_CARD_CMD_ID:t=new R;break;case i.SBF_NOTIFY_KICKOUT_CMD_ID:t=new E;break;case i.SBF_NOTIFY_NOT_CALL_BANKER_CMD_ID:t=new M;break;case i.SBF_NOTIFY_NOT_BET_COIN_CMD_ID:t=new w;break;case i.US_RESP_PLAYER_LIST_CMD_ID:t=new T}return t}};t.exports=b,cc._RFpop()},{Bullfight_BetCoinReqPacket:"Bullfight_BetCoinReqPacket",Bullfight_BetCoinRespPacket:"Bullfight_BetCoinRespPacket",Bullfight_CallBankerReqPacket:"Bullfight_CallBankerReqPacket",Bullfight_CallBankerRespPacket:"Bullfight_CallBankerRespPacket",Bullfight_GetPlayersListReqPacket:"Bullfight_GetPlayersListReqPacket",Bullfight_GetPlayersListRespPacket:"Bullfight_GetPlayersListRespPacket",Bullfight_HelpReqPacket:"Bullfight_HelpReqPacket",Bullfight_HelpRespPacket:"Bullfight_HelpRespPacket",Bullfight_NotifyGameOverOncePacket:"Bullfight_NotifyGameOverOncePacket",Bullfight_NotifyGameOverTotalPacket:"Bullfight_NotifyGameOverTotalPacket",Bullfight_NotifyGameStartPacket:"Bullfight_NotifyGameStartPacket",Bullfight_NotifyKickOutPacket:"Bullfight_NotifyKickOutPacket",Bullfight_NotifyNotBetPacket:"Bullfight_NotifyNotBetPacket",Bullfight_NotifyNotCallBankerPacket:"Bullfight_NotifyNotCallBankerPacket",Bullfight_NotifyOpenCardPacket:"Bullfight_NotifyOpenCardPacket",Bullfight_NotifySureBankerPacket:"Bullfight_NotifySureBankerPacket",Bullfight_OpenCardReqPacket:"Bullfight_OpenCardReqPacket",Bullfight_OpenCardRespPacket:"Bullfight_OpenCardRespPacket",Bullfight_ReadyReqPacket:"Bullfight_ReadyReqPacket",Bullfight_ReadyRespPacket:"Bullfight_ReadyRespPacket",Bullfight_TableDetailReqPacket:"Bullfight_TableDetailReqPacket",Bullfight_TableDetailRespPacket:"Bullfight_TableDetailRespPacket",Cmd_Bullfight:"Cmd_Bullfight"}],MessageFactory_Common:[function(e,t,s){"use strict";cc._RFpush(t,"494a6ludDBIfJOnYk1g+G9c","MessageFactory_Common");var i=e("HeartReqPacket"),a=e("HeartRespPacket"),n=e("LoginReqPacket"),o=e("LoginRespPacket"),c=e("CreateRoomReqPacket"),r=e("CreateRoomRespPacket"),l=e("FindRoomReqPacket"),d=e("FindRoomRespPacket"),u=e("EnterRoomReqPacket"),h=e("EnterRoomRespPacket"),_=e("LeaveGameReqPacket"),g=e("LeaveGameRespPacket"),m=e("ServerKickOutPacket"),p=e("OwnerConfirmReqPacket"),C=e("OwnerConfirmRespPacket"),S=e("OwnerKickOutPlayerReqPacket"),f=e("OwnerKickOutPlayerRespPacket"),R=e("StartGameReqPacket"),E=e("StartGameRespPacket"),M=(e("DismissGameReqPacket"),e("NotifyDismissGame")),w=e("SitDownReqPacket"),y=e("SitDownRespPacket"),T=e("NotifyOwnerOverPacket"),b=e("ChatReqPacket"),I=e("ChatRespPacket"),B=e("NotifyOwnerSitPacket"),P=e("CarryCoinReqPacket"),v=e("CarryCoinRespPacket"),A=e("NotifyGameStartPacket"),D=e("FindRespPacket"),L=e("FindReqPacket"),N=e("ScoreListReqPacket"),k=e("ScoreListRespPacket"),O=e("ScoreDetailReqPacket"),G=e("ScoreDetailRespPacket"),U=e("ShopConfReqPacket"),F=e("ShopConfRespPacket"),V=e("CreateClubReqPacket"),q=e("CreateClubRespPacket"),x=e("GetClubListReqPacket"),H=e("GetClubListRespPacket"),Y=e("GetClubTableReqPacket"),W=e("GetClubTableRespPacket"),K=e("SearchClubReqPacket"),Q=e("SearchClubRespPacket"),J=e("ModifyClubInfoReqPacket"),j=e("ModifyClubInfoRespPacket"),z=e("GetMemberListReqPacket"),X=e("GetMemberListRespPacket"),Z=e("JoinClubReqPacket"),$=e("JoinClubRespPacket"),ee=e("NotifyClubOwnerConfirmPacket"),te=e("ClubOwnerConfirmReqPacket"),se=e("ClubOwnerConfirmRespPacket"),ie=e("ClubDelMemberReqPacket"),ae=e("ClubDelMemberRespPacket"),ne=e("GetMsgNumReqPacket"),oe=e("GetMsgNumRespPacket"),ce=e("GetMsgListReqPacket"),re=e("GetMsgListRespPacket"),le=e("MsgReadReqPacket"),de=e("MsgReadRespPacket"),ue=e("DismissClubReqPacket"),he=e("DismissClubRespPacket"),_e=e("ClubOwnerModifyRoleRespPacket"),ge=e("ClubOwnerModifyRoleReqPacket"),me=e("ClubCreateRoomReqPacket"),pe=e("ClubCreateRoomRespPacket"),Ce=e("UserDetailReqPacket"),Se=e("UserDetailRespPacket"),fe=e("CreateTableCostReqPacket"),Re=e("CreateTableCostRespPacket"),Ee=e("ClubUpgradeCostReqPacket"),Me=e("ClubUpgradeCostRespPacket"),we=e("ExchangeGoldReqPacket"),ye=e("ExchangeGoldRespPacket"),Te=e("BannerListReqPacket"),be=e("BannerListRespPacket"),Ie=e("NotifyPayOperatePacket"),Be=e("NotifyInGameRespPacket"),Pe=e("BindReferralReqPacket"),ve=e("BindReferralRespPacket"),Ae={createMessageReq:function(e){var t=null;switch(e){case window.US_REQ_HEARTBEAT_CMD_ID:t=new i;break;case window.US_REQ_LOGIN_CMD_ID:t=new n;break;case window.US_REQ_CREATE_TABLE_CMD_ID:t=new c;break;case window.US_REQ_ENTER_GAME_CMD_ID:t=new u;break;case window.US_REQ_FIND_TABLE_CMD_ID:t=new l;break;case window.US_REQ_LEAVE_GAME_CMD_ID:t=new _;break;case window.US_REQ_OWNER_CONFIRM_CMD_ID:t=new p;break;case window.US_REQ_OWNER_KICKOUT_PLAYERCMD_ID:t=new S;break;case window.US_REQ_GAME_SWITCH_CMD_ID:t=new R;break;case window.US_REQ_SIT_DOWN_CMD_ID:t=new w;break;case window.US_REQ_GAME_CHAT_CMD_ID:t=new b;break;case window.US_REQ_CARRY_COIN_CMD_ID:t=new P;break;case window.US_REQ_FOUND_TABLE_CMD_ID:t=new L;break;case window.US_REQ_SCORE_LIST_CMD_ID:t=new N;break;case window.US_REQ_SCORE_DETAIL_CMD_ID:t=new O;break;case window.US_REQ_SHOP_CONF_CMD_ID:t=new U;break;case window.US_REQ_CREATE_CLUB_CMD_ID:t=new V;break;case window.US_REQ_CLUB_LIST_CMD_ID:t=new x;break;case window.US_REQ_CLUB_TABLE_CMD_ID:t=new Y;break;case window.US_REQ_SEARCH_CLUB_CMD_ID:t=new K;break;case window.CLUB_REQ_MODIFY_INFO_CMD_ID:t=new J;break;case window.CLUB_REQ_GET_MEMBER_LIST_CMD_ID:t=new z;break;case window.CLUB_REQ_JOIN_CLUB_CMD_ID:t=new Z;break;case window.CLUB_REQ_OWNER_CONFIRM_CMD_ID:t=new te;break;case window.CLUB_REQ_OWNER_RM_MEMBER_CMD_ID:t=new ie;break;case window.US_REQ_NEW_MSG_NUM_CMD_ID:t=new ne;break;case window.US_REQ_MSG_LIST_CMD_ID:t=new ce;break;case window.US_REQ_SET_MSG_READ_CMD_ID:t=new le;break;case window.CLUB_REQ_DISMISS_CLUB_CMD_ID:t=new ue;break;case window.CLUB_REQ_OWNER_MODIFY_ROLE_CMD_ID:t=new ge;break;case window.CLUB_REQ_CREATE_TABLE_CMD_ID:t=new me;break;case window.US_REQ_USER_DETAIL_CMD_ID:t=new Ce;break;case window.US_REQ_CREATE_COST_CMD_ID:t=new fe;break;case window.US_REQ_CLUB_UPGRADE_COST_CMD_ID:t=new Ee;break;case window.US_REQ_EXCHANGE_GOLD_CMD_ID:t=new we;break;case window.US_REQ_BANNER_LIST_CMD_ID:t=new Te;break;case window.US_REQ_BIND_REFERRAL_CMD_ID:t=new Pe}return t},createMessageResp:function(e){var t=null;switch(e){case window.US_RESP_HEARTBEAT_CMD_ID:t=new a;break;case window.US_RESP_LOGIN_CMD_ID:t=new o;break;case window.US_RESP_CREATE_TABLE_CMD_ID:t=new r;break;case window.US_RESP_ENTER_GAME_CMD_ID:t=new h;break;case window.US_RESP_FIND_TABLE_CMD_ID:t=new d;break;case window.US_RESP_LEAVE_GAME_CMD_ID:t=new g;break;case window.US_KICK_OUT_CMD_ID:t=new m;break;case window.US_RESP_OWNER_CONFIRM_CMD_ID:t=new C;break;case window.US_RESP_OWNER_KICKOUT_PLAYERCMD_ID:t=new f;break;case window.US_RESP_GAME_SWITCH_CMD_ID:t=new E;break;case window.US_NOTIFY_DISMISS_GAME_CMD_ID:t=new M;break;case window.US_RESP_SIT_DOWN_CMD_ID:t=new y;break;case window.US_NOTFIY_OWNER_TABLEINFO_CMD_ID:t=new T;break;case window.US_RESP_GAME_CHAT_CMD_ID:t=new I;break;case window.US_NOTIFY_OWNER_CONFIRM_SIT_CMD_ID:t=new B;break;case window.US_RESP_CARRY_COIN_CMD_ID:t=new v;break;case window.US_NOTIFY_GAME_SWITCH_CMD_ID:t=new A;break;case window.US_RESP_FOUND_TABLE_CMD_ID:t=new D;break;case window.US_RESP_SCORE_LIST_CMD_ID:t=new k;break;case window.US_RESP_SCORE_DETAIL_CMD_ID:t=new G;break;case window.US_RESP_SHOP_CONF_CMD_ID:t=new F;break;case window.US_RESP_CREATE_CLUB_CMD_ID:t=new q;break;case window.US_RESP_CLUB_LIST_CMD_ID:t=new H;break;case window.US_RESP_CLUB_TABLE_CMD_ID:t=new W;break;case window.US_RESP_SEARCH_CLUB_CMD_ID:t=new Q;break;case window.CLUB_RESP_MODIFY_INFO_CMD_ID:t=new j;break;case window.CLUB_RESP_GET_MEMBER_LIST_CMD_ID:t=new X;break;case window.CLUB_RESP_JOIN_CLUB_CMD_ID:t=new $;break;case window.CLUB_NOTIFY_OWNER_CONFIRM_CMD_ID:t=new ee;break;case window.CLUB_RESP_OWNER_CONFIRM_CMD_ID:t=new se;break;case window.CLUB_RESP_OWNER_RM_MEMBER_CMD_ID:t=new ae;break;case window.US_RESP_NEW_MSG_NUM_CMD_ID:t=new oe;break;case window.US_RESP_MSG_LIST_CMD_ID:t=new re;break;case window.US_RESP_SET_MSG_READ_CMD_ID:t=new de;break;case window.US_RESP_SEARCH_CLUB_CMD_ID:t=new Q;break;case window.CLUB_RESP_DISMISS_CLUB_CMD_ID:t=new he;break;case window.CLUB_RESP_OWNER_MODIFY_ROLE_CMD_ID:t=new _e;break;case window.CLUB_RESP_CREATE_TABLE_CMD_ID:t=new pe;break;case window.US_RESP_USER_DETAIL_CMD_ID:t=new Se;break;case window.US_RESP_CREATE_COST_CMD_ID:t=new Re;break;case window.US_RESP_CLUB_UPGRADE_COST_CMD_ID:t=new Me;break;case window.US_RESP_EXCHANGE_GOLD_CMD_ID:t=new ye;break;case window.US_RESP_BANNER_LIST_CMD_ID:t=new be;break;case window.US_NOTIFY_PAY_OPERATE_CMD_ID:t=new Ie;break;case window.US_NOTIFY_IN_GAME_CMD_ID:t=new Be;break;case window.US_RESP_BIND_REFERRAL_CMD_ID:t=new ve}return t}};t.exports=Ae,cc._RFpop()},{BannerListReqPacket:"BannerListReqPacket",BannerListRespPacket:"BannerListRespPacket",BindReferralReqPacket:"BindReferralReqPacket",BindReferralRespPacket:"BindReferralRespPacket",CarryCoinReqPacket:"CarryCoinReqPacket",CarryCoinRespPacket:"CarryCoinRespPacket",ChatReqPacket:"ChatReqPacket",ChatRespPacket:"ChatRespPacket",ClubCreateRoomReqPacket:"ClubCreateRoomReqPacket",ClubCreateRoomRespPacket:"ClubCreateRoomRespPacket",ClubDelMemberReqPacket:"ClubDelMemberReqPacket",ClubDelMemberRespPacket:"ClubDelMemberRespPacket",ClubOwnerConfirmReqPacket:"ClubOwnerConfirmReqPacket",ClubOwnerConfirmRespPacket:"ClubOwnerConfirmRespPacket",ClubOwnerModifyRoleReqPacket:"ClubOwnerModifyRoleReqPacket",ClubOwnerModifyRoleRespPacket:"ClubOwnerModifyRoleRespPacket",ClubUpgradeCostReqPacket:"ClubUpgradeCostReqPacket",ClubUpgradeCostRespPacket:"ClubUpgradeCostRespPacket",CreateClubReqPacket:"CreateClubReqPacket",CreateClubRespPacket:"CreateClubRespPacket",CreateRoomReqPacket:"CreateRoomReqPacket",CreateRoomRespPacket:"CreateRoomRespPacket",CreateTableCostReqPacket:"CreateTableCostReqPacket",CreateTableCostRespPacket:"CreateTableCostRespPacket",DismissClubReqPacket:"DismissClubReqPacket",DismissClubRespPacket:"DismissClubRespPacket",DismissGameReqPacket:"DismissGameReqPacket",EnterRoomReqPacket:"EnterRoomReqPacket",EnterRoomRespPacket:"EnterRoomRespPacket",ExchangeGoldReqPacket:"ExchangeGoldReqPacket",ExchangeGoldRespPacket:"ExchangeGoldRespPacket",FindReqPacket:"FindReqPacket",FindRespPacket:"FindRespPacket",FindRoomReqPacket:"FindRoomReqPacket",FindRoomRespPacket:"FindRoomRespPacket",GetClubListReqPacket:"GetClubListReqPacket",GetClubListRespPacket:"GetClubListRespPacket",GetClubTableReqPacket:"GetClubTableReqPacket",GetClubTableRespPacket:"GetClubTableRespPacket",GetMemberListReqPacket:"GetMemberListReqPacket",GetMemberListRespPacket:"GetMemberListRespPacket",GetMsgListReqPacket:"GetMsgListReqPacket",GetMsgListRespPacket:"GetMsgListRespPacket",GetMsgNumReqPacket:"GetMsgNumReqPacket",GetMsgNumRespPacket:"GetMsgNumRespPacket",HeartReqPacket:"HeartReqPacket",HeartRespPacket:"HeartRespPacket",JoinClubReqPacket:"JoinClubReqPacket",JoinClubRespPacket:"JoinClubRespPacket",LeaveGameReqPacket:"LeaveGameReqPacket",LeaveGameRespPacket:"LeaveGameRespPacket",LoginReqPacket:"LoginReqPacket",LoginRespPacket:"LoginRespPacket",ModifyClubInfoReqPacket:"ModifyClubInfoReqPacket",ModifyClubInfoRespPacket:"ModifyClubInfoRespPacket",MsgReadReqPacket:"MsgReadReqPacket",MsgReadRespPacket:"MsgReadRespPacket",NotifyClubOwnerConfirmPacket:"NotifyClubOwnerConfirmPacket",NotifyDismissGame:"NotifyDismissGame",NotifyGameStartPacket:"NotifyGameStartPacket",NotifyInGameRespPacket:"NotifyInGameRespPacket",NotifyOwnerOverPacket:"NotifyOwnerOverPacket",NotifyOwnerSitPacket:"NotifyOwnerSitPacket",NotifyPayOperatePacket:"NotifyPayOperatePacket",OwnerConfirmReqPacket:"OwnerConfirmReqPacket",OwnerConfirmRespPacket:"OwnerConfirmRespPacket",OwnerKickOutPlayerReqPacket:"OwnerKickOutPlayerReqPacket",OwnerKickOutPlayerRespPacket:"OwnerKickOutPlayerRespPacket",ScoreDetailReqPacket:"ScoreDetailReqPacket",ScoreDetailRespPacket:"ScoreDetailRespPacket",ScoreListReqPacket:"ScoreListReqPacket",ScoreListRespPacket:"ScoreListRespPacket",SearchClubReqPacket:"SearchClubReqPacket",SearchClubRespPacket:"SearchClubRespPacket",ServerKickOutPacket:"ServerKickOutPacket",ShopConfReqPacket:"ShopConfReqPacket",ShopConfRespPacket:"ShopConfRespPacket",SitDownReqPacket:"SitDownReqPacket",SitDownRespPacket:"SitDownRespPacket",StartGameReqPacket:"StartGameReqPacket",StartGameRespPacket:"StartGameRespPacket",UserDetailReqPacket:"UserDetailReqPacket",UserDetailRespPacket:"UserDetailRespPacket"}],MessageFactory:[function(e,t,s){"use strict";cc._RFpush(t,"fe6a4+vaRpGNZhAf3Z6Nwph","MessageFactory");var i=e("MessageFactory_Common"),a=e("MessageFactory_Bullfight"),n=e("GameSystem"),o={};o.createMessageReq=function(e){cc.log("MessageFactory.createMessageReq,cmd = "+e.toString(16));var t=null;return n.getInstance().CurGameType==n.getInstance().GameType.GAME_TYPE_BULLFIGHT&&(t=a.createMessageReq(e)),null==t&&(t=i.createMessageReq(e)),null==t&&cc.error("MessageFactory.createMessageReq,message = null"),cc.log("MessageFactory.createMessageReq,"+t.constructor.name),t},o.createMessageResp=function(e){cc.log("MessageFactory.createMessageResp,cmd = "+e.toString(16));var t=null;return n.getInstance().CurGameType==n.getInstance().GameType.GAME_TYPE_BULLFIGHT,t=a.createMessageResp(e),null==t&&(t=i.createMessageResp(e)),null==t&&cc.error("MessageFactory.createMessageResp,message = null"),cc.log("MessageFactory.createMessageResp,"+t.constructor.name),t},t.exports=o,cc._RFpop()},{GameSystem:"GameSystem",MessageFactory_Bullfight:"MessageFactory_Bullfight",MessageFactory_Common:"MessageFactory_Common"}],MessageReq:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.seq=SocketSeq++,this.send=function(){},this.sendHead=function(){this.data.cmd=this.cmd,this.data.qeq=this.seq,this.data.uid=this.uid}}cc._RFpush(t,"73c60qzqCxIY5PO4/CMYAFs","MessageReq");var a=e("Message");t.exports=i,cc._RFpop()},{Message:"Message"}],MessageResp:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.code=0,this.desc="",this.onMessage=function(e){}}cc._RFpush(t,"31548GHSx1NWrpTw9v9X0ie","MessageResp");var a=e("Message");t.exports=i,cc._RFpop()},{Message:"Message"}],MessageView:[function(e,t,s){"use strict";cc._RFpush(t,"e0206hb3rhJRIjcGYCfH2io","MessageView");var i=e("BasePop"),a=e("MessageFactory"),n=e("MusicMgr"),o=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{MessageDetailView:cc.Prefab,ScrollView:cc.ScrollView,NoticeMsgCell:cc.Node,NoticeRedTip:cc.Node,NoticeNum:cc.Label,ClubMsgCell:cc.Node,ClubMsgRedTip:cc.Node,ClubMsgNum:cc.Label,SitReqCell:cc.Prefab},onLoad:function(){this._super(),a.createMessageReq(US_REQ_NEW_MSG_NUM_CMD_ID).send(),this.initBaseData()},initBaseData:function(){this.CellNum=0},onMessage:function(e){cc.log("MessageView.onMessage");var t=e.data,s=t.cmd;switch(s){case US_RESP_NEW_MSG_NUM_CMD_ID:this.onNewMsg(t);break;case US_RESP_MSG_LIST_CMD_ID:this.onMsgList(t);break;case US_RESP_OWNER_CONFIRM_CMD_ID:this.onOwnerConfirm(t)}},onOwnerConfirm:function(e){e.code<SocketRetCode.RET_SUCCESS&&(cc.log("MessageView.onOwnerConfirm"),this.dismiss())},onMsgList:function(e){if(e.code==SocketRetCode.RET_SUCCESS)if(1==e.type);else if(2==e.type);else if(3==e.type){var t=this.ScrollView.content.getChildrenCount();if(null==e.list||void 0==e.list)return;for(var s=0,i=0;i<e.list.length;i++){var a=BASE64.decoder(e.list[i].msg);e.list[i].msg=JSON.parse(a),cc.log("MessageView.onMsgList,json = "+e.list[i].msg);var n=cc.instantiate(this.SitReqCell);this.ScrollView.content.addChild(n),s=n.getContentSize().height,n.setPosition(cc.p(0,-n.getContentSize().height*(t+i+1))),n.getComponent("SitReqCell").setMessageInfo(e.list[i],e.type)}s*(this.ScrollView.content.getChildrenCount()+1)>this.ScrollView.content.height&&(this.ScrollView.content.height=s*(this.ScrollView.content.getChildrenCount()+1))}},onNewMsg:function(e){if(e.code==SocketRetCode.RET_SUCCESS){e.sysnum>0&&(this.NoticeRedTip.active=!0,this.NoticeNum.string=e.sysnum,this.CellNum++),e.clubnum>0&&(this.ClubMsgRedTip.active=!0,this.ClubMsgNum.string=e.clubnum,this.CellNum++);var t={type:3,start:0,total:50};a.createMessageReq(US_REQ_MSG_LIST_CMD_ID).send(t)}},callbackBtn:function(e,t){cc.log("MessageView.callbackBtn,CustomEventData = "+t);var s=e.target.getName();if(cc.log("MessageView.callbackBtn,btnName = "+s),n.playEffect(o.AUDIO_BTN_CLICK),"BtnClose"==s)this.dismiss();else if("NoticeMsgCell"==s){var i=cc.instantiate(this.MessageDetailView);this.node.addChild(i),i.setPosition(cc.p(0,0)),i.getComponent("MessageDetailView").sendGetMsgList(1)}else if("ClubMsgCell"==s){cc.log("MessageView.ClubMsgCell");var i=cc.instantiate(this.MessageDetailView);this.node.addChild(i),i.setPosition(cc.p(0,0)),i.getComponent("MessageDetailView").sendGetMsgList(2)}}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr"}],Message:[function(e,t,s){"use strict";function i(){this.cmd=0,this.seq=0,this.uid=a.getInstance().uid,this.data="",this.onMessage=function(e){},this.send=function(){},this.proccess=function(e){}}cc._RFpush(t,"cee66BLZqpP3KF7HDU+NF64","Message");var a=e("GamePlayer");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer"}],MineView:[function(e,t,s){"use strict";cc._RFpush(t,"d1d883ZkdFDbZqDkdBBIbzr","MineView");var i=e("BasePop"),a=e("GamePlayer"),n=e("AlertView"),o=e("MusicMgr"),c=e("Audio_Common"),r=e("GameSystem"),l=e("GameCallOC"),d=e("ToastView");cc.Class({"extends":i,properties:{UserNick:cc.Label,UserHead:cc.Sprite,UserSex:cc.Sprite,SexSpriteFrame:[cc.SpriteFrame],UidLable:cc.Label,Diamond:cc.Label,Gold:cc.Label,MessageView:cc.Prefab,RedTips:cc.Sprite,ClubView:cc.Prefab,SuccessView:cc.Prefab,ShareView:cc.Prefab,SettingView:cc.Prefab,NoticeView:cc.Prefab,ShopView:cc.Prefab,BtnShare:cc.Node,ReferralCodeView:cc.Prefab,BtnNode:[cc.Node]},onLoad:function(){this.initBaseData(),this.RedTips.node.active=r.getInstance().NewMsgNum},initBaseData:function(){this.UserNick.string=a.getInstance().name,this.UidLable.string=a.getInstance().uid,this.Diamond.string=a.getInstance().diamond,this.Gold.string=a.getInstance().gold,UpdateWXHeadIcon(a.getInstance().headurl,this.UserHead),this.UserSex.spriteFrame=this.UserSex[a.getInstance().sex],r.getInstance().VerStatus==r.getInstance().VerStatusType.VERSION_TYPE_AUDIT&&l.getInstance().checkIsAble()?(this.BtnNode[0].active=!1,this.BtnNode[1].active=!0):(this.BtnNode[1].active=!1,this.BtnNode[0].active=!0)},callbackBtn:function(e,t){cc.log("MineView.callbackBtn,CustomEventData = "+t);var s=e.target.getName();cc.log("MineView.callbackBtn,btnName = "+s);var i=cc.director.getWinSize();if(o.playEffect(c.AUDIO_BTN_CLICK),"BtnMessage"==s){var a=cc.instantiate(this.MessageView);cc.director.getScene().addChild(a),a.setPosition(cc.p(i.width/2,i.height/2))}else if("BtnClue"==s){var u=cc.instantiate(this.ClubView);cc.director.getScene().addChild(u),u.setPosition(cc.p(i.width/2,i.height/2))}else if("BtnSuccess"==s){var h=cc.instantiate(this.SuccessView);cc.director.getScene().addChild(h),h.setPosition(cc.p(i.width/2,i.height/2))}else if("BtnShare"==s){if(r.getInstance().VerStatus==r.getInstance().VerStatusType.VERSION_TYPE_AUDIT)return void d.show("功能暂未开放");var _=cc.instantiate(this.ShareView);cc.director.getScene().addChild(_),_.setPosition(cc.p(i.width/2,i.height/2));var g="我正在玩游戏［"+l.getInstance().getAppName()+"］,快点一起来玩吧！！！";_.getComponent("ShareView").setShareTyep(ShareType.E_SHARETYPE_LINK,g,r.getInstance().clienturl)}else if("BtnService"==s){var m=n.create();m.showOne(r.getInstance().weixincs,AlertViewBtnType.E_BTN_CLOSE)}else if("BtnNotice"==s){var p=cc.instantiate(this.NoticeView);cc.director.getScene().addChild(p),p.setPosition(cc.p(i.width/2,i.height/2)),p.getComponent("NoticeView").setContent()}else if("BtnSetting"==s){var C=cc.instantiate(this.SettingView);cc.director.getScene().addChild(C),C.setPosition(cc.p(i.width/2,i.height/2)),this.dismiss()}else if("BtnMineInfo"==s){var S=cc.instantiate(this.ShopView);cc.director.getScene().addChild(S),S.setPosition(cc.p(i.width/2,i.height/2))}else if("BtnCode"==s){if(0!=r.getInstance().referralCode){var f=n.create();f.setPositiveButton(function(){},"确定");var R="您已经绑定了推广码:"+r.getInstance().referralCode;return void f.show(R,AlertViewBtnType.E_BTN_CLOSE)}var E=cc.instantiate(this.ReferralCodeView);cc.director.getScene().addChild(E),E.setPosition(cc.p(i.width/2,i.height/2))}}}),cc._RFpop()},{AlertView:"AlertView",Audio_Common:"Audio_Common",BasePop:"BasePop",GameCallOC:"GameCallOC",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MusicMgr:"MusicMgr",ToastView:"ToastView"}],ModifyClubInfoReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_REQ_MODIFY_INFO_CMD_ID,this.send=function(e){cc.log("ModifyClubInfoReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,clubid:e.clubid,param:{headurl:e.headurl,address:e.address,name:e.name,intro:e.intro,level:e.level}},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"0e217qOSc1Ao4PYJkcWls1i","ModifyClubInfoReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],ModifyClubInfoRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_RESP_MODIFY_INFO_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param,cc.log("ModifyClubInfoRespPacket cmd=",this.cmd))}}cc._RFpush(t,"65140e8dY1HcblyM9cO3Uta","ModifyClubInfoRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],MsgReadReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_SET_MSG_READ_CMD_ID,this.send=function(e){cc.log("GetMsgNumReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"4f564w3if1FiYNSC5Usa9Fl","MsgReadReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],MsgReadRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_SET_MSG_READ_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS}}cc._RFpush(t,"83286ulnEtETbYfBfRshaGJ","MsgReadRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],MusicMgr:[function(e,t,s){"use strict";cc._RFpush(t,"c58902MZrlNOaHs+msHntQp","MusicMgr");var i=e("GameSystem"),a={_audioVolume:1,_musicVolume:1,_isShake:!0,_bgmid:-1,m_isAudioOn:!0,m_isMusicOn:!0,initAudio:function(){cc.sys.localStorage.hasOwnProperty("SHAKE_OPEN")&&(this._isShake=cc.sys.localStorage.getItem("SHAKE_OPEN"),this._isShake="true"==this._isShake,cc.log("MusicMgr.initAudio,this._isShake = "+this._isShake)),cc.sys.localStorage.hasOwnProperty("AUDIO_VOLUME")&&(this._audioVolume=cc.sys.localStorage.getItem("AUDIO_VOLUME"),this._audioVolume=parseFloat(this._audioVolume),cc.log("MusicMgr.initAudio,this._audioVolume = "+this._audioVolume)),cc.sys.localStorage.hasOwnProperty("MUSIC_VOLUME")&&(this._musicVolume=cc.sys.localStorage.getItem("MUSIC_VOLUME"),this._musicVolume=parseFloat(this._musicVolume),cc.log("MusicMgr.initAudio,this._musicVolume = "+this._musicVolume)),cc.sys.localStorage.hasOwnProperty("m_isAudioOn")&&(this.m_isAudioOn=cc.sys.localStorage.getItem("m_isAudioOn"),this.m_isAudioOn="true"==this.m_isAudioOn,cc.log("MusicMgr.initAudio,this.m_isAudioOn = "+this.m_isAudioOn)),cc.sys.localStorage.hasOwnProperty("m_isMusicOn")&&(this.m_isMusicOn=cc.sys.localStorage.getItem("m_isMusicOn"),this.m_isMusicOn="true"==this.m_isMusicOn,cc.log("MusicMgr.initAudio,this.m_isMusicOn = "+this.m_isMusicOn))},playBackgroundMusic:function(e,t){if(cc.log("MusicMgr.playBackgroundMusic,path = "+e),this.m_isMusicOn)if(this._bgmid==-1){var s=-1;if(t)s=cc.audioEngine.play(e,!0,this._musicVolume);else{var i=cc.url.raw(e);s=cc.audioEngine.play(i,!0,this._musicVolume)}this._bgmid=s}else this.resumeBackgroundMusic()},stopEffect:function(e){cc.audioEngine.stop(e)},setVolumeQuite:function(){cc.audioEngine.setEffectsVolume(.1)},stopBackgroundMusic:function(){var e=cc.audioEngine.getState(this._bgmid);e!=cc.audioEngine.AudioState.ERROR&&(cc.audioEngine.stop(this._bgmid),this._bgmid=-1)},pauseBackgroundMusic:function(){this._bgmid!=-1&&cc.audioEngine.pause(this._bgmid)},resumeBackgroundMusic:function(){this._bgmid!=-1&&this.m_isMusicOn&&cc.audioEngine.resume(this._bgmid)},setMusicVolume:function(e){this._musicVolume=e,this.m_isMusicOn=this._musicVolume>0,this._saveMusicValue(),this._bgmid!=-1&&cc.audioEngine.setVolume(this._bgmid,this._musicVolume)},getMusicVolume:function(){return this._musicVolume},_saveMusicValue:function(){cc.sys.localStorage.setItem("MUSIC_VOLUME",this._musicVolume),this.saveMusicON()},playEffect:function(e,t){if(0==i.getInstance().VolumeState&&this.m_isAudioOn)if(t)cc.audioEngine.play(e,!1,this._audioVolume);else{var s=cc.url.raw(e);cc.audioEngine.play(s,!1,this._audioVolume)}},setEffectsVolume:function(e){this._audioVolume=e,this.m_isAudioOn=this._audioVolume>0,this._saveEffectValue()},getEffectVolume:function(){return this._audioVolume},_saveEffectValue:function(){cc.sys.localStorage.setItem("AUDIO_VOLUME",this._audioVolume),this.saveAudioON()},playShake:function(){cc.log("震动还未实现！")},isShakeOn:function(){return this._isShake},isShakeOpen:function(){return this._isShake},setShakeOn:function(e){this._isShake=e,cc.sys.localStorage.setItem("SHAKE_OPEN",this._audioVolume)},preload:function(e){cc.audioEngine.preload(e,function(){})},saveMusicON:function(){cc.sys.localStorage.setItem("m_isMusicOn",this.m_isMusicOn)},saveAudioON:function(){cc.sys.localStorage.setItem("m_isAudioOn",this.m_isAudioOn)}};t.exports=a,cc._RFpop()},{GameSystem:"GameSystem"}],NetMsg:[function(e,t,s){"use strict";cc._RFpush(t,"b241aOZTHFCHLdmnx6h94O1","NetMsg"),cc.Class({"extends":cc.Component,properties:{lableMsg:cc.Label},onLoad:function(){this.GameInfoListenerID=-1,this.socketMessageListenerID=-1,this.node.opacity=0,this.tipsCount=0,this.isNetConnecting=!0,this.baseTips="",this.onNetCheckListener(),this.addSocketListener()},onDestroy:function(){GlobalEventManager.getInstance().removeListener(this.GameInfoListenerID),GlobalEventManager.getInstance().removeListener(this.socketMessageListenerID)},onNetCheckListener:function(){var e=this;this.GameInfoListenerID=GlobalEventManager.getInstance().addEventListener(window.GameEngineInfo,function(t){if(t){var s=t.tag;s==window.GameInfo.NetOnline?(e.isNetConnecting=!0,e.node.opacity=0,e.unschedule(e.updateTipShow)):s==window.GameInfo.NetOffline&&(e.isNetConnecting=!1,e.node.opacity=255,e.tipsCount=0,e.baseTips="网络异常，正在重连中",e.lableMsg.string=e.baseTips,e.schedule(e.updateTipShow,.3))}},this)},addSocketListener:function(){var e=this;this.socketMessageListenerID=GlobalEventManager.getInstance().addEventListener(window.SocketMessage,function(t){if(void 0!=t){var s=t.tag;s==window.MessageType.SOCKET_CONNECTED?e.onSocketConnected():s==window.MessageType.SOCKET_DISCONNECTED?e.onSocketDisconnected():s==window.MessageType.SOCKET_CONNECTING||s==window.MessageType.MSG_NETWORK_FAILURE||s==window.MessageType.SOCKET_MESSAGE}},this)},onSocketConnected:function(){var e=this;e.node.opacity=0,e.unschedule(e.updateTipShow)},onSocketDisconnected:function(){var e=this;e.unschedule(e.updateTipShow),e.isNetConnecting&&(e.node.opacity=255,e.tipsCount=0,e.baseTips="服务器连接失败，努力重连中",e.lableMsg.string=e.baseTips,e.schedule(e.updateTipShow,.3))},updateTipShow:function(e){this.tipsCount++;for(var e=this.baseTips,t=this.tipsCount%4,s=0;s<t;s++)e+="。";this.lableMsg.string=e}}),cc._RFpop()},{}],NoticeView:[function(e,t,s){"use strict";cc._RFpush(t,"d91b3fop/BGi52uCIfVVvXB","NoticeView");var i=e("BasePop"),a=e("GameSystem"),n=e("MusicMgr"),o=e("Audio_Common"),c=e("UtilTool");cc.Class({"extends":i,properties:{Title:cc.Label,Doc:cc.Label,Writer:cc.Label,Time:cc.Label},onLoad:function(){this._super()},callbackBtnClose:function(){cc.log("NoticeView : callbackBtnClose"),n.playEffect(o.AUDIO_BTN_CLICK),this.dismiss()},setContent:function(){this.Title.string=a.getInstance().notice.title+":",this.Doc.string=a.getInstance().notice.doc,this.Writer.string=a.getInstance().notice.writer,this.Time.string=c.getFormatData(a.getInstance().notice.time)}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MusicMgr:"MusicMgr",UtilTool:"UtilTool"}],NotifyClubOwnerConfirmPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.CLUB_NOTIFY_OWNER_CONFIRM_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.clubid=e.clubid,this.param=e.param)}}cc._RFpush(t,"d0aabKFYc1JBYDxuG4s5W4C","NotifyClubOwnerConfirmPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],NotifyDismissGame:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_NOTIFY_DISMISS_GAME_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS}}cc._RFpush(t,"d0140YgebhJEpKefG14ChV2","NotifyDismissGame");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],NotifyGameStartPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_NOTIFY_GAME_SWITCH_CMD_ID,this.isStart=0,this.readyTime=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.isStart=e.isstart,this.readyTime=e.readytime,this.tstatus=e.tstatus,this.ustatus=e.ustatus)}}cc._RFpush(t,"882a4oMvFNO66mxqVOAGvBH","NotifyGameStartPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],NotifyInGameRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_NOTIFY_IN_GAME_CMD_ID,this.gamesvcid=0,this.tableid=0,this.gameid=0,this.gamelevel=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.gamesvcid=e.gamesvcid,this.tableid=e.tableid,this.gameid=e.gameid,this.gamelevel=e.gamelevel}}cc._RFpush(t,"eccc0ZLrYBPv5Qnai2Fl7vo","NotifyInGameRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],NotifyOwnerOverPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_NOTFIY_OWNER_TABLEINFO_CMD_ID,this.gamesvcid=0,this.tableid=0,this.privateid=0,this.tablename="",this.remaintime=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.gamesvcid=e.gamesvcid,this.tableid=e.tableid,this.privateid=e.privateid,this.tablename=e.tablename,this.remaintime=e.remaintime)}}cc._RFpush(t,"dd823stCrZOOqrZUc2MxGgy","NotifyOwnerOverPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],NotifyOwnerSitPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_NOTIFY_OWNER_CONFIRM_SIT_CMD_ID,this.tablename="",this.sitUid=0,this.name="",this.headurl="",this.gamesvcid=0,this.tableid=0,this.privateid=0,this.seatid=-1,this.coin=0,this.param="",this.onMessage=function(e){if(this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,!(this.code<SocketRetCode.RET_SUCCESS)){
this.param=e.param,cc.log("NotifyOwnerSitPacket param="+e.param);var t=e.param;this.tablename=t.tablename,this.sitUid=t.situid,this.name=t.name,this.headurl=t.headurl,this.gamesvcid=t.gamesvcid,this.tableid=t.tableid,this.privateid=t.privateid,this.seatid=t.seatid,this.coin=t.coin}}}cc._RFpush(t,"92920G9vD9JdqKgKLdI7MZT","NotifyOwnerSitPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],NotifyPayOperatePacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_NOTIFY_PAY_OPERATE_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param)}}cc._RFpush(t,"c340fdaa8JPq5kULRPqTwuu","NotifyPayOperatePacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],OwnerConfirmReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_OWNER_CONFIRM_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:e.gamesvcid,tableid:e.tableid,playeruid:e.playeruid,privateid:e.privateid,result:e.result},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"bc4b6istnRHZK1NJ0OIsCsy","OwnerConfirmReqPacket");var a=e("MessageReq");e("GameSystem");t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageReq:"MessageReq"}],OwnerConfirmRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_OWNER_CONFIRM_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS}}cc._RFpush(t,"1f1c2uz/wVJzrMUuNdAhMiW","OwnerConfirmRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],OwnerKickOutPlayerReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_OWNER_KICKOUT_PLAYERCMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"632bfJq88BM3LwjjAw3tx8K","OwnerKickOutPlayerReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],OwnerKickOutPlayerRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_OWNER_KICKOUT_PLAYERCMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS}}cc._RFpush(t,"ed853dGLRJEXqH3LeAQ6aVK","OwnerKickOutPlayerRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],PickerAddressView:[function(e,t,s){"use strict";cc._RFpush(t,"c7846OdUvxD6J3OaAN/wN6f","PickerAddressView");var i=e("BasePop");cc.Class({"extends":i,properties:{},onLoad:function(){}}),cc._RFpop()},{BasePop:"BasePop"}],Platform:[function(e,t,s){"use strict";function i(){}cc._RFpush(t,"b472ezU8QpJfr8/EOiZTlMK","Platform"),window.Platform_Type=cc.Enum({E_PLATFORM_UNKONW:0,E_PLATFORM_ANDROID:1,E_PLATFORM_IPHONE:2,E_PLATFORM_IPAD:3,E_PLATFORM_MAC:4,E_PLATFORM_WINDOWS:5,E_PLATFORM_WEB:6});var a=e("GameCallOC");i.prototype.getPlatformCode=function(){return cc.log("PlatformManager.prototype.getPlatformType platform = "+cc.sys.platform),parseInt(cc.sys.platform)},i.prototype.getOsType=function(){return cc.log("PlatformManager.prototype.getPlatformType os = "+cc.sys),cc.sys.os},i.prototype.getPlatformType=function(){this.getOsType();var e=this.getPlatformCode(),t=window.Platform_Type.E_PLATFORM_UNKONW;switch(e){case cc.sys.WIN32:case cc.sys.WINRT:t=window.Platform_Type.E_PLATFORM_WINDOWS;break;case cc.sys.MACOS:t=window.Platform_Type.E_PLATFORM_MAC;break;case cc.sys.ANDROID:t=window.Platform_Type.E_PLATFORM_ANDROID;break;case cc.sys.IPHONE:t=window.Platform_Type.E_PLATFORM_IPHONE;break;case cc.sys.IPAD:t=window.Platform_Type.E_PLATFORM_IPAD;break;case cc.sys.MOBILE_BROWSER:case cc.sys.DESKTOP_BROWSER:t=window.Platform_Type.E_PLATFORM_WEB;break;default:t=window.Platform_Type.E_PLATFORM_UNKONW}return cc.log("platform = "+t),t},i.prototype.getLanguage=function(){return cc.log("PlatformManager.getLanguage, language = "+cc.sys.language),cc.sys.language},i.prototype.getPackageName=function(){cc.log("PlatformManager.getPackageName");var e="";jsb.reflection.callStaticMethod("JSCallBackOC","getPackageName");return e},i.prototype.getAppVersion=function(){var e=1;return cc.log("PlatformManager.getAppVersion,version = "+e),e},i.prototype.getBattery=function(){var e=0;navigator.getBattery().then(function(t){function s(){console.log("Battery level: "+100*t.level+"%"),e=t.level}e=t.level,s(),t.addEventListener("levelchange",function(){s()})}),cc.log("PlatformManager.getBattery, level = "+e)},i.prototype.getSignalStrength=function(){cc.log("PlatformManager.getSignalStrength")},i.prototype.generateUUID=function(){if(this.getPlatformType()==Platform_Type.E_PLATFORM_WEB||this.getPlatformType()==Platform_Type.E_PLATFORM_ANDROID){var e=cc.sys.localStorage.getItem("uuid");if(cc.log("PlatformManager.generateUUID111,uuid = "+e),0==e||null==e||void 0==e){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var s=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?s:3&s|8).toString(16)});cc.sys.localStorage.setItem("uuid",e)}}else if(this.getPlatformType()==Platform_Type.E_PLATFORM_IPHONE||this.getPlatformType()==Platform_Type.E_PLATFORM_IPAD||this.getPlatformType()==Platform_Type.E_PLATFORM_MAC)return a.getInstance().getUUID();return cc.log("PlatformManager.generateUUID,uuid = "+e),e};var n=function(){function e(){return void 0===t&&(t=new i),t}var t;return{getInstance:e}}();t.exports=n,cc._RFpop()},{GameCallOC:"GameCallOC"}],PlayScore:[function(e,t,s){"use strict";cc._RFpush(t,"058a6cH1rROtYw40krkuPqA","PlayScore"),cc.Class({"extends":cc.Component,properties:{UserName:cc.Label,Uid:cc.Label,CarryCoin:cc.Label,ZhanGuo:cc.Label,WinScore:cc.Label,Head:cc.Sprite},onLoad:function(){},setScoreInfo:function(e){UpdateWXHeadIcon(e.headurl,this.Head),this.Uid.string=e.uid,this.UserName.string=e.name,this.CarryCoin.string="带入"+e.carrycoin;var t=e.carrycoin+e.wincoin;this.ZhanGuo.string="战果"+t,e.wincoin>0?this.WinScore.string="+"+e.wincoin:0==e.wincoin?(this.WinScore.string=e.wincoin,this.WinScore.node.color=new cc.Color(204,160,41,255)):(this.WinScore.string=e.wincoin,this.WinScore.node.color=cc.Color.GREEN)}}),cc._RFpop()},{}],Player:[function(e,t,s){"use strict";function i(){this.uid=0,this.name="",this.headurl="",this.sex=0,this.gold=0,this.diamond=0,this.coin=0,this.seatid=-1,this.status=0,this.bowner=0,this.winGold=0,this.TotalCarry=0,this.TotalRound=0,this.TotalTable=0,this.fileId="",this.calltype=0,this.bBanker=0,this.betcoinmul=0,this.bOpenCard=0,this.bulltype=0,this.cards=[],this.finalcoin=0}cc._RFpush(t,"32125vaHUxGBLMX0QExihnG","Player"),i.setSeatId=function(e){cc.log("Palyer.setSeadId,seatid = "+e),this.seatid=e},t.exports=i,cc._RFpop()},{}],Poker:[function(e,t,s){"use strict";cc._RFpush(t,"8a43dBxds1J0r5WKqON/ki6","Poker");var i=20,a=240,n=15;cc.Class({"extends":cc.Component,properties:{cardData:0,cardColor:0,cardValue:0,cardSelected:0,CardBgImg:cc.Sprite,ValueImg:cc.Sprite,ColorImg:cc.Sprite,SmallColorImg:cc.Sprite,GrayLayer:cc.Sprite,CardGroundImg:cc.Sprite,ValueBlackFrame:[cc.SpriteFrame],ValueRedFrame:[cc.SpriteFrame],ColorFrame:[cc.SpriteFrame],SmallFrame:[cc.SpriteFrame],CardGround:cc.SpriteFrame,CardBg:cc.SpriteFrame},onLoad:function(){},initCard:function(e){if(cc.log("Poker : initCard,cardData = "+e),this.cardData=e,this.cardColor=this.getCardColorFromData(e),this.cardValue=this.getCardValueFromData(e),this.CardGroundImg.node.active=!1,cc.log("Poker : initCard,cardValue = "+this.cardValue),0==e){for(var t=0;t<this.CardBgImg.node.childrenCount;t++)this.CardBgImg.node.children[t].active=!1;this.CardBgImg.spriteFrame=this.CardGround}else this.CardBgImg.node.active=!0,this.ColorImg.node.active=!0,this.ValueImg.node.active=!0,this.SmallColorImg.node.active=!0,this.GrayLayer.node.active=!1,this.CardBgImg.spriteFrame=this.CardBg,0==this.cardColor||2==this.cardColor?(this.ColorImg.spriteFrame=this.ColorFrame[this.cardColor],this.SmallColorImg.spriteFrame=this.SmallFrame[this.cardColor],this.ValueImg.spriteFrame=this.ValueBlackFrame[this.cardValue-1]):1==this.cardColor||3==this.cardColor?(this.ColorImg.spriteFrame=this.ColorFrame[this.cardColor],this.SmallColorImg.spriteFrame=this.SmallFrame[this.cardColor],this.ValueImg.spriteFrame=this.ValueRedFrame[this.cardValue-1]):4===this.cardColor?cc.error("Poker : initCard,cardColor error"):cc.error("Poker : initCard,cardColor error");cc.log("Poker : initCard,CardGroundImg.active = "+this.CardGroundImg.node.active)},getValueStringFromData:function(){},getCardColorFromData:function(e){return(e&a)>>4},getCardValueFromData:function(e){return e&n},runCardSelect:function(e){cc.log("Poker : runCardSelect,bSelect = ",e),this.cardSelected=e,1==this.cardSelected?this.node.position=cc.p(this.node.getPosition().x,i):this.node.position=cc.p(this.node.getPosition().x,0)},setCardSelecting:function(e){cc.log("Poker.setCardSelecting,bSelect = "+e),this.cardSelected=e,1==e?this.GrayLayer.node.opacity=180:this.GrayLayer.node.opacity=0},setBtnCard:function(){this.cardSelected=0==this.cardSelected?1:0,this.runCardSelect(this.cardSelected)}}),cc._RFpop()},{}],ProduceCell:[function(e,t,s){"use strict";cc._RFpush(t,"f0943bDNCVErrhkTrpk/kl7","ProduceCell");var i=e("MusicMgr"),a=e("Audio_Common"),n=e("GameCallOC"),o=e("GamePlayer"),c=e("MessageFactory"),r=e("AlertView"),l=(e("HttpManager"),e("WeChatApi")),d=e("GameSystem");cc.Class({"extends":cc.Component,properties:{ProduceImg:cc.Sprite,ProduceName:cc.Label,ProducePrice:cc.Label,ProduceDesc:cc.Label,MoneyLabel:cc.Label,ProducePriceImg:cc.Sprite,ProduceGoldFrame:[cc.SpriteFrame],ProduceDiamondFrame:[cc.SpriteFrame],PropFrame:[cc.SpriteFrame],Diamond:cc.Sprite,ReferralCodeView:cc.Prefab,ActivityFlag:cc.Sprite,ActivityFlagFrame:[cc.SpriteFrame]},onLoad:function(){},initData:function(){this.ProduceType=0,this.Price=0,this.Name="",this.id=0,this.msg=null},setProduceData:function(e,t){this.msg=t,this.ProduceType=e,this.setProduceName(t.name),this.setProducePrice(t.cost),this.setProduceTypeAndImg(e,t.type),this.ProduceDesc.string=t.desc,this.MoneyLabel.node.active=!1},setProduceDataDiamond:function(e,t){this.msg=t,this.ProduceType=e,this.setProduceName(t.name),this.MoneyLabel.node.active=!0,this.MoneyLabel.string="售价：¥"+t.cost,this.Price=t.cost,d.getInstance().VerStatus==d.getInstance().VerStatusType.VERSION_TYPE_AUDIT&&n.getInstance().checkIsAble()?this.ProduceDesc.node.active=!1:(this.ProduceDesc.node.active=!0,this.ProduceDesc.string=t.desc),this.ProducePrice.node.active=!1,this.Diamond.node.active=!1,this.setProduceTypeAndImg(e,t.type),this.id=t.id},setProduceName:function(e){this.Name=e,this.ProduceName.string=e},setProducePrice:function(e){this.Price=e,this.ProducePrice.string=e},setProduceTypeAndImg:function(e,t){0==e?this.ProduceImg.spriteFrame=this.PropFrame[t-1]:this.ProduceImg.spriteFrame=this.ProduceDiamondFrame[t-1];var s=0;1!=e||4!=t&&5!=t||(s=1),this.setActivityFlag(e,s)},setActivityFlag:function(e,t){return d.getInstance().VerStatus==d.getInstance().VerStatusType.VERSION_TYPE_AUDIT&&n.getInstance().checkIsAble()?void(this.ActivityFlag.node.active=!1):void(t>0?this.ActivityFlag.node.active=!0:this.ActivityFlag.node.active=!1)},createReferralCodeView:function(){var e=cc.director.getWinSize(),t=cc.instantiate(this.ReferralCodeView);cc.director.getScene().addChild(t),t.setPosition(cc.p(e.width/2,e.height/2))},callBtnBuy:function(){if(cc.log("ProductCell.callBtnBuy"),i.playEffect(a.AUDIO_BTN_CLICK),1==this.ProduceType)if(2==d.getInstance().productid){var e=this,t=r.create();t.setPositiveButton(function(){},"确定");var s="请联系微信客服：["+d.getInstance().weixincs+"]充值";t.show(s,AlertViewBtnType.E_BTN_CLOSE)}else if(d.getInstance().VerStatus==d.getInstance().VerStatusType.VERSION_TYPE_AUDIT&&n.getInstance().checkIsAble())n.getInstance().payAppstore(this.msg.id,o.getInstance().uid);else{if(0==d.getInstance().referralCode){var e=this,t=r.create();t.setPositiveButton(function(){e.createReferralCodeView()},"绑定");var s="首次购买钻石请绑定推广人";return void t.show(s,AlertViewBtnType.E_BTN_CLOSE)}l.getInstance().weChatPay(this.msg.id,o.getInstance().uid)}else{var e=this,t=r.create();t.setPositiveButton(function(){var t={type:e.msg.type};c.createMessageReq(US_REQ_EXCHANGE_GOLD_CMD_ID).send(t)},"兑换"),t.setNegativeButton(function(){},"取消");var s="您是否确定消耗"+this.msg.cost+"个钻石兑换"+this.msg.name+"("+this.msg.desc+")";t.show(s,AlertViewBtnType.E_BTN_CANCLE)}}}),cc._RFpop()},{AlertView:"AlertView",Audio_Common:"Audio_Common",GameCallOC:"GameCallOC",GamePlayer:"GamePlayer",GameSystem:"GameSystem",HttpManager:"HttpManager",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",WeChatApi:"WeChatApi"}],ProgressSlider:[function(e,t,s){"use strict";cc._RFpush(t,"504c9tlYPRHLoYfTJJ2lAd8","ProgressSlider"),cc.Class({"extends":cc.Component,properties:{Slider:cc.Slider,Bar:cc.ProgressBar,Label:cc.Label,MaxLabel:cc.Label,MinLabel:cc.Label,iMax:0,iMin:0},onLoad:function(){},getNumFromCurNum:function(e){var t=e,s=e%100;t=s>=50?e+(100-s):e-s,t>this.iMax?t=this.iMax:t<this.iMin&&(t=this.iMin);var i=(t-this.iMin)/(this.iMax-this.iMin);return this.Bar.progress=i,this.Slider.progress=i,t},setMinAndMax:function(e,t){this.iMax=t,this.iMin=e,this.MaxLabel.string=this.iMax,this.MinLabel.string=this.iMin,this.Bar.progress=this.Slider.progress;var s=parseInt(this.iMin+(this.iMax-this.iMin)*this.Slider.progress);this.CurCarryNum=this.getNumFromCurNum(s),this.Label.string=this.CurCarryNum},callBackSlider:function(e,t){this.Bar.progress=this.Slider.progress;var s=parseInt(this.iMin+(this.iMax-this.iMin)*this.Slider.progress);this.CurCarryNum=this.getNumFromCurNum(s),this.Label.string=this.CurCarryNum,this.Label.string=this.CurCarryNum}}),cc._RFpop()},{}],ReferralCodeView:[function(e,t,s){"use strict";cc._RFpush(t,"da950uqPANGxog4PDcUaP0y","ReferralCodeView");var i=e("BasePop"),a=e("ToastView"),n=(e("LoadingView"),e("MessageFactory"));e("GameSystem");cc.Class({"extends":i,properties:{ReferralCode:cc.EditBox},onLoad:function(){},callBackBtn:function(e,t){var s=e.target.getName();if(cc.log("ReferralCodeView.callBackBtn,BtnName = "+s),"BtnClose"==s)this.dismiss();else if("BtnSure"==s){if(cc.log("ReferralCodeView.callBackBtn,ReferralCode = "+this.ReferralCode.string),""==this.ReferralCode.string)return void a.show("推荐码不能为空！");var i={referralid:Number(this.ReferralCode.string)};n.createMessageReq(US_REQ_BIND_REFERRAL_CMD_ID).send(i),this.dismiss()}}}),cc._RFpop()},{BasePop:"BasePop",GameSystem:"GameSystem",LoadingView:"LoadingView",MessageFactory:"MessageFactory",ToastView:"ToastView"}],RollMsg:[function(e,t,s){"use strict";function i(){this.strMsg="",this.iType=0}cc._RFpush(t,"2e8561JDMdNrK6WrDK6DwBL","RollMsg");var a=e("BasePop");cc.Class({"extends":a,properties:{speaker:cc.Sprite,speakerTxtHtml:cc.RichText,speakerHolder:cc.Node},onLoad:function(){this._super(),this.queueSpeakerMsg=new Array,this.isShowRollFinish=!0,this.speaker.node.active=!1,this.baseX=this.speakerTxtHtml.node.x,this.remaindWidth=960+this.speakerTxtHtml.node.x},onDestroy:function(){GlobalEventManager.getInstance().removeListener(this.socketMessageListenerID)},onSceneMsg:function(e){var t=e.data;if("HallScene"==t.popView&&"RollMsg"==t.btn){var s=t.data;this.addSpeakerMsg(s.text,0)}},onMessage:function(e){var t=e.data,s=t.cmd;switch(s){case window.SERVER_SPEAK_NEW_CMD:this.addSpeakerMsg(t.trumpetMsg,t.trumpetType)}},addSpeakerMsg:function(e,t){if(void 0!==e&&""!=e){var s=String(e),a=/0x/g,n=s.replace(a,"#"),o=/FF>/g;n=n.replace(o,">");var c=new i;c.iType=t,c.strMsg=n,this.queueSpeakerMsg.push(c)}},showSpeaker:function(e,t){if(""!=e){this.speakerTxtHtml.node.active=!0,this.speakerTxtHtml.node.x=this.baseX,this.speakerTxtHtml.node.y=2*this.speakerHolder.height,this.speakerTxtHtml.string=e;var s=(cc.size(this.speakerHolder.width,this.speakerHolder.height),cc.moveTo(1,cc.p(this.speakerTxtHtml.node.x,0))),i=cc.delayTime(2),a=cc.callFunc(this.moveDownCallback,this),n=cc.sequence(s,i,a);this.speakerTxtHtml.node.runAction(n)}},moveDownCallback:function(){var e=cc.director.getWinSize(),t=cc.size(this.speakerTxtHtml._linesWidth[0],this.speakerTxtHtml.node.height),s=0;if((this.remaindWidth<t.width-e.width||this.speakerHolder.width<t.width)&&(s=t.width+this.remaindWidth),s<=0)this.moveLeftCallback();else{var i=cc.moveBy(s/300,cc.p(s>0?-s:0,0)),a=cc.delayTime(.8),n=cc.callFunc(this.moveLeftCallback,this),o=cc.sequence(i,a,n);this.speakerTxtHtml.node.runAction(o)}},moveLeftCallback:function(){this.isShowRollFinish=!0,this.speakerTxtHtml&&(this.speakerTxtHtml.node.active=!1),0==this.queueSpeakerMsg.length&&this.speaker&&this.speaker.node.activeInHierarchy,this.speaker.node.active=!1},update:function(e){var t=this;if(t.queueSpeakerMsg.length>0&&t.isShowRollFinish){t.speaker&&!t.speaker.node.active&&(t.speaker.node.active=!0),this.isShowRollFinish=!1;var s=t.queueSpeakerMsg.pop();t.showSpeaker(s.strMsg,s.iType)}}}),cc._RFpop()},{BasePop:"BasePop"}],RoomInfoView:[function(e,t,s){"use strict";cc._RFpush(t,"1f118BQOFlNVrXBx+ux8lw0","RoomInfoView");var i=e("BasePop"),a=e("MessageFactory"),n=e("MusicMgr"),o=e("Audio_Common"),c=e("GameSystem"),r=e("UtilTool");cc.Class({"extends":i,properties:{RoomName:{"default":null,type:cc.Label},GameName:{"default":null,type:cc.Label},GameType:{"default":null,type:cc.Label},MinAnte:{"default":null,type:cc.Label},LiveTime:{"default":null,type:cc.Label},MaxSeat:{"default":null,type:cc.Label},SelfWinCoin:{"default":null,type:cc.Label},SelfCarryCoin:{"default":null,type:cc.Label},SelfPlayNum:{"default":null,type:cc.Label},SelfWinNum:{"default":null,type:cc.Label},SelfLoseNum:{"default":null,type:cc.Label},SelfSuperNum:{"default":null,type:cc.Label},SelfNormalNum:{"default":null,type:cc.Label},SelfNotcallNum:{"default":null,type:cc.Label},SelfBankerNum:{"default":null,type:cc.Label},SelfGiftNum:{"default":null,type:cc.Label},SelfUseGold:{"default":null,type:cc.Label},SelfUseDiamond:{"default":null,type:cc.Label},scrollView:cc.ScrollView,PlayScorePrefab:cc.Prefab,BtnShare:cc.Button},onLoad:function(){this._super(),c.getInstance().VerStatus==c.getInstance().VerStatusType.VERSION_TYPE_AUDIT&&(this.BtnShare.node.active=!1)},onMessage:function(e){cc.log("RoomInfoView.onMessage");var t=e.data,s=t.cmd;switch(s){case US_RESP_SCORE_DETAIL_CMD_ID:this.onScoreDetailbMsg(t)}},onScoreDetailbMsg:function(e){if(e.code==SocketRetCode.RET_SUCCESS){this.RoomName.string=e.table.tablename,this.GameName.string=GetGameName(e.table.gameid),this.GameType.string=GetGameType(e.table.gametype),this.MinAnte.string=e.table.minante,this.LiveTime.string=r.getHourTime(e.table.livetime),this.MaxSeat.string=e.table.maxseat+"人",this.SelfWinCoin.string=e.myself.wincoin,this.SelfCarryCoin.string=e.myself.carrycoin,this.SelfPlayNum.string=e.myself.playnum,this.SelfWinNum.string=e.myself.winnum,this.SelfLoseNum.string=e.myself.losenum,this.SelfSuperNum.string=e.myself.supernum,this.SelfNormalNum.string=e.myself.normalnum,this.SelfNotcallNum.string=e.myself.notcallnum,this.SelfBankerNum.string=e.myself.bankernum,this.SelfGiftNum.string=e.myself.giftnum,this.SelfUseGold.string=e.myself.usegold,this.SelfUseDiamond.string=e.myself.usediamond,cc.log("this.scrollView.content.height =",this.scrollView.content.height);for(var t=0,s=1320,i=0;null!=e.list&&i<e.list.length;i++){var a=cc.instantiate(this.PlayScorePrefab);this.scrollView.content.addChild(a),t=a.getContentSize().height,a.setPosition(cc.p(0,-s-a.getContentSize().height*i)),a.getComponent("PlayScore").setScoreInfo(e.list[i])}cc.log("height * (msg.list.length) ="+t*e.list.length),t*e.list.length+s>this.scrollView.content.height&&(this.scrollView.content.height=t*e.list.length+s),cc.log("this.scrollView.content.height =",this.scrollView.content.height)}},sendGetSuccessDetail:function(e){var t={privateid:e.privateid,createtime:e.createtime};a.createMessageReq(US_REQ_SCORE_DETAIL_CMD_ID).send(t)},callbackBtn:function(e,t){n.playEffect(o.AUDIO_BTN_CLICK);var s=e.target.getName();if("BtnBack"==s)this.dismiss();else if("BtnShare"==s){var i={popView:"RoomInfoView",btn:"BtnShare"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:i})}}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",UtilTool:"UtilTool"}],RuleView:[function(e,t,s){"use strict";cc._RFpush(t,"429f0FNv/lNsI9YR2n9QoQk","RuleView");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.log("stop event"),e.stopPropagation()}.bind(this)),this.scaleTo(this.bg)},callbackBtnClose:function(){a.playEffect(n.AUDIO_BTN_CLICK),cc.log("RuleView : callbackBtnClose"),this.dismiss()},checkEventsRule:function(e,t){cc.log("RuleView : checkEventsRule,event = "+e+",customEventData ="+t)}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MusicMgr:"MusicMgr"}],ScoreDetailReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_SCORE_DETAIL_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,param:e},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"f460bPPoUdDwZ2HD0LC71Hr","ScoreDetailReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],ScoreDetailRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_SCORE_DETAIL_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param,this.table=this.param.table,this.myself=this.param.myself,this.list=this.param.list)}}cc._RFpush(t,"d9d3eqvEr9GRYMx5gT7w5AO","ScoreDetailRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ScoreListReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_SCORE_LIST_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,param:e},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"70d7dYRmxtFbq8/L9fHB9FC","ScoreListReqPacket");var a=e("MessageReq");e("GameSystem");t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageReq:"MessageReq"}],ScoreListRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_SCORE_LIST_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param,this.iscreate=this.param.iscreate,this.list=this.param.list)}}cc._RFpush(t,"6bc69wV3UZE04QsA4SxvQrt","ScoreListRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],SearchClubReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_SEARCH_CLUB_CMD_ID,this.send=function(e){cc.log("FindRoomReqPacket.send"),this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,key:e.key},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"59ad7nPZS1CWK+opKkhtFJF","SearchClubReqPacket");var a=e("MessageReq");e("GamePlayer"),e("GameSystem");t.exports=i,cc._RFpop()},{GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageReq:"MessageReq"}],SearchClubRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_SEARCH_CLUB_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param)}}cc._RFpush(t,"a8007sAByRNTLX/L4O3bOr8","SearchClubRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ServerKickOutPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_KICK_OUT_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS}}cc._RFpush(t,"84b18IYgKdI2omNPTktRT3W","ServerKickOutPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ServiceView:[function(e,t,s){"use strict";cc._RFpush(t,"328e8CHESdDD6ErIlSNfHgo","ServiceView");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{CommitLayout:{"default":null,type:cc.Layout},HistoryLayout:{"default":null,type:cc.Layout},ServiceOnlineLayout:{"default":null,type:cc.Layout}},onLoad:function(){cc.log("ServiceView : onLoad"),this.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.log("stop event"),e.stopPropagation()}.bind(this)),this.scaleTo(this.bg)},callbackBtnClose:function(){cc.log("ServiceView : callbackBtnClose"),a.playEffect(n.AUDIO_BTN_CLICK),this.dismiss()},callbackBtnLabel:function(e,t){cc.log("ServiceView : callbackBtnLabel,customEventData = "+t),a.playEffect(n.AUDIO_BTN_CLICK),this.switchLayout(t)},switchLayout:function(e){1===e?(this.CommitLayout.node.setVisible(!0),this.HistoryLayout.node.opacity=0,this.ServiceOnlineLayout.node.opacity=0):2===e?(this.CommitLayout.node.setVisible(!1),this.HistoryLayout.node.opacity=255,this.ServiceOnlineLayout.node.opacity=0):(this.CommitLayout.node.opacity=0,this.HistoryLayout.node.opacity=0,this.ServiceOnlineLayout.node.opacity=255)}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MusicMgr:"MusicMgr"}],SettingView:[function(e,t,s){"use strict";cc._RFpush(t,"3080a2YtFRA6r61Eg5ZRAxz","SettingView");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common"),o=e("WeChatApi");e("GameSystem");cc.Class({"extends":i,properties:{MusicSwitch:cc.Toggle,EffectSwitch:cc.Toggle},onLoad:function(){cc.log("SettingView : onLoad"),this.MusicSwitch.isChecked=1==a.getMusicVolume(),this.EffectSwitch.isChecked=1==a.getEffectVolume()},callBackBtnMusic:function(e,t){var s=e.target.getName();cc.log("SettingView.callBackBtnMusic,btnName = "+s);var i=e.isChecked;cc.log("SettingView.callBackBtnMusic,isCheck = "+i),a.playEffect(n.AUDIO_BTN_CLICK),1==t?i?a.setEffectsVolume(1):a.setEffectsVolume(0):2==t&&(i?a.setMusicVolume(1):a.setMusicVolume(0))},callbackBtnClose:function(){cc.log("SettingView:callbackBtnClose"),a.playEffect(n.AUDIO_BTN_CLICK),this.dismiss()},callbackBtnAbout:function(){cc.log("SettingView:callbackBtnAbout"),a.playEffect(n.AUDIO_BTN_CLICK)},callbackBtnExitAccout:function(){cc.log("SettingView:callbackBtnExitAccout"),a.playEffect(n.AUDIO_BTN_CLICK);var e={popView:"SettingView",btn:"BtnExitLogin"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:e}),o.getInstance().clearWeChatLogin(),this.dismiss()}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MusicMgr:"MusicMgr",WeChatApi:"WeChatApi"}],ShareView:[function(e,t,s){"use strict";cc._RFpush(t,"2597cxNdiFJoaVGaAGtQfag","ShareView");var i=e("BasePop"),a=e("MusicMgr"),n=e("Audio_Common"),o=e("WeChatApi");e("GameSystem");window.ShareType=cc.Enum({E_SHARETYPE_STRING:1,E_SHARETYPE_IMAGE:2,E_SHARETYPE_LINK:3,E_SHARETYPE_APP:4}),cc.Class({"extends":i,properties:{},onLoad:function(){this._super(),this.initBaseData()},initBaseData:function(){this.ShareString="",this.ImagePath="",this.Url="",this.ShareType=ShareType.E_SHARETYPE_STRING},callbackBtn:function(e,t){cc.log("ShareView.callbackBtn,CustomEventData = "+t);var s=e.target.getName();cc.log("ShareView.callbackBtn,btnName = "+s),a.playEffect(n.AUDIO_BTN_CLICK),"BtnClose"==s?this.dismiss():"BtnFriends"==s?(this.ShareCallBack(1),this.dismiss()):"BtnWechat"==s&&(this.ShareCallBack(0),this.dismiss())},setShareTyep:function(e,t,s){this.ShareType=e,this.ShareString=t,this.ImagePath=t,this.Url=s},ShareCallBack:function(e){cc.log("ShareCallBack, type="+e+", ShareString="+this.ShareString+", url="+this.Url+", ShareType="+this.ShareType),this.ShareType==ShareType.E_SHARETYPE_STRING?cc.sys.platform==cc.sys.ANDROID?SocialUtils.shareToWeixin(0,"大熊牛友圈",this.ShareString,this.Url):o.getInstance().sendTextContent(e,this.ShareString,this.Url):this.ShareType==ShareType.E_SHARETYPE_IMAGE?cc.sys.platform==cc.sys.ANDROID?SocialUtils.shareToWeixin(2,"大熊牛友圈",this.ShareString,this.Url):o.getInstance().sendImageContent(e,this.ImagePath,this.Url):this.ShareType==ShareType.E_SHARETYPE_LINK?cc.sys.platform==cc.sys.ANDROID?SocialUtils.shareToWeixin(0,"大熊牛友圈",this.ShareString,this.Url):o.getInstance().sendLinkContent(e,this.ShareString,this.Url):this.ShareType==ShareType.E_SHARETYPE_APP&&(cc.sys.platform==cc.sys.ANDROID?SocialUtils.shareToWeixin(e,"大熊牛友圈",this.ShareString,this.Url):o.getInstance().sendAppContent(e,this.ShareString,this.Url))}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MusicMgr:"MusicMgr",WeChatApi:"WeChatApi"}],ShopConfReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_SHOP_CONF_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"82fcaNst7VJjZBS2FDYl2Bg","ShopConfReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],ShopConfRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_SHOP_CONF_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.param=e.param,this.goldlist=this.param.goldlist,this.diamondlist=this.param.diamondlist)}}cc._RFpush(t,"6e125aSHVBFX5nQQG023Z2P","ShopConfRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],ShopView:[function(e,t,s){"use strict";cc._RFpush(t,"83b2elXxURCfq3qlCyPmY61","ShopView");var i=e("BasePop"),a=e("MessageFactory"),n=(e("ProduceCell"),e("MusicMgr")),o=e("Audio_Common");cc.Class({"extends":i,properties:{GoldScrollView:cc.ScrollView,DiamondScrollView:cc.ScrollView,ProduceCell_0:cc.Prefab,ProduceCell_1:cc.Prefab},onLoad:function(){this._super(),a.createMessageReq(window.US_REQ_SHOP_CONF_CMD_ID).send()},onMessage:function(e){cc.log("ShopView.onMessage");var t=e.data,s=t.cmd;switch(s){case US_RESP_SHOP_CONF_CMD_ID:this.onShopConfMsg(t)}},onShopConfMsg:function(e){e.code==SocketRetCode.RET_SUCCESS&&(this.updateGoldList(e.goldlist),this.updateDiamondList(e.diamondlist))},updateGoldList:function(e){this.GoldScrollView.content.removeAllChildren(!0);for(var t=0;t<e.length;t++){var s=cc.instantiate(this.ProduceCell_0);this.GoldScrollView.content.addChild(s),s.setPosition(cc.p(0,0-s.getContentSize().height*(t+.5))),s.getComponent("ProduceCell").setProduceData(0,e[t])}},updateDiamondList:function(e){this.DiamondScrollView.content.removeAllChildren(!0);for(var t=0;t<e.length;t++){var s=cc.instantiate(this.ProduceCell_0);this.DiamondScrollView.content.addChild(s),s.setPosition(cc.p(0,0-s.getContentSize().height*(t+.5))),s.getComponent("ProduceCell").setProduceDataDiamond(1,e[t])}},callBackBtn:function(e,t){this.dismiss(),n.playEffect(o.AUDIO_BTN_CLICK)},callBackBtnToggle:function(e,t){n.playEffect(o.AUDIO_BTN_CLICK),1==t?(this.GoldScrollView.node.active=!0,this.DiamondScrollView.node.active=!1):(this.GoldScrollView.node.active=!1,this.DiamondScrollView.node.active=!0)},initScrollView:function(e){}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",ProduceCell:"ProduceCell"}],SitDownReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_SIT_DOWN_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:n.getInstance().gamesvcid,tableid:n.getInstance().tableid,seatid:e.seatid,"switch":e.status},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this);
}}cc._RFpush(t,"96513vJyz5JuaGZF8gEjRfe","SitDownReqPacket");var a=e("MessageReq"),n=e("GameSystem");t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageReq:"MessageReq"}],SitDownRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_SIT_DOWN_CMD_ID,this.onMessage=function(e){cc.log("SitDownRespPacket.onMessage, msg.totalround=",e.totalround," totaltable=",e.totaltable),this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this["switch"]=e["switch"],this.status=e.status,this.seatid=e.seatid,this.seatuid=e.seatuid,this.name=e.name,this.headurl=e.headurl,this.sex=e.sex,this.coin=e.coin,this.carrytime=e.carrytime,this.iscarry=e.iscarry,this.tstatus=e.tstatus,this.totalround=e.totalround,this.totaltable=e.totaltable,this.win=e.win,this.total=e.total,this.gold=e.gold,this.diamond=e.diamond)}}cc._RFpush(t,"35eaaruYJRLIZ+Amvrorn5m","SitDownRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],SitReqCell:[function(e,t,s){"use strict";cc._RFpush(t,"0fd35TL8KlMopgTBGt3ejVo","SitReqCell");var i=e("MusicMgr"),a=e("Audio_Common"),n=e("UtilTool"),o=e("MessageFactory");e("GamePlayer"),e("GameSystem");cc.Class({"extends":cc.Component,properties:{BtnAgree:cc.Node,BtnRefuse:cc.Node,ReqMsg:cc.RichText,Time:cc.Label,Head:cc.Sprite,Title:cc.Label,RoomInfoView:cc.Prefab},onLoad:function(){this.msg=null,this.msgType=0;var e=this;this.node.on(cc.Node.EventType.TOUCH_END,function(t){if(3==this.msgType)if(0==e.msg.deal){if(3==e.msg.type||4==e.msg.type){var s={type:e.msg.type,msgid:e.msg.id};cc.log("read MsgId=",s.msgid," type=",s.type),o.createMessageReq(US_REQ_SET_MSG_READ_CMD_ID).send(s)}}else cc.log("read MsgId=",s.msgid," type=",s.type," deal=",deal)})},setMessageInfo:function(e,t){cc.log("SitReqCell.setMessageInfo, msg= "+e.msg),this.msg=e,this.msgType=t,UpdateWXHeadIcon(e.url,this.Head),3==this.msgType?1==e.type?this.setMsgSitReq(e):3==e.type?this.setMsgBuyProp(e):4==e.type&&this.setMsgCharge(e):2==this.msgType&&(1==e.type?this.setMsgJoinClub(e):this.setMsgClubOtherMsg(e)),this.Time.string=n.getFormatData(e.time)},setMsgJoinClub:function(e){cc.log("setMsgJoinClub msg=",e),this.Title.string="申请加入",0==e.deal?(this.ReqMsg.string="<color=#646464>"+e.msg.name+"("+e.msg.uid+")申请加入您<color=#0000FF>"+e.name+"</c>("+e.clubid+")</c>",this.BtnAgree.active=!0,this.BtnRefuse.active=!0):(this.BtnAgree.active=!1,this.BtnRefuse.active=!1,1==e.deal?this.ReqMsg.string="<color=#646464>您<color=#FF0000>同意</c>"+e.msg.name+"("+e.msg.uid+")加入<color=#0000FF>"+e.name+"</c>("+e.clubid+")</c>":this.ReqMsg.string="<color=#646464>您<color=#FF0000>拒绝</c>"+e.msg.name+"("+e.msg.uid+")加入<color=#0000FF>"+e.name+"</c>("+e.clubid+")</c>")},setMsgClubOtherMsg:function(e){switch(e.type){case 2:this.Title.string="申请加入";break;case 3:this.Title.string="创建俱乐部";break;case 4:this.Title.string="解散俱乐部";break;case 5:this.Title.string="升级俱乐部";break;case 7:this.Title.string="修改管理员";break;case 8:this.Title.string="删除成员"}this.ReqMsg.string="<color=#646464>"+e.msg.msg+"</c>",this.BtnAgree.active=!1,this.BtnRefuse.active=!1},setMsgCharge:function(e){this.Title.string="充值消息",this.ReqMsg.string="<color=#646464>"+e.msg.msg+"</c>",this.BtnAgree.active=!1,this.BtnRefuse.active=!1},setMsgBuyProp:function(e){this.Title.string="道具消息",this.ReqMsg.string="<color=#646464>"+e.msg.msg+"</c>",this.BtnAgree.active=!1,this.BtnRefuse.active=!1},setMsgSitReq:function(e){cc.log("setMsgSitReq msg=",e),this.Title.string="牌局消息",0==e.deal?(this.ReqMsg.string="<color=#646464>"+e.msg.name+"("+e.msg.situid+")申请携带<color=#FF0000>"+e.msg.coin+"</c>牛友币进入您<color=#0000FF>"+e.msg.privateid+"</c>("+e.name+")牌局</c>",this.BtnAgree.active=!0,this.BtnRefuse.active=!0):1==e.deal?(this.ReqMsg.string="<color=#646464>您<color=#FF0000>同意</c>"+e.msg.name+"("+e.msg.situid+")申请携带<color=#FF0000>"+e.msg.coin+"</c>牛友币进入您<color=#0000FF>"+e.msg.privateid+"</c>("+e.name+")牌局</c>",this.BtnAgree.active=!1,this.BtnRefuse.active=!1):(this.ReqMsg.string="<color=#646464>您<color=#FF0000>拒绝</c>"+e.msg.name+"("+e.msg.situid+")申请携带<color=#FF0000>"+e.msg.coin+"</c>牛友币进入您<color=#0000FF>"+e.msg.privateid+"</c>("+e.name+")牌局</c>",this.BtnAgree.active=!1,this.BtnRefuse.active=!1)},callbackBtn:function(e,t){i.playEffect(a.AUDIO_BTN_CLICK),cc.log("SitReqCell.callbackBtn,CustomEventData = "+t);var s=e.target.getName();cc.log("SitReqCell.callbackBtn,btnName = "+s),"BtnAgree"==s?3==this.msgType?1==this.msg.type&&(this.sendSitMessage(1),this.msg.deal=1,this.setMsgSitReq(this.msg)):1==this.msg.type&&(this.sendAddClubMessage(1),this.msg.deal=1,this.setMsgJoinClub(this.msg)):"BtnRefuse"==s&&(3==this.msgType?1==this.msg.type&&(this.sendSitMessage(2),this.msg.deal=2,this.setMsgSitReq(this.msg)):1==this.msg.type&&(this.sendAddClubMessage(2),this.msg.deal=2,this.setMsgJoinClub(this.msg)))},sendAddClubMessage:function(e){cc.log("SitReqCell.sendAddClubMessage ClubId=",this.msg.clubid," uid=",this.msg.msg.uid," result=",e);var t={uid:this.msg.msg.uid,isallow:e};cc.log("BaseScene.notifyOwnerConfirmSit.data = ",JSON.stringify(t)),o.createMessageReq(window.CLUB_REQ_OWNER_CONFIRM_CMD_ID).send(t,this.msg.clubid)},sendSitMessage:function(e){var t=this.msg.msg,s={gamesvcid:t.gamesvcid,tableid:t.tableid,playeruid:t.situid,privateid:t.privateid,result:e};cc.log("sendSitMessage.SitReqCell data=",s),o.createMessageReq(window.US_REQ_OWNER_CONFIRM_CMD_ID).send(s)}}),cc._RFpop()},{Audio_Common:"Audio_Common",GamePlayer:"GamePlayer",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr",UtilTool:"UtilTool"}],SocketConfig:[function(e,t,s){"use strict";cc._RFpush(t,"0c61cLVNc9NPZRfyjot1lGL","SocketConfig"),window.SocketSeq=0,window.SocketRetCode=cc.Enum({RET_REPEAT_REGISTER:-1e3,RET_NOT_CALL_BANKER:-19,RET_USER_OFFLINE:-18,RET_NOT_CLICK_AGAIN:-17,RET_SEAT_HAVE_PLAYER:-16,RET_SEAT_NOT_EXIST:-15,RET_PLAYER_ACTIVE:-14,RET_PLAYER_HAVE_LEAVE:-13,RET_PARAM_ERROR:-12,RET_DESTROYED_PRIVATE_TBALE:-11,RET_TABLE_FULL:-10,RET_GAME_PLAYER_FULL:-9,RET_GAME_TABLE_FULL:-8,RET_DB_ERROR:-7,RET_NOT_FIND_TABLE:-6,RET_NOT_FIND_GAME_SERVER:-5,RET_SERVER_ABNORMAL:-4,RET_USER_REPEAT_LOGIN:-3,RET_USERKEY_ERROR:-2,RET_ILLEGAL_REQ:-1,RET_SUCCESS:0,RET_BACK_GAME_TABLE:1,RET_GOLD_LACK:2,RET_DIAMOND_LACK:3,RET_COIN_LACK:4,RET_COIN_GREATER_GOLD:5,RET_REJECT_SIT_DOWN:6}),window.SocketRetDesc=cc.Enum({RET_REJECT_SIT_DOWN:"您的请求被拒绝",RET_COIN_GREATER_GOLD:"携带金币大于身上金币",RET_COIN_LACK:"您带入的金币不足,请从新选择带入金币",RET_DIAMOND_LACK:"您钻石不足",RET_GOLD_LACK:"您金币不足",RET_BACK_GAME_TABLE:"您已经在游戏中",RET_SUCCESS:"执行成功",RET_ILLEGAL_REQ:"非法请求",RET_USERKEY_ERROR:"用户验证失败,请重新登录",RET_USER_REPEAT_LOGIN:"您的账号已经在其他地点登录",RET_SERVER_ABNORMAL:"服务异常",RET_NOT_FIND_GAME_SERVER:"未找到匹配的游戏服务器",RET_NOT_FIND_TABLE:"桌子不存在",RET_DB_ERROR:"数据库错误",RET_GAME_TABLE_FULL:"游戏服务器爆满,请稍后再试",RET_GAME_PLAYER_FULL:"桌子里面的玩家已满",RET_TABLE_FULL:"房间已满,请选择其他房间",RET_DESTROYED_PRIVATE_TBALE:"牌局已销毁",RET_PARAM_ERROR:"参数错误",RET_PLAYER_ACTIVE:"您正在游戏中,不能离开",RET_PLAYER_HAVE_LEAVE:"您已经离开",RET_SEAT_NOT_EXIST:"您选择的座位不存在",RET_NOT_CLICK_AGAIN:"请勿频繁点击",RET_SEAT_HAVE_PLAYER:"您选择的座位已经被占领,请从新选择",RET_NOT_CALL_BANKER:"非抢庄状态",RET_USER_OFFLINE:"玩家离线",RET_REPEAT_REGISTER:"服务器重复注册"}),window.PACKET_HEADER_SIZE=18,window.SocketMessage="SocketMessage",window.SOCKETT_SENDMESSAGE="SendMessage",window.MessageType=cc.Enum({SOCKET_MESSAGE:"socket_message",SOCKET_CONNECTING:"socket_connecting",MSG_NETWORK_FAILURE:"socket_network_failure",SOCKET_DISCONNECTED:"socket_disconnected",SOCKET_CONNECTED:"socket_connected",SENDMSG_TIMEOUT:"sendmsg_timeout",SENDMSG_CLOSESERVER:"sendmsg_closeserver",SCENE_MSG:"Scene_Msg"}),window.GameEngineInfo="GameEngineInfo",window.GameInfo={GameHide:"GameHide",GameShow:"GameShow",NetOnline:"NetOnline",NetOffline:"NetOffline"},window.HEART_BEAT_TIME=30,cc._RFpop()},{}],SocketData:[function(e,t,s){"use strict";function i(e){for(var t=0,s=7;s>=0&&e&1<<s;--s)t++;return t}function a(e){if(e<=127)return String.fromCharCode(e);var t=0,s=0,a=255&e;t=i(a);for(var s=0,n=0;n<t;++n){var o=e&255<<8*n;if(o>>>=8*n,0==n)for(var c=1;c<=t;++c)o&=~(1<<8-c);else o=63&o;s+=o<<6*(t-n-1)}return String.fromCharCode(s)}function n(e){if(e<=127)return{code:e,bytelen:1};for(var t=0,s=0;s<32;++s)e&1<<s&&(t=s+1);var i=0;i=Math.ceil(t/6);var a=t%6;a=0==a?6:a,a>7-i&&i++;for(var n=0,s=0;s<i-1;++s){var o=e>>>6*s&63;o=128+o,n+=o<<8*(i-s-1)}for(var o=e>>>6*(i-1),c=0,s=0;s<i;++s)c+=1<<7-s;return n+=c+o,{code:n,bytelen:i}}function o(e){if(0==e.length)return"";for(var t="",s=0;s<e.length;)if(e[s]<=127)t+=a(e[s]),s++;else{for(var n=i(e[s]),o=0,c=0;c<n;++c)o+=e[s+c]<<8*c;t+=a(o),s+=n}return t}function c(e,t,s,i,a){var n=new Object;n.type=e,n.len=t,n.value=s;var o=void 0===i||i;return n.htl=o,n.offset=a,n}function r(e){this.offset=0,this.writeMap=[],this.m_nBufPos=window.PACKET_HEADER_SIZE,this.m_nPacketSize=window.PACKET_HEADER_SIZE,this.aDataArray=null,e&&(this.aDataArray=new DataView(e))}cc._RFpush(t,"e2e9bURTFpBK4SddNO0vs5V","SocketData");var l=[81,161,158,215,30,131,28,45,233,119,61,19,147,16,69,255,109,201,32,47,27,130,26,125,245,207,82,168,210,164,180,11,49,151,87,25,52,223,91,65,88,73,170,95,10,239,136,1,220,149,212,175,123,227,17,142,157,22,97,140,132,60,31,90];String.prototype.toUtf8=function(){for(var e=this.length,t=[],s=0,i=0;i<e;++i){var a=this.charCodeAt(i),o=n(a);s+=o.bytelen,t.push(o)}return{codes:t,bytelens:s}},r.prototype._writeHeaderByte=function(e,t){this.writeMap.push(c("headbyte",1,e,!0,t))},r.prototype._readHeaderByte=function(e){var t=this.aDataArray.getUint8(e,!0);return t},r.prototype._writeHeaderShort=function(e,t){this.writeMap.push(c("headshort",2,e,!1,t))},r.prototype._readHeaderShort=function(e){var t=this.aDataArray.getInt16(e,!1);return t},r.prototype._writeHeaderInt=function(e,t){this.writeMap.push(c("headint",4,e,!1,t))},r.prototype._readHeaderInt=function(e){var t=this.aDataArray.getInt32(e,!1);return t},r.prototype.WriteByte=function(e,t){this.writeMap.push(c("int8",1,e,t))},r.prototype.ReadByte=function(e){if(this.checkReadOut(1))return 0;var t=void 0===e||e,s=this.aDataArray.getUint8(this.offset,t);return this.offset+=1,s},r.prototype.WriteShort=function(e,t){var s=void 0!==t&&t;this.writeMap.push(c("int16",2,e,s))},r.prototype.ReadShort=function(e){if(this.checkReadOut(2))return 0;var t=void 0!==e&&t,s=this.aDataArray.getInt16(this.offset,t);return this.offset+=2,s},r.prototype.WriteInt=function(e,t){var s=void 0!==t&&t;this.writeMap.push(c("int32",4,e,s))},r.prototype.ReadInt=function(e){if(this.checkReadOut(4))return 0;var t=void 0!==e&&e,s=this.aDataArray.getInt32(this.offset,t);return this.offset+=4,s},r.prototype.WriteInt64=function(e,t){var s=void 0!==t&&t;this.writeMap.push(c("int64",8,e,s))},r.prototype.ReadInt64=function(e){if(this.checkReadOut(8))return 0;var t=void 0!==e&&e,s=this.aDataArray.getUint32(this.offset,t);this.offset+=4;var i=this.aDataArray.getUint32(this.offset,t);this.offset+=4;var a=new Long(i,s,(!1));return a.toNumber()},r.prototype.WriteString=function(e,t){var s=void 0!==t&&t,i=e.toUtf8();this.writeMap.push(c("string",i.bytelens+4+1,i,s))},r.prototype.ReadString=function(e){if(this.checkReadOut(4))return"";var t=this.aDataArray.getInt32(this.offset);this.offset+=4;for(var s=[],i=0;i<t;++i){var a=this.ReadByte();s.push(a)}return o(s)},r.prototype.getAllLength=function(){for(var e=window.PACKET_HEADER_SIZE,t=0;t<this.writeMap.length;++t)this.writeMap[t].type.indexOf("head")==-1&&(e+=this.writeMap[t].len);return e},r.prototype.checkReadOut=function(e){return this.offset+e>this.aDataArray.byteLength},r.prototype._getbuffer=function(){var e=this.getAllLength(),t=new ArrayBuffer(e);this.aDataArray=new DataView(t);for(var s=window.PACKET_HEADER_SIZE,i=0;i<this.writeMap.length;++i){var a=this.writeMap[i].value,n=this.writeMap[i].htl;switch(this.writeMap[i].type){case"headbyte":this.aDataArray.setUint8(this.writeMap[i].offset,a,n);break;case"headshort":this.aDataArray.setInt16(this.writeMap[i].offset,a,n);break;case"headint":this.aDataArray.setInt32(this.writeMap[i].offset,a,n);break;case"int8":this.aDataArray.setUint8(s,a,n),s+=1;break;case"int16":this.aDataArray.setInt16(s,a,n),s+=2;break;case"int32":this.aDataArray.setInt32(s,a,n),s+=4;break;case"string":this.aDataArray.setInt32(s,this.writeMap[i].value.bytelens+1,n),s+=4;for(var o=this.writeMap[i].value.codes,c=0;c<o.length;++c)for(var r=o[c].code,l=o[c].bytelen,d=0;d<l;++d){var u=r>>8*d&255;this.aDataArray.setUint8(s,u),s+=1}this.aDataArray.setUint8(s,0),s+=1;break;case"int64":for(var h=Long.fromValue(this.writeMap[i].value,n),_=h.toBytesBE(),g=0;g<_.length;g++)this.aDataArray.setUint8(s+g,_[g]);s+=8}}return this.m_nPacketSize=s,t},r.prototype.setOffset=function(e){this.offset=e},r.prototype._reset=function(){this.offset=0,this.writeMap=[],this.m_nBufPos=window.PACKET_HEADER_SIZE,this.m_nPacketSize=window.PACKET_HEADER_SIZE,this.m_isCheckCode=!1},r.prototype.Begin=function(e,t,s){this._begin(e,t,s),this.m_isCheckCode=!1},r.prototype._begin=function(e,t,s){this._reset();var i=e,t=t,a=window.SOURCE_TYPE;this._writeHeaderByte(s,4),this._writeHeaderShort(i,5),this._writeHeaderByte(a,11);var n=window.GAME_ID;this._writeHeaderByte(n,12),this._writeHeaderInt(t,13)},r.prototype.SetOptType=function(e){this._writeHeaderByte(e,12)},r.prototype.End=function(){this.m_isCheckCode=!1,this._end()},r.prototype._end=function(){var e=this.getAllLength()-4,t=e;this._writeHeaderInt(t,0);var s=0;this._writeHeaderByte(s,17)},r.prototype.IsWriteCheckCode=function(){return this.m_isCheckCode},r.prototype.GetBodyLength=function(){var e;return e=this._readHeaderInt(0)},r.prototype.EncryptBuffer=function(){if(!this.IsWriteCheckCode()){this._getbuffer();var e=this.GetBodyLength()-window.PACKET_HEADER_SIZE+4,t=Math.floor(Math.random()*window.MAX_ENCRYPT_MAP);t=0;for(var s=l[t],i=0,a=0;a<e;a++){var n=this.aDataArray.getUint8(window.PACKET_HEADER_SIZE+a,!0);i+=n,i&=255,n^=s,n&=255,this.aDataArray.setUint8(window.PACKET_HEADER_SIZE+a,n,!0)}return this.SetEnCode(t),this.WriteCheckCode(~i+1&255),this.aDataArray.buffer}},r.prototype.CrevasseBuffer=function(){var e=this.GetBodyLength()-window.PACKET_HEADER_SIZE+4,t=this.GetEnCode();if(t>=window.MAX_ENCRYPT_MAP)return-1;for(var s=l[t],i=this.GetCheckCode(),a=0;a<e;a++){var n=this.aDataArray.getUint8(window.PACKET_HEADER_SIZE+a,!0);n&=255,n^=s,i&=255,i+=n,this.aDataArray.setUint8(window.PACKET_HEADER_SIZE+a,n,!0)}return 0!=(255&i)?-1:e},r.prototype.SetEnCode=function(e){this.aDataArray.setUint8(8,e,!0)},r.prototype.GetEnCode=function(){var e=this._readHeaderByte(8);return e},r.prototype.WriteCheckCode=function(e){this.aDataArray.setUint8(17,e,!0),this.m_isCheckCode=!0},r.prototype.GetCheckCode=function(){var e=this._readHeaderByte(17);return e},r.prototype.Reset=function(){this._reset()},r.prototype.GetCmdType=function(){var e=this._readHeaderShort(5);return e},t.exports=r,cc._RFpop()},{}],SocketManager:[function(e,t,s){"use strict";function i(){this.m_socket=null,this.isSocketConnected=!1,this.socketListenerID=-1,this.netConnected=!0,this.onListenMessageToSend(),this.onNetCheckListener()}function a(e){var t=AES.utils.utf8.toBytes(e),s=new AES.ModeOfOperation.ofb(o.getInstance().aesKey,o.getInstance().iv),i=s.encrypt(t);return i}function n(e){var t=new AES.ModeOfOperation.ofb(o.getInstance().aesKey,o.getInstance().iv),s=new Uint8Array(e,0,e.byteLength),i=t.decrypt(s),a=AES.utils.utf8.fromBytes(i);return a}cc._RFpush(t,"bcca1j6kqpKqbt11NNhQxFX","SocketManager");var o=e("GameSystem"),c=(e("SocketData"),e("MessageFactory"));i.prototype.startSocket=function(e){cc.log("SocketManager.startSocket,url = "+o.getInstance().webSocketUrl),this.isSocketConnected=!1,this.connectSocket(o.getInstance().webSocketUrl)},i.prototype.reStartSocket=function(){cc.log("SocketManager.reStartSocket,url = "+o.getInstance().webSocketUrl),this.isSocketConnected=!1,this.connectSocket(o.getInstance().webSocketUrl)},i.prototype.onListenMessageToSend=function(){if(cc.log("SocketManager.onListenMessageToSend"),this.socketListenerID==-1){var e=this;this.socketListenerID=GlobalEventManager.getInstance().addEventListener(window.SOCKETT_SENDMESSAGE,function(t){cc.log("SocketManager.onListenMessageToSend event listener."),t&&e.sendMessage(t)},this)}},i.prototype.onNetCheckListener=function(){cc.log("SocketManager.onNetCheckListener");var e=this;GlobalEventManager.getInstance().addEventListener(window.GameEngineInfo,function(t){if(t){var s=t.tag;s==window.GameInfo.NetOnline?e.netConnected=!0:s==window.GameInfo.NetOffline&&(e.netConnected=!1)}},this)},i.prototype.connectSocket=function(e){cc.log("SocketManager.connectSocket, url = "+e);var t=this;o.getInstance().aesKey=AES.utils.utf8.toBytes(o.getInstance().defaultKey),this.m_socket=new WebSocket(e),this.m_socket.binaryType="arraybuffer",this.m_socket.onopen=function(e){t.isSocketConnected=!0,cc.log("SocketManager.connectSocket,socket connected"),GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SOCKET_CONNECTED})},this.m_socket.onerror=function(e){t.isSocketConnected=!1,cc.warn("SocketManager.connectSocket,socket error"),GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.MSG_NETWORK_FAILURE})},this.m_socket.onclose=function(e){t.isSocketConnected=!1,cc.warn("SocketManager.connectSocket,socket disconnect"),GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SOCKET_DISCONNECTED})},this.m_socket.onmessage=function(e){var t=n(e.data);cc.log("SocketManager.connectSocket ,socket rec message, data = ",t);var s=JSON.parse(t),i=s.cmd,a=c.createMessageResp(i);return void 0==a?void cc.warn("SocketManager.connectSocket , message = undefined"):(a.onMessage(s),void GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SOCKET_MESSAGE,data:a}))}},i.prototype.disconnect=function(){cc.log("SocketManager.connectSocket "),this.m_socket&&this.isConnected()&&this.netConnected&&(this.m_socket.close(),this.m_socket=null,this.isSocketConnected=!1)},i.prototype.sendMessage=function(e){if(cc.log("SocketManager.sendMessage "),!this.netConnected)return void cc.warn("ocketManager.sendMessage,网络尚未连接 socket发送失败");if(!this.isSocketConnected)return void cc.warn("ocketManager.sendMessage,socket 尚未连接上");if(null==this.m_socket)return void cc.warn("ocketManager.sendMessage,没有创建socket");if(this.m_socket.readyState===WebSocket.OPEN){cc.log("SocketManager.sendMessage,cmd == 0x0%s",e.data.cmd.toString(16));var t=JSON.stringify(e.data);cc.log("SocketManager.sendMessage,str = %s",t.toString());var s=a(t);this.m_socket.send(s)}else cc.warn("ocketManager.sendMessage,socket 状态关闭")},i.prototype.isConnected=function(){return this.isSocketConnected},i.prototype.base64String=function(e){return BASE64.encoder(e)};var r=function(){function e(){return void 0===t&&(t=new i),t}var t;return{getInstance:e}}();t.exports=r,cc._RFpop()},{GameSystem:"GameSystem",MessageFactory:"MessageFactory",SocketData:"SocketData"}],StartGameReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_GAME_SWITCH_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid,gamesvcid:n.getInstance().gamesvcid,tableid:n.getInstance().tableid,isstart:e.isstart},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"c7f59cPbf1BDZ096verEiKZ","StartGameReqPacket");var a=e("MessageReq"),n=e("GameSystem");t.exports=i,cc._RFpop()},{GameSystem:"GameSystem",MessageReq:"MessageReq"}],StartGameRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_GAME_SWITCH_CMD_ID,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.isstart=e.isstart}}cc._RFpush(t,"38118+ym3JCjoZIcrN/yn/h","StartGameRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],SuccessCell:[function(e,t,s){"use strict";cc._RFpush(t,"6d0025UYOpBRqsI6OX7hIVO","SuccessCell");var i=e("UtilTool"),a=e("MusicMgr"),n=e("Audio_Common");e("GameSystem");cc.Class({"extends":cc.Component,properties:{dayLabel:cc.Label,monthLabel:cc.Label,timeLabel:cc.Label,RoomName:cc.Label,UserName:cc.Label,CarryCoin:cc.Label,RoomTime:cc.Label,WinScore:cc.Label,Head:cc.Sprite},onLoad:function(){this.msg=null},setCellInfo:function(e){this.msg=e;var t=new Date;t.setTime(1e3*e.createtime),this.dayLabel.string=t.getDate()+"日",this.monthLabel.string=t.getMonth()+1+"月",this.timeLabel.string=i.getTimeData(t.getHours())+":"+i.getTimeData(t.getMinutes()),this.RoomName.string=e.privateid+" ("+e.tablename+")",this.RoomName.fontSize=40,this.UserName.string=e.ownername,this.CarryCoin.string="带入"+e.carrycoin,e.livetime<1800?this.RoomTime.string=e.livetime/60+"分钟局":this.RoomTime.string=e.livetime/3600+"小时局",UpdateWXHeadIcon(e.headurl,this.Head),e.wincoin>0?this.WinScore.string="+"+e.wincoin:0==e.wincoin?(this.WinScore.string=e.wincoin,this.WinScore.node.color=new cc.Color(204,160,41,255)):(this.WinScore.string=e.wincoin,this.WinScore.node.color=cc.Color.GREEN)},callBackBtn:function(e,t){a.playEffect(n.AUDIO_BTN_CLICK)}}),cc._RFpop()},{Audio_Common:"Audio_Common",GameSystem:"GameSystem",MusicMgr:"MusicMgr",UtilTool:"UtilTool"}],SuccessView:[function(e,t,s){"use strict";cc._RFpush(t,"5afaawzjvdLRbkRiiuJ1taG","SuccessView");var i=e("BasePop"),a=e("MessageFactory"),n=e("MusicMgr"),o=e("Audio_Common");e("GameSystem");cc.Class({"extends":i,properties:{SuccessCell:cc.Prefab,scrollView:cc.ScrollView,RoomInfoView:cc.Prefab},onLoad:function(){this._super();var e={iscreate:0,start:0,total:50};a.createMessageReq(window.US_REQ_SCORE_LIST_CMD_ID).send(e)},onMessage:function(e){cc.log("SuccessView.onMessage");var t=e.data,s=t.cmd;switch(s){case US_RESP_SCORE_LIST_CMD_ID:this.onScoreListMsg(t)}},onScoreListMsg:function(e){if(e.code==SocketRetCode.RET_SUCCESS){for(var t=0,s=0;null!=e.list&&s<e.list.length;s++){var i=cc.instantiate(this.SuccessCell);this.scrollView.content.addChild(i),t=i.getContentSize().height,i.setPosition(cc.p(0,0-i.getContentSize().height*(s+.5))),i.getComponent("SuccessCell").setCellInfo(e.list[s]);var a=this;i.on(cc.Node.EventType.TOUCH_END,function(e){a.createSuccessCellView(e.target.getComponent("SuccessCell").msg)}.bind(this))}var n=this.scrollView.content.getChildrenCount()+1;t*n>this.scrollView.content.height&&(this.scrollView.content.height=t*n)}},createSuccessCellView:function(e){var t=cc.instantiate(this.RoomInfoView);cc.director.getScene().addChild(t);var s=cc.director.getWinSize();t.setPosition(cc.p(s.width/2,s.height/2)),t.getComponent("RoomInfoView").sendGetSuccessDetail(e)},callbackBtn:function(e,t){var s=e.target.getName();cc.log("SuccessView.callbackBtn,btnName = "+s);cc.director.getWinSize();n.playEffect(o.AUDIO_BTN_CLICK),"BtnClose"==s&&this.dismiss()},callbackToggle:function(e,t){n.playEffect(o.AUDIO_BTN_CLICK),this.scrollView.content.removeAllChildren(!0);var s={iscreate:Number(t),start:0,total:20};a.createMessageReq(window.US_REQ_SCORE_LIST_CMD_ID).send(s)}}),cc._RFpop()},{Audio_Common:"Audio_Common",BasePop:"BasePop",GameSystem:"GameSystem",MessageFactory:"MessageFactory",MusicMgr:"MusicMgr"}],ToastView:[function(e,t,s){"use strict";cc._RFpush(t,"d9defR5Fr9O373EPbDY37YE","ToastView");var i=cc.Class({"extends":cc.Component,properties:{tipText:null,viewNode:null},show:function(e,t){if(""!=e){var s=this;window.loadPrefabs("prefabs/toastView",function(i){s.updateView(i,e,t)})}},updateView:function(e,t,s){void 0===s&&(s=1),this.viewNode=e,this.tipText=cc.find("txt",e).getComponent(cc.Label);var i=cc.find("bg",e),a=cc.find("txt",e);this.tipText.string=t;var n=a.width+40<i.width?i.width:a.width+40,o=a.height+30<i.height?i.height:a.height+30;i.setContentSize(n,o);var c=cc.fadeIn(.5),r=cc.delayTime(s),l=cc.fadeOut(.5),d=cc.sequence(c,r,l,cc.callFunc(this.dismiss,this));this.viewNode.runAction(d),window.scaleTo(e)},setTips:function(e){void 0!=this.tipText&&(this.tipText.string=e)},dismiss:function(){null!=this.viewNode&&(this.viewNode.removeFromParent(!0),this.viewNode=null)},removeFromParent:function(e){this.dismiss()}}),a={show:function(e,t){return this.view=new i,this.view.show(e,t),this.view}};t.exports=a,cc._RFpop()},{}],UIUtil:[function(e,t,s){"use strict";cc._RFpush(t,"5b7a0limodM4ovWaZtavlWs","UIUtil");e("GameSystem");window.scaleTo=function(e,t){e.setScale(.6);var s=null;s=cc.scaleTo(.2,1).easing(cc.easeBackOut()),e.runAction(s)},window.moveViewIn=function(e,t){e.setPosition(cc.p(0,-540));var s=cc.moveTo(.2,cc.p(0,0));e.runAction(s)};var i=new Map;window.loadPrefabs=function(e,t,s){s=void 0===s?1:s;var a=i.containsKey(e);return a&&i.get(e).p==s?void cc.log("%s,已经加载中",e):(i.set(e,{p:s}),void cc.loader.loadRes(e,function(a,n){if(i["delete"](e),a)return void cc.error(e+" 加载失败");var o=cc.instantiate(n);1!=s?s.addChild(o):cc.director.getScene().addChild(o),t&&t(o)}))},window.loadImg=function(e,t,s){var i=void 0===s?cc.SpriteFrame:s;cc.loader.loadRes(e,i,function(s,i){return s?void cc.error("-------------------------------------"+e+" 资源加载失败-----------------------"):void(t&&t(i))})},window.CheckPerChar=function(e){return e>=48&&e<=57||e>=64&&e<=90||e>=97&&e<=122||"_"==e},window.C1=85742,window.C2=76343,window.KEY=3965,window.CheckAccPwd=function(e){for(var t=0;t<e.length;t++){var s=e[t].charCodeAt();if(!CheckPerChar(s))return!1}return!0},window.Encrypt=function(e,t){for(var s="",i=0;i<e.length;i++){var a=e.charCodeAt(i);a^=t>>8,a=String.fromCharCode(a),s+=a}for(e=s,s="",i=0;i<e.length;i++){var n=e.charCodeAt(i);a="12";var o=65+Math.floor(n/26),c=65+n%26;s=s+String.fromCharCode(o)+String.fromCharCode(c)}return s},window.Decrypt=function(e,t){for(var s="",i=0;i<e.length/2;i++){var a=26*(e.charCodeAt(2*i)-65);a+=e.charCodeAt(2*i+1)-65;var n=String.fromCharCode(a);s+=n}e=s;var o="";for(i=0;i<e.length;i++){var n=e.charCodeAt(i);n^=t>>8,n=String.fromCharCode(n),o+=n}return o},window.UpdateHeadIcon=function(e,t){var s=t.iconID;if(0==s){var i=1==t.sex,a=i?"hall/userCenterView/headIcon/user_headicon3":"hall/userCenterView/headIcon/user_headicon0";window.loadImg(a,function(t){e.spriteFrame=t})}else if(s>0&&s<=6){var a="hall/userCenterView/headIcon/user_headicon%d";a=a.replace(/%d/,s-1),window.loadImg(a,function(t){e.spriteFrame=t})}},window.UpdateWXHeadIcon=function(e,t){""!=e&&" "!=e&&cc.loader.load(e,function(e,s){cc.log("UpdateWXHeadIcon,error = "+e),cc.log("UpdateWXHeadIcon,texture = "+s);var i=new cc.SpriteFrame(s);t.spriteFrame=i})},window.playAniOnce=function(e,t){var s=cc.instantiate(e);return t?t.addChild(s):cc.director.getScene().addChild(s),s},window.getDisplayStringLenth=function(e){if(void 0==e||""==e)return 0;for(var t=0,s=0;s<e.length;)e[s]<0?(s+=3,t+=2):(s+=1,++t);return t},window.assert=function(e){e||cc.error("!!!!!!!!!!!!!! assert error！！！！！！！！！！！")},window.FindNode=function(e,t){return cc.find(t,e)},window.splitString=function(e,t,s){for(var i=[],a=e.length,n=0,o=0,c=0,r="",l=0;l<a;l++){var d=n*t;d+t>s?(o=l,r=e.slice(c,o),c=o,n=0,i.push(r)):l==a-1&&(o=l+1,r=e.slice(c,o),i.push(r),n=0),n++}return i},window.ReadMoney=function(e){for(var t=e+"",s=[],i=0,a=t.length-1;a>=0;a--)i++,s.push(t.charAt(a)),3==i&&0!=a&&(s.push(","),i=0);for(var n="",a=s.length-1;a>=0;a--)n+=s[a];return n},window.GetGameName=function(e){return e==window.ServerType.E_SIX_BULLFIGHT_TYPE?"六人斗牛":"游戏"},window.GetGameType=function(e){return 1==e?"闭牌抢庄":2==e?"3张抢庄":""},cc._RFpop()},{GameSystem:"GameSystem"}],UserDetailReqPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_REQ_USER_DETAIL_CMD_ID,this.send=function(e){this.data={cmd:this.cmd,seq:this.seq,uid:this.uid},GlobalEventManager.getInstance().emitEvent(window.SOCKETT_SENDMESSAGE,this)}}cc._RFpush(t,"53ca8g0TEJEkpxXxGdZoBSq","UserDetailReqPacket");var a=e("MessageReq");t.exports=i,cc._RFpop()},{MessageReq:"MessageReq"}],UserDetailRespPacket:[function(e,t,s){"use strict";function i(){a.apply(this,[]),this.cmd=window.US_RESP_USER_DETAIL_CMD_ID,this.gold=0,this.diamond=0,this.playcount=0,this.wincount=0,this.losecount=0,this.tablecount=0,this.onMessage=function(e){this.seq=e.seq,this.uid=e.uid,this.code=e.code,this.desc=e.desc,this.code<SocketRetCode.RET_SUCCESS||(this.gold=e.gold,this.diamond=e.diamond,this.playcount=e.playcount,this.wincount=e.wincount,this.losecount=e.losecount,this.tablecount=e.tablecount)}}cc._RFpush(t,"52426rNPl9Mfp/yTBlk3rbz","UserDetailRespPacket");var a=e("MessageResp");t.exports=i,cc._RFpop()},{MessageResp:"MessageResp"}],UtilTool:[function(e,t,s){"use strict";cc._RFpush(t,"08e2d2dTH1Pwq0x7Yaotm5g","UtilTool");var i={getNowFormatDate:function(){var e=new Date,t="-",s=":",i=e.getMonth()+1,a=e.getDate();i>=1&&i<=9&&(i="0"+i),a>=0&&a<=9&&(a="0"+a);var n=e.getFullYear()+t+i+t+a+" "+e.getHours()+s+e.getMinutes()+s+e.getSeconds(),o=e.getHours()+s+e.getMinutes()+s+e.getSeconds();return cc.log("UtilTool.getNowFormatDate,date = "+o+" "+n),n},getFormatData:function(e){var t=new Date;return t.setTime(1e3*e),t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},getFormatDataDetail:function(e){var t=new Date;return t.setTime(1e3*e),t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()+"  "+this.getTimeData(t.getHours())+":"+this.getTimeData(t.getMinutes())+":"+this.getTimeData(t.getSeconds())},getTimeData:function(e){return(Array(2).join(0)+e).slice(-2)},captureScreen:function(e,t,s){if(cc.log("UtilTool.screenShot"),cc.sys.isNative){var i=jsb.fileUtils.getWritablePath()+"ScreenShoot/";jsb.fileUtils.isDirectoryExist(i)||jsb.fileUtils.createDirectory(i);var a=("ScreenShoot-"+(new Date).valueOf()+".png",i+e),n=cc.winSize,o=cc.RenderTexture.create(n.width,n.height);o.begin(),cc.director.getScene()._sgNode.visit(),o.end(),o.saveToFile("ScreenShoot/"+e,cc.IMAGE_FORMAT_PNG,!0,function(){cc.log("save succ"),s&&s(a)}),cc.log("filepath = "+a)}},dealImage:function(e,t,s){var i=new Image;i.src=e,i.onload=function(){var e=this,i=e.width,a=e.height,n=i/a;i=t.width||i,a=t.height||i/n;var o=.7,c=document.createElement("canvas"),r=c.getContext("2d"),l=document.createAttribute("width");l.nodeValue=i;var d=document.createAttribute("height");d.nodeValue=a,c.setAttributeNode(l),c.setAttributeNode(d),r.drawImage(e,0,0,i,a),t.quality&&t.quality<=1&&t.quality>0&&(o=t.quality),cc.log("quality = ",o);var u=c.toDataURL("image/png",o);s(u)}},getTime:function(e){var t=parseInt(e/60/60),s=parseInt((e-3600*t)/60),i=e-3600*t-60*s;return this.getTimeData(t)+":"+this.getTimeData(s)+":"+this.getTimeData(i)},getHourTime:function(e){if(e<1800){var e=parseFloat(e/60);return e+"min"}var t=parseFloat(e/60/60);return t+"h"}};t.exports=i,cc._RFpop()},{}],VoicePlayView:[function(e,t,s){"use strict";cc._RFpush(t,"41f62BbEZ1MM71qqAil02JO","VoicePlayView"),cc.Class({"extends":cc.Component,properties:{Time:cc.Label,VoiceValue:cc.Sprite,VoiceValueFrame:[cc.SpriteFrame]},onLoad:function(){this.time=0,this.setTime(0)},setTime:function(e){this.time=e,this.schedule(this.updateTime,1)},updateTime:function(){this.time++,this.time<0&&(this.unschedule(this.updateTime),this.dismiss()),this.Time.string=this.time+'"',this.updateVoiceValue(),this.time>30&&this.dismiss()},updateVoiceValue:function(){this.VoiceValue.spriteFrame=this.VoiceValueFrame[this.time%3]},dismiss:function(){var e={popView:"VoicePlayView",btn:"dismiss"};GlobalEventManager.getInstance().emitEvent(window.SocketMessage,{tag:window.MessageType.SCENE_MSG,data:e}),this.unschedule(this.updateTime),this.node.removeFromParent(!0)}}),cc._RFpop()},{}],VoiceView:[function(e,t,s){"use strict";cc._RFpush(t,"77b75DJxXFIcqVKxns6L0FR","VoiceView");var i=e("GameCallOC");cc.Class({"extends":cc.Component,properties:{Time:cc.Label,VoiceValue:[cc.Sprite]},onLoad:function(){this.time=30,this.startVoiceTime(),i.getInstance().StartRecord(3e4)},startVoiceTime:function(){this.schedule(this.updateVoiceTime,1)},updateVoiceTime:function(){this.time--,this.Time.string=this.time+'"',this.updateVoiceValue(),0==this.time&&this.dismiss()},setVoiceValue:function(e){for(var t=0;t<3;t++)this.VoiceValue[t].node.active=t<e},updateVoiceValue:function(){for(var e=0;e<3;e++)this.VoiceValue[e].node.active=e<=this.time%3;
},dismiss:function(){cc.log("dismiss"),i.getInstance().StopRecording(),this.unschedule(this.updateVoiceTime),this.node.removeFromParent(!0)}}),cc._RFpop()},{GameCallOC:"GameCallOC"}],WeChatApi:[function(e,t,s){"use strict";function i(){}cc._RFpush(t,"7a53c5YqUpKcoIRJV2NF/q2","WeChatApi");var a=e("GameCallOC"),n=(e("LoadingView"),e("HttpManager"),e("Platform"),e("GamePlayer")),o=e("SocketManager");i.prototype.sendWeChatLogin=function(){if(cc.log("wxApi.prototype.sendTextContent "),cc.sys.platform==cc.sys.ANDROID)SocialUtils.loginWeixin();else if(cc.sys.isNative&&a.getInstance().checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","sendWeChatLogin");return cc.log("ret:%s",e),e}},i.prototype.sendTextContent=function(e,t,s){if(cc.log("wxApi.prototype.sendTextContent "),cc.sys.isNative&&a.getInstance().checkIsAble()){var i=jsb.reflection.callStaticMethod("LocalInfo","sendTextContent:desc:url:",e,t,s);return cc.log("ret:%s",i),i}},i.prototype.sendImageContent=function(e,t,s){if(cc.log("wxApi.prototype.sendImageContent "),cc.sys.isNative&&a.getInstance().checkIsAble()){var i=jsb.reflection.callStaticMethod("LocalInfo","sendImageContent:desc:url:",e,t,s);return cc.log("ret:%s",i),i}},i.prototype.sendLinkContent=function(e,t,s){if(cc.log("wxApi.prototype.sendLinkContent "+e+","+t+","+s),cc.sys.isNative&&a.getInstance().checkIsAble()){var i=jsb.reflection.callStaticMethod("LocalInfo","sendLinkContent:desc:url:",e,t,s);return cc.log("ret:%s",i),i}},i.prototype.sendAppContent=function(e,t,s){if(cc.log("wxApi.prototype.sendAppContent "+e+","+t+","+s),cc.sys.isNative&&a.getInstance().checkIsAble()){var i=jsb.reflection.callStaticMethod("LocalInfo","sendAppContent:desc:url:",e,t,s);return cc.log("ret:%s",i),i}},i.prototype.clearWeChatLogin=function(){if(cc.log("wxApi.prototype.clearWeChatLogin "),cc.sys.isNative&&a.getInstance().checkIsAble()){var e=jsb.reflection.callStaticMethod("LocalInfo","clearWeChatLogin");return cc.log("ret:%s",e),e}},i.prototype.weChatPay=function(e,t){if(cc.log("wxApi.prototype.weChatPay, goodid="+e+", openid="+t),cc.sys.platform==cc.sys.ANDROID)c.getInstance().weChatPayForAndroid(e,t);else if(cc.sys.isNative&&a.getInstance().checkIsAble()){var s=jsb.reflection.callStaticMethod("LocalInfo","weChatPay:openid:",e,t);return cc.log("ret:%s",s),s}},i.prototype.weChatPayForAndroid=function(e,t){cc.log("weChatPayForAndroid, gooid="+e+", uid="+t);var s="http://manage.aqddp.cn/wxpay/example/pay.php?good_id="+e+"&openid="+t,i=cc.loader.getXMLHttpRequest();i.open("GET",s,!0),i.onreadystatechange=function(){if(4==i.readyState&&i.status>=200&&i.status<=207){var e=JSON.parse(i.responseText);if(0==e.code){var t=(e.order.order_num,e.order.appid),s=e.order.orderinfo.partnerId,a=e.order.orderinfo.prepayId,n=e.order.orderinfo.nonceStr,o=e.order.orderinfo.timeStamp,c=e.order.orderinfo.sign;cc.log("appid="+t),cc.log("partnerId="+s),cc.log("prepayId="+a),cc.log("nonceStr="+n),cc.log("timeStamp="+o),cc.log("sign="+c),SocialUtils.payWeixin(s,a,n,o,c)}else cc.error("error code="+e.code)}else console.log("error readyState="+i.readyState)}.bind(this),i.ontimeout=function(e){console.log("timeout")},i.onerror=function(){console.log("error")},i.send()},i.prototype.wxLoginSuccess=function(e,t,s,i,a){n.getInstance().unionid=t,n.getInstance().openid=e,n.getInstance().name=s,n.getInstance().headurl=i+".png",n.getInstance().sex=Number(a),o.getInstance().startSocket()},i.prototype.wxGetCode=function(e,t){cc.log("onGetCode, success="+e+", code="+t);var s="https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxd0d94b9ff6c2894d&secret=6a3b706a62833ae8c46158c01e2ee0db&code="+t+"&grant_type=authorization_code",i=cc.loader.getXMLHttpRequest();i.open("GET",s,!0),i.onreadystatechange=function(){if(4==i.readyState&&i.status>=200&&i.status<=207){console.log("xhr.responseText="+i.responseText);var e=JSON.parse(i.responseText),t=e.access_token,s=e.openid,a=e.unionid;cc.log("access_token="+t),cc.log("openid="+s),cc.log("unionid="+a);var n="https://api.weixin.qq.com/sns/userinfo?access_token="+t+"&openid="+s,o=cc.loader.getXMLHttpRequest();o.open("GET",n,!0),o.onreadystatechange=function(){if(4==o.readyState&&o.status>=200&&o.status<=207){cc.log("xhr2.responseText="+o.responseText);var e=JSON.parse(o.responseText);if(void 0==e.nickname||void 0==e.headimgurl)return void cc.error("error");c.getInstance().wxLoginSuccess(s,a,e.nickname,e.headimgurl,e.sex)}}.bind(this),o.ontimeout=function(e){console.log("timeout")},o.onerror=function(){console.log("error")},o.send()}else console.log("error readyState="+i.readyState)}.bind(this),i.ontimeout=function(e){console.log("timeout")},i.onerror=function(){console.log("error")},i.send()},i.prototype.onWXPay=function(){cc.log("onWXPay")},i.prototype.onWXPayResponse=function(e){cc.log("onWXPayResponse, code="+e)};var c=function(){function e(){return void 0===t&&(t=new i),t}var t;return{getInstance:e}}();t.exports=c,cc._RFpop()},{GameCallOC:"GameCallOC",GamePlayer:"GamePlayer",HttpManager:"HttpManager",LoadingView:"LoadingView",Platform:"Platform",SocketManager:"SocketManager"}],WebView:[function(e,t,s){"use strict";cc._RFpush(t,"e5799CE3pNGi5mV/ycf1TE0","WebView");var i=e("BasePop");cc.Class({"extends":i,properties:{WebView:cc.WebView},onLoad:function(){this._super(),this.LeftInTo(this.node)},calllbackBtn:function(e,t){var s=e.target.getName();"BtnClose"==s&&this.dismiss()},setWebViewUrl:function(e){this.WebView.url=e}}),cc._RFpop()},{BasePop:"BasePop"}]},{},["BaseView","AdvertItem","AlertView","BasePop","ChineseCity","ClubAddView","ClubAreaCell","ClubAreaView","ClubCell","ClubCreateView","ClubFindPopView","ClubInfoView","ClubJoinView","ClubLevelCell","ClubLevelView","ClubMemberPermissionView","ClubMemberView","ClubPersonsCell","ClubPersonsView","ClubRoomView","ClubSetView","ClubUpgradView","ClubView","CusWebView","FindView","GamblingHouseCell","LoadingView","MessageCell","MessageCellDetailView","MessageDetailView","MessageView","MineView","NetMsg","NoticeView","PickerAddressView","PlayScore","ProduceCell","ReferralCodeView","RollMsg","RoomInfoView","RuleView","ServiceView","SettingView","ShareView","ShopView","SitReqCell","SuccessCell","SuccessView","ToastView","VoicePlayView","VoiceView","WebView","BaseScene","HallScene","LoadingScene","Audio_Common","ButtonScaler","GameSystem","Poker","ProgressSlider","UIUtil","UtilTool","Bullfight_BetCoinReqPacket","Bullfight_CallBankerReqPacket","Bullfight_GetPlayersListReqPacket","Bullfight_HelpReqPacket","Bullfight_OpenCardReqPacket","Bullfight_ReadyReqPacket","Bullfight_TableDetailReqPacket","Bullfight_BetCoinRespPacket","Bullfight_CallBankerRespPacket","Bullfight_GetPlayersListRespPacket","Bullfight_HelpRespPacket","Bullfight_NotifyGameOverOncePacket","Bullfight_NotifyGameOverTotalPacket","Bullfight_NotifyGameStartPacket","Bullfight_NotifyKickOutPacket","Bullfight_NotifyNotBetPacket","Bullfight_NotifyNotCallBankerPacket","Bullfight_NotifyOpenCardPacket","Bullfight_NotifySureBankerPacket","Bullfight_OpenCardRespPacket","Bullfight_ReadyRespPacket","Bullfight_TableDetailRespPacket","Cmd_Bullfight","MessageFactory_Bullfight","Bullfight_AudioConfig","Bullfight_CardType","Bullfighgt_Menu","Bullfight_CarryView","Bullfight_CreateRoom","Bullfight_ExpressionView","Bullfight_MultCell","Bullfight_OwnerView","Bullfight_PlayerCell","Bullfight_Playerlist","Bullfight_RoomInfo","Bullfight_RuleView","Bullfight_TotalResult","Bullfight_TotalResultCell","Bullfight_Tourist","Bullfight_UserInfo","Bullfight_CardItem","Bullfight_CardLayout","Bullfight_Clock","Bullfight_CostomCardType","Bullfight_GameScene","Bullfight_GiftAnimation","Bullfight_PlayerItem","AssetsDownload","AssetsManager","GameConfig","HotUpdateManager","HttpRequest","MusicMgr","GamePlayer","GlobalEventManager","Player","BannerListReqPacket","BindReferralReqPacket","CarryCoinReqPacket","ChatReqPacket","ClubCreateRoomReqPacket","ClubDelMemberReqPacket","ClubOwnerConfirmReqPacket","ClubOwnerModifyRoleReqPacket","ClubUpgradeCostReqPacket","CreateClubReqPacket","CreateRoomReqPacket","CreateTableCostReqPacket","DismissClubReqPacket","DismissGameReqPacket","EnterRoomReqPacket","ExchangeGoldReqPacket","FindReqPacket","FindRoomReqPacket","GetClubListReqPacket","GetClubTableReqPacket","GetMemberListReqPacket","GetMsgListReqPacket","GetMsgNumReqPacket","HeartReqPacket","JoinClubReqPacket","LeaveGameReqPacket","LoginReqPacket","ModifyClubInfoReqPacket","MsgReadReqPacket","OwnerConfirmReqPacket","OwnerKickOutPlayerReqPacket","ScoreDetailReqPacket","ScoreListReqPacket","SearchClubReqPacket","ShopConfReqPacket","SitDownReqPacket","StartGameReqPacket","UserDetailReqPacket","BannerListRespPacket","BindReferralRespPacket","CarryCoinRespPacket","ChatRespPacket","ClubCreateRoomRespPacket","ClubDelMemberRespPacket","ClubOwnerConfirmRespPacket","ClubOwnerModifyRoleRespPacket","ClubUpgradeCostRespPacket","CreateClubRespPacket","CreateRoomRespPacket","CreateTableCostRespPacket","DismissClubRespPacket","DismissGameRespPacket","EnterRoomRespPacket","ExchangeGoldRespPacket","FindRespPacket","FindRoomRespPacket","GetClubListRespPacket","GetClubTableRespPacket","GetMemberListRespPacket","GetMsgListRespPacket","GetMsgNumRespPacket","HeartRespPacket","JoinClubRespPacket","LeaveGameRespPacket","LoginRespPacket","ModifyClubInfoRespPacket","MsgReadRespPacket","NotifyClubOwnerConfirmPacket","NotifyDismissGame","NotifyGameStartPacket","NotifyInGameRespPacket","NotifyOwnerOverPacket","NotifyOwnerSitPacket","NotifyPayOperatePacket","OwnerConfirmRespPacket","OwnerKickOutPlayerRespPacket","ScoreDetailRespPacket","ScoreListRespPacket","SearchClubRespPacket","ServerKickOutPacket","ShopConfRespPacket","SitDownRespPacket","StartGameRespPacket","UserDetailRespPacket","Cmd_Common","MessageFactory_Common","HttpConfig","HttpManager","HttpPacket","MessageFactory","Message","MessageReq","MessageResp","SocketConfig","SocketData","SocketManager","GVoiceJsb","GameCallOC","Platform","WeChatApi"]);
//# sourceMappingURL=project.js.map